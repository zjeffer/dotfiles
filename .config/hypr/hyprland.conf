#####################################################################
# ██╗  ██╗██╗   ██╗██████╗ ██████╗ ██╗      █████╗ ███╗   ██╗██████╗  
# ██║  ██║╚██╗ ██╔╝██╔══██╗██╔══██╗██║     ██╔══██╗████╗  ██║██╔══██╗ 
# ███████║ ╚████╔╝ ██████╔╝██████╔╝██║     ███████║██╔██╗ ██║██║  ██║ 
# ██╔══██║  ╚██╔╝  ██╔═══╝ ██╔══██╗██║     ██╔══██║██║╚██╗██║██║  ██║ 
# ██║  ██║   ██║   ██║     ██║  ██║███████╗██║  ██║██║ ╚████║██████╔╝ 
# ╚═╝  ╚═╝   ╚═╝   ╚═╝     ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═══╝╚═════╝  
#####################################################################

source ~/.config/zsh/.zshrc

$HYPR_FOLDER = ~/.config/hypr
$APP_FOLDER = $HYPR_FOLDER/apps
$CONFIG_FOLDER = $HYPR_FOLDER/configs

source = $CONFIG_FOLDER/env.conf
source = $CONFIG_FOLDER/monitors.conf
source = $CONFIG_FOLDER/window_rules.conf
source = $CONFIG_FOLDER/keybinds.conf
source = $CONFIG_FOLDER/input.conf


# Execute your favorite apps at launch
exec-once = xhost + local:
exec-once = hyprctl setcursor capitaine-cursors-light 24
exec-once = /usr/bin/gnome-keyring-daemon --start --components=gpg,pkcs11,secrets,ssh
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = bash $APP_FOLDER/waybar/launch.sh
exec-once = hyprpaper --config $APP_FOLDER/hyprpaper.conf
exec-once = nm-applet
exec-once = dunst
exec-once = ~/.config/activePlayer/mediaplayers.sh 2>~/.config/activePlayer/.mediaplayer.err
exec-once = ~/.local/share/hyprload/hyprload.sh
exec-once = ydotoold

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 5
    gaps_out = 10

    border_size = 4
    col.active_border = rgba(5e81acff)
    col.inactive_border = rgba(00000000)

    layout = dwindle
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    rounding = 5
    
    blur {
      enabled = true
      size = 3
      passes = 4
      ignore_opacity = true
      new_optimizations = true
    } 
    drop_shadow = true
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(2e3440ee)
}

animations {
    enabled = true

    # Some default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more
    animation = windows, 1, 1, default
    animation = windowsOut, 1, 2, default
    animation = border, 1, 5, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 3, default
    animation = workspaces, 1, 4, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section
    preserve_split = true # you probably want this
    
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_is_master = true
}

misc {
  vrr = 1
  focus_on_activate = true
  disable_hyprland_logo = true
}

plugin {
    hyprload {
        hyprload_headers = "~/.cache/paru/clone/hyprland-nvidia-git/src/hyprland-nvidia-git/" 
    }
    split-monitor-workspaces {
        count = 5
    }
}

debug {
  overlay = false
}


# this should always be at the bottom
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
