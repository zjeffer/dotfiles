var marketplace=(()=>{var R,P=Object.create,i=Object.defineProperty,_=Object.defineProperties,M=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,$=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,H=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S=(e,t)=>{for(var r in t=t||{})F.call(t,r)&&H(e,r,t[r]);if(D)for(var r of D(t))U.call(t,r)&&H(e,r,t[r]);return e},K=(e,t)=>_(e,j(t)),e=(e,t)=>function(){return t||(0,e[B(e)[0]])((t={exports:{}}).exports,t),t.exports},J=(t,r,a,n)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let e of B(r))F.call(t,e)||e===a||i(t,e,{get:()=>r[e],enumerable:!(n=M(r,e))||n.enumerable});return t},t=(e,t,r)=>(r=null!=e?P($(e)):{},J(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),b=e({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}}),W=e({"node_modules/void-elements/index.js"(e,t){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}}),Y=e({"node_modules/semver/internal/constants.js"(e,t){var r=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}}),X=e({"node_modules/semver/internal/debug.js"(e,t){var r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=r}}),Q=e({"node_modules/semver/internal/re.js"(e,t){var{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:n}=Y(),i=X(),o=(e=t.exports={}).re=[],s=e.safeRe=[],l=e.src=[],c=e.t={},u=0,t="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",n],[t,a]],n=(e,t,r)=>{var a=(e=>{for(var[t,r]of d)e=e.split(t+"*").join(`${t}{0,${r}}`).split(t+"+").join(`${t}{1,${r}}`);return e})(t),n=u++;i(e,n,t),c[e]=n,l[n]=t,o[n]=new RegExp(t,r?"g":void 0),s[n]=new RegExp(a,r?"g":void 0)};n("NUMERICIDENTIFIER","0|[1-9]\\d*"),n("NUMERICIDENTIFIERLOOSE","\\d+"),n("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${t}*`),n("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),n("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),n("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),n("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),n("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),n("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),n("BUILDIDENTIFIER",t+"+"),n("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),n("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),n("FULL",`^${l[c.FULLPLAIN]}$`),n("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),n("LOOSE",`^${l[c.LOOSEPLAIN]}$`),n("GTLT","((?:<|>)?=?)"),n("XRANGEIDENTIFIERLOOSE",l[c.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),n("XRANGEIDENTIFIER",l[c.NUMERICIDENTIFIER]+"|x|X|\\*"),n("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),n("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),n("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),n("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),n("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),n("COERCERTL",l[c.COERCE],!0),n("LONETILDE","(?:~>?)"),n("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",n("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),n("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),n("LONECARET","(?:\\^)"),n("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",n("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),n("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),n("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),n("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),n("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",n("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),n("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),n("STAR","(<|>)?=?\\s*\\*"),n("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),n("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),Z=e({"node_modules/semver/internal/parse-options.js"(e,t){var r=Object.freeze({loose:!0}),a=Object.freeze({});t.exports=e=>e?"object"!=typeof e?r:e:a}}),ee=e({"node_modules/semver/internal/identifiers.js"(e,t){var n=/^[0-9]+$/,r=(e,t)=>{var r=n.test(e),a=n.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a||(!a||r)&&e<t?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}}}),V=e({"node_modules/semver/classes/semver.js"(e,t){var n=X(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=Y(),{safeRe:i,t:o}=Q(),s=Z(),l=ee()["compareIdentifiers"],c=class{constructor(e,t){if(t=s(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;t=e.trim().match(t.loose?i[o.LOOSE]:i[o.FULL]);if(!t)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<a)return t}return e}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{var r=this.prerelease[t],a=e.prerelease[t];if(n("prerelease compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return l(r,a)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{var r=this.build[t],a=e.build[t];if(n("prerelease compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return l(r,a)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var a=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[a];else{let e=this.prerelease.length;for(;0<=--e;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);if(-1===e){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(t){let e=!1===r?[t]:[t,a];(0!==l(this.prerelease[0],t)||isNaN(this.prerelease[1]))&&(this.prerelease=e)}break;default:throw new Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}};t.exports=c}}),G=e({"node_modules/semver/functions/parse.js"(e,t){var a=V();t.exports=(e,t,r=!1)=>{if(e instanceof a)return e;try{return new a(e,t)}catch(e){if(r)throw e;return null}}}}),te=e({"node_modules/semver/functions/valid.js"(e,t){var r=G();t.exports=(e,t)=>{e=r(e,t);return e?e.version:null}}}),re=e({"node_modules/semver/functions/clean.js"(e,t){var r=G();t.exports=(e,t)=>{e=r(e.trim().replace(/^[=v]+/,""),t);return e?e.version:null}}}),ae=e({"node_modules/semver/functions/inc.js"(e,t){var i=V();t.exports=(e,t,r,a,n)=>{"string"==typeof r&&(n=a,a=r,r=void 0);try{return new i(e instanceof i?e.version:e,r).inc(t,a,n).version}catch(e){return null}}}}),ne=e({"node_modules/semver/functions/diff.js"(e,t){var i=G();t.exports=(e,t)=>{var r,a,e=i(e,null,!0),t=i(t,null,!0),n=e.compare(t);return 0===n?null:(a=!!(r=(n=0<n)?e:t).prerelease.length,!!(n=n?t:e).prerelease.length&&!a?n.patch||n.minor?r.patch?"patch":r.minor?"minor":"major":"major":(n=a?"pre":"",e.major!==t.major?n+"major":e.minor!==t.minor?n+"minor":e.patch!==t.patch?n+"patch":"prerelease"))}}}),ie=e({"node_modules/semver/functions/major.js"(e,t){var r=V();t.exports=(e,t)=>new r(e,t).major}}),oe=e({"node_modules/semver/functions/minor.js"(e,t){var r=V();t.exports=(e,t)=>new r(e,t).minor}}),se=e({"node_modules/semver/functions/patch.js"(e,t){var r=V();t.exports=(e,t)=>new r(e,t).patch}}),le=e({"node_modules/semver/functions/prerelease.js"(e,t){var r=G();t.exports=(e,t)=>{e=r(e,t);return e&&e.prerelease.length?e.prerelease:null}}}),z=e({"node_modules/semver/functions/compare.js"(e,t){var a=V();t.exports=(e,t,r)=>new a(e,r).compare(new a(t,r))}}),ce=e({"node_modules/semver/functions/rcompare.js"(e,t){var a=z();t.exports=(e,t,r)=>a(t,e,r)}}),ue=e({"node_modules/semver/functions/compare-loose.js"(e,t){var r=z();t.exports=(e,t)=>r(e,t,!0)}}),de=e({"node_modules/semver/functions/compare-build.js"(e,t){var a=V();t.exports=(e,t,r)=>{e=new a(e,r),t=new a(t,r);return e.compare(t)||e.compareBuild(t)}}}),pe=e({"node_modules/semver/functions/sort.js"(e,t){var a=de();t.exports=(e,r)=>e.sort((e,t)=>a(e,t,r))}}),he=e({"node_modules/semver/functions/rsort.js"(e,t){var a=de();t.exports=(e,r)=>e.sort((e,t)=>a(t,e,r))}}),me=e({"node_modules/semver/functions/gt.js"(e,t){var a=z();t.exports=(e,t,r)=>0<a(e,t,r)}}),fe=e({"node_modules/semver/functions/lt.js"(e,t){var a=z();t.exports=(e,t,r)=>a(e,t,r)<0}}),ge=e({"node_modules/semver/functions/eq.js"(e,t){var a=z();t.exports=(e,t,r)=>0===a(e,t,r)}}),ve=e({"node_modules/semver/functions/neq.js"(e,t){var a=z();t.exports=(e,t,r)=>0!==a(e,t,r)}}),be=e({"node_modules/semver/functions/gte.js"(e,t){var a=z();t.exports=(e,t,r)=>0<=a(e,t,r)}}),ye=e({"node_modules/semver/functions/lte.js"(e,t){var a=z();t.exports=(e,t,r)=>a(e,t,r)<=0}}),we=e({"node_modules/semver/functions/cmp.js"(e,t){var n=ge(),i=ve(),o=me(),s=be(),l=fe(),c=ye();t.exports=(e,t,r,a)=>{switch(t){case"===":return(e="object"==typeof e?e.version:e)===(r="object"==typeof r?r.version:r);case"!==":return(e="object"==typeof e?e.version:e)!==(r="object"==typeof r?r.version:r);case"":case"=":case"==":return n(e,r,a);case"!=":return i(e,r,a);case">":return o(e,r,a);case">=":return s(e,r,a);case"<":return l(e,r,a);case"<=":return c(e,r,a);default:throw new TypeError("Invalid operator: "+t)}}}}),ke=e({"node_modules/semver/functions/coerce.js"(e,t){var n=V(),i=G(),{safeRe:o,t:s}=Q();t.exports=(e,t)=>{if(e instanceof n)return e;if("string"!=typeof(e="number"==typeof e?String(e):e))return null;let r=null;if((t=t||{}).rtl){for(var a;(a=o[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&a.index+a[0].length===r.index+r[0].length||(r=a),o[s.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;o[s.COERCERTL].lastIndex=-1}else r=e.match(o[s.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.`+(r[4]||"0"),t)}}}),Se=e({"node_modules/yallist/iterator.js"(e,t){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}}}),Ee=e({"node_modules/yallist/yallist.js"(e,t){"use strict";function i(e){var t=this;if((t=t instanceof i?t:new i).tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(0<arguments.length)for(var r=0,a=arguments.length;r<a;r++)t.push(arguments[r]);return t}function o(e,t,r,a){if(!(this instanceof o))return new o(e,t,r,a);this.list=a,this.value=e,t?(t.next=this).prev=t:this.prev=null,r?(r.prev=this).next=r:this.next=null}(t.exports=i).Node=o,(i.create=i).prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){var t;e!==this.head&&(e.list&&e.list.removeNode(e),t=this.head,e.list=this,(e.next=t)&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++)},i.prototype.pushNode=function(e){var t;e!==this.tail&&(e.list&&e.list.removeNode(e),t=this.tail,e.list=this,(e.prev=t)&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++)},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){a=r=void 0;var r=this,a=arguments[e];r.tail=new o(a,r.tail,null,r),r.head||(r.head=r.tail),r.length++}return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){a=r=void 0;var r=this,a=arguments[e];r.head=new o(a,null,r.head,r),r.tail||(r.tail=r.head),r.length++}return this.length},i.prototype.pop=function(){var e;if(this.tail)return e=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e},i.prototype.shift=function(){var e;if(this.head)return e=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e},i.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,a=0;null!==r;a++)e.call(t,r.value,a,this),r=r.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,a=this.length-1;null!==r;a--)e.call(t,r.value,a,this),r=r.prev},i.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},i.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},i.prototype.map=function(e,t){t=t||this;for(var r=new i,a=this.head;null!==a;)r.push(e.call(t,a.value,this)),a=a.next;return r},i.prototype.mapReverse=function(e,t){t=t||this;for(var r=new i,a=this.tail;null!==a;)r.push(e.call(t,a.value,this)),a=a.prev;return r},i.prototype.reduce=function(e,t){var r,a=this.head;if(1<arguments.length)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");a=this.head.next,r=this.head.value}for(var n=0;null!==a;n++)r=e(r,a.value,n),a=a.next;return r},i.prototype.reduceReverse=function(e,t){var r,a=this.tail;if(1<arguments.length)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");a=this.tail.prev,r=this.tail.value}for(var n=this.length-1;null!==a;n--)r=e(r,a.value,n),a=a.prev;return r},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,n=this.head;null!==n&&a<e;a++)n=n.next;for(;null!==n&&a<t;a++,n=n.next)r.push(n.value)}return r},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,n=this.tail;null!==n&&t<a;a--)n=n.prev;for(;null!==n&&e<a;a--,n=n.prev)r.push(n.value)}return r},i.prototype.splice=function(e,t,...r){(e=e>this.length?this.length-1:e)<0&&(e=this.length+e);for(var a=0,n=this.head;null!==n&&a<e;a++)n=n.next;for(var i=[],a=0;n&&a<t;a++)i.push(n.value),n=this.removeNode(n);(n=null===n?this.tail:n)!==this.head&&n!==this.tail&&(n=n.prev);for(a=0;a<r.length;a++)n=function(e,t,r){r=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);null===r.next&&(e.tail=r);null===r.prev&&(e.head=r);return e.length++,r}(this,n,r[a]);return i},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var a=r.prev;r.prev=r.next,r.next=a}return this.head=t,this.tail=e,this};try{Se()(i)}catch(e){}}}),Ce=e({"node_modules/lru-cache/index.js"(e,t){"use strict";var r=Ee(),o=Symbol("max"),s=Symbol("length"),l=Symbol("lengthCalculator"),i=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),d=Symbol("noDisposeOnSet"),p=Symbol("lruList"),h=Symbol("cache"),n=Symbol("updateAgeOnGet"),a=()=>1,m=(e,t,r)=>{t=e[h].get(t);if(t){var a=t.value;if(f(e,a)){if(v(e,t),!e[i])return}else r&&(e[n]&&(t.value.now=Date.now()),e[p].unshiftNode(t));return a.value}},f=(e,t)=>{var r;return!(!t||!t.maxAge&&!e[c])&&(r=Date.now()-t.now,t.maxAge?r>t.maxAge:e[c]&&r>e[c])},g=t=>{if(t[s]>t[o])for(let e=t[p].tail;t[s]>t[o]&&null!==e;){var r=e.prev;v(t,e),e=r}},v=(e,t)=>{var r;t&&(r=t.value,e[u]&&e[u](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[p].removeNode(t))},b=class{constructor(e,t,r,a,n){this.key=e,this.value=t,this.length=r,this.now=a,this.maxAge=n||0}},y=(e,t,r,a)=>{let n=r.value;f(e,n)&&(v(e,r),e[i]||(n=void 0)),n&&t.call(a,n.value,n.key,e)};t.exports=class{constructor(e){if((e=(e="number"==typeof e?{max:e}:e)||{}).max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;var t=e.length||a;if(this[l]="function"!=typeof t?a:t,this[i]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[d]=e.noDisposeOnSet||!1,this[n]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,g(this)}get max(){return this[o]}set allowStale(e){this[i]=!!e}get allowStale(){return this[i]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){(e="function"!=typeof e?a:e)!==this[l]&&(this[l]=e,this[s]=0,this[p].forEach(e=>{e.length=this[l](e.value,e.key),this[s]+=e.length})),g(this)}get lengthCalculator(){return this[l]}get length(){return this[s]}get itemCount(){return this[p].length}rforEach(t,r){r=r||this;for(let e=this[p].tail;null!==e;){var a=e.prev;y(this,t,e,r),e=a}}forEach(t,r){r=r||this;for(let e=this[p].head;null!==e;){var a=e.next;y(this,t,e,r),e=a}}keys(){return this[p].toArray().map(e=>e.key)}values(){return this[p].toArray().map(e=>e.value)}reset(){this[u]&&this[p]&&this[p].length&&this[p].forEach(e=>this[u](e.key,e.value)),this[h]=new Map,this[p]=new r,this[s]=0}dump(){return this[p].map(e=>!f(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[p]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var a,n=r?Date.now():0,i=this[l](t,e);return this[h].has(e)?i>this[o]?(v(this,this[h].get(e)),!1):(a=this[h].get(e).value,this[u]&&!this[d]&&this[u](e,a.value),a.now=n,a.maxAge=r,a.value=t,this[s]+=i-a.length,a.length=i,this.get(e),g(this),!0):(a=new b(e,t,i,n,r)).length>this[o]?(this[u]&&this[u](e,t),!1):(this[s]+=a.length,this[p].unshift(a),this[h].set(e,this[p].head),g(this),!0)}has(e){return!!this[h].has(e)&&(e=this[h].get(e).value,!f(this,e))}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){var e=this[p].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(t){this.reset();var r=Date.now();for(let e=t.length-1;0<=e;e--){var a=t[e],n=a.e||0;0===n?this.set(a.k,a.v):0<(n=n-r)&&this.set(a.k,a.v,n)}}prune(){this[h].forEach((e,t)=>m(this,t,!1))}}}}),q=e({"node_modules/semver/classes/range.js"(e,t){var a=class{constructor(e,t){if(t=n(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof l)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(1<this.set.length){t=this.set[0];if(this.set=this.set.filter(e=>!v(e[0])),0===this.set.length)this.set=[t];else if(1<this.set.length)for(const r of this.set)if(1===r.length&&i(r[0])){this.set=[r];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){var t=((this.options.includePrerelease&&f)|(this.options.loose&&g))+":"+e,r=s.get(t);if(r)return r;var r=this.options.loose,a=r?p[h.HYPHENRANGELOOSE]:p[h.HYPHENRANGE];e=e.replace(a,I(this.options.includePrerelease)),d("hyphen replace",e),e=e.replace(p[h.COMPARATORTRIM],c),d("comparator trim",e),e=e.replace(p[h.TILDETRIM],u),d("tilde trim",e),e=e.replace(p[h.CARETTRIM],m),d("caret trim",e);let n=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>L(e,this.options));r&&(n=n.filter(e=>(d("loose invalid filter",e,this.options),!!e.match(p[h.COMPARATORLOOSE])))),d("range list",n);var i=new Map;for(const o of n.map(e=>new l(e,this.options))){if(v(o))return[o];i.set(o.value,o)}1<i.size&&i.has("")&&i.delete("");a=[...i.values()];return s.set(t,a),a}intersects(e,r){if(e instanceof a)return this.set.some(t=>o(t,r)&&e.set.some(e=>o(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))));throw new TypeError("a Range is required")}test(t){if(t){if("string"==typeof t)try{t=new r(t,this.options)}catch(e){return!1}for(let e=0;e<this.set.length;e++)if(O(this.set[e],t,this.options))return!0}return!1}};t.exports=a;var s=new(Ce())({max:1e3}),n=Z(),l=xe(),d=X(),r=V(),{safeRe:p,t:h,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:m}=Q(),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:g}=Y(),v=e=>"<0.0.0-0"===e.value,i=e=>""===e.value,o=(e,t)=>{let r=!0;var a=e.slice();let n=a.pop();for(;r&&a.length;)r=a.every(e=>n.intersects(e,t)),n=a.pop();return r},b=(e,t)=>(d("comp",e,t),e=S(e,t),d("caret",e),e=w(e,t),d("tildes",e),e=C(e,t),d("xrange",e),e=N(e,t),d("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(o,e)=>{e=e.loose?p[h.TILDELOOSE]:p[h.TILDE];return o.replace(e,(e,t,r,a,n)=>{d("tilde",o,e,t,r,a,n);let i;return i=y(t)?"":y(r)?`>=${t}.0.0 <${+t+1}.0.0-0`:y(a)?`>=${t}.${r}.0 <${t}.${+r+1}.0-0`:n?(d("replaceTilde pr",n),`>=${t}.${r}.${a}-${n} <${t}.${+r+1}.0-0`):`>=${t}.${r}.${a} <${t}.${+r+1}.0-0`,d("tilde return",i),i})},S=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(o,e)=>{d("caret",o,e);var t=e.loose?p[h.CARETLOOSE]:p[h.CARET];const s=e.includePrerelease?"-0":"";return o.replace(t,(e,t,r,a,n)=>{d("caret",o,e,t,r,a,n);let i;return i=y(t)?"":y(r)?`>=${t}.0.0${s} <${+t+1}.0.0-0`:y(a)?"0"===t?`>=${t}.${r}.0${s} <${t}.${+r+1}.0-0`:`>=${t}.${r}.0${s} <${+t+1}.0.0-0`:n?(d("replaceCaret pr",n),"0"===t?"0"===r?`>=${t}.${r}.${a}-${n} <${t}.${r}.${+a+1}-0`:`>=${t}.${r}.${a}-${n} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${a}-${n} <${+t+1}.0.0-0`):(d("no pr"),"0"===t?"0"===r?`>=${t}.${r}.${a}${s} <${t}.${r}.${+a+1}-0`:`>=${t}.${r}.${a}${s} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${a} <${+t+1}.0.0-0`),d("caret return",i),i})},C=(e,t)=>(d("replaceXRanges",e,t),e.split(/\s+/).map(e=>x(e,t)).join(" ")),x=(c,u)=>{c=c.trim();var e=u.loose?p[h.XRANGELOOSE]:p[h.XRANGE];return c.replace(e,(e,t,r,a,n,i)=>{d("xRange",c,e,t,r,a,n,i);var o=y(r),s=o||y(a),l=s||y(n);return"="===t&&l&&(t=""),i=u.includePrerelease?"-0":"",o?e=">"===t||"<"===t?"<0.0.0-0":"*":t&&l?(s&&(a=0),n=0,">"===t?(t=">=",n=s?(r=+r+1,a=0):(a=+a+1,0)):"<="===t&&(t="<",s?r=+r+1:a=+a+1),e=t+r+`.${a}.`+n+(i="<"===t?"-0":i)):s?e=`>=${r}.0.0${i} <${+r+1}.0.0-0`:l&&(e=`>=${r}.${a}.0${i} <${r}.${+a+1}.0-0`),d("xRange return",e),e})},N=(e,t)=>(d("replaceStars",e,t),e.trim().replace(p[h.STAR],"")),L=(e,t)=>(d("replaceGTE0",e,t),e.trim().replace(p[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),I=h=>(e,t,r,a,n,i,o,s,l,c,u,d,p)=>((t=y(r)?"":y(a)?`>=${r}.0.0`+(h?"-0":""):y(n)?`>=${r}.${a}.0`+(h?"-0":""):i?">="+t:">="+t+(h?"-0":""))+" "+(s=y(l)?"":y(c)?`<${+l+1}.0.0-0`:y(u)?`<${l}.${+c+1}.0-0`:d?`<=${l}.${c}.${u}-`+d:h?`<${l}.${c}.${+u+1}-0`:"<="+s)).trim(),O=(t,r,e)=>{for(let e=0;e<t.length;e++)if(!t[e].test(r))return!1;if(!r.prerelease.length||e.includePrerelease)return!0;for(let e=0;e<t.length;e++)if(d(t[e].semver),t[e].semver!==l.ANY&&0<t[e].semver.prerelease.length){var a=t[e].semver;if(a.major===r.major&&a.minor===r.minor&&a.patch===r.patch)return!0}return!1}}}),xe=e({"node_modules/semver/classes/comparator.js"(e,t){var r=Symbol("SemVer ANY"),a=class{static get ANY(){return r}constructor(e,t){if(t=n(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){var t=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],t=e.match(t);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new c(t[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(e instanceof a)return""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):(!(t=n(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&!(this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||s(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||s(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")));throw new TypeError("a Comparator is required")}},n=(t.exports=a,Z()),{safeRe:i,t:o}=Q(),s=we(),l=X(),c=V(),u=q()}}),Ne=e({"node_modules/semver/functions/satisfies.js"(e,t){var a=q();t.exports=(e,t,r)=>{try{t=new a(t,r)}catch(e){return!1}return t.test(e)}}}),Le=e({"node_modules/semver/ranges/to-comparators.js"(e,t){var r=q();t.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))}}),Ie=e({"node_modules/semver/ranges/max-satisfying.js"(e,t){var o=V(),s=q();t.exports=(e,t,r)=>{let a=null,n=null,i=null;try{i=new s(t,r)}catch(e){return null}return e.forEach(e=>{!i.test(e)||a&&-1!==n.compare(e)||(a=e,n=new o(a,r))}),a}}}),Oe=e({"node_modules/semver/ranges/min-satisfying.js"(e,t){var o=V(),s=q();t.exports=(e,t,r)=>{let a=null,n=null,i=null;try{i=new s(t,r)}catch(e){return null}return e.forEach(e=>{!i.test(e)||a&&1!==n.compare(e)||(a=e,n=new o(a,r))}),a}}}),Te=e({"node_modules/semver/ranges/min-version.js"(e,t){var i=V(),r=q(),o=me();t.exports=(t,e)=>{t=new r(t,e);let a=new i("0.0.0");if(t.test(a))return a;if(a=new i("0.0.0-0"),t.test(a))return a;a=null;for(let e=0;e<t.set.length;++e){var n=t.set[e];let r=null;n.forEach(e=>{var t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!o(t,r)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!r||a&&!o(a,r)||(a=r)}return a&&t.test(a)?a:null}}}),Ae=e({"node_modules/semver/ranges/valid.js"(e,t){var r=q();t.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}}}),Re=e({"node_modules/semver/ranges/outside.js"(e,t){var r=V(),p=xe(),h=p["ANY"],m=q(),f=Ne(),g=me(),v=fe(),b=ye(),y=be();t.exports=(a,n,e,i)=>{a=new r(a,i),n=new m(n,i);let o,s,l,c,u;switch(e){case">":o=g,s=b,l=v,c=">",u=">=";break;case"<":o=v,s=y,l=g,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(f(a,n,i))return!1;for(let e=0;e<n.set.length;++e){var d=n.set[e];let t=null,r=null;if(d.forEach(e=>{e.semver===h&&(e=new p(">=0.0.0")),t=t||e,r=r||e,o(e.semver,t.semver,i)?t=e:l(e.semver,r.semver,i)&&(r=e)}),t.operator===c||t.operator===u)return!1;if((!r.operator||r.operator===c)&&s(a,r.semver))return!1;if(r.operator===u&&l(a,r.semver))return!1}return!0}}}),Pe=e({"node_modules/semver/ranges/gtr.js"(e,t){var a=Re();t.exports=(e,t,r)=>a(e,t,">",r)}}),_e=e({"node_modules/semver/ranges/ltr.js"(e,t){var a=Re();t.exports=(e,t,r)=>a(e,t,"<",r)}}),Me=e({"node_modules/semver/ranges/intersects.js"(e,t){var a=q();t.exports=(e,t,r)=>(e=new a(e,r),t=new a(t,r),e.intersects(t,r))}}),je=e({"node_modules/semver/ranges/simplify.js"(e,t){var h=Ne(),m=z();t.exports=(e,t,r)=>{var a=[];let n=null,i=null;var o=e.sort((e,t)=>m(e,t,r));for(const p of o){var s=h(p,t,r);n=s?(i=p,n||p):(i&&a.push([n,i]),i=null)}n&&a.push([n,null]);var l,c,u=[];for([l,c]of a)l===c?u.push(l):c||l!==o[0]?c?l===o[0]?u.push("<="+c):u.push(l+" - "+c):u.push(">="+l):u.push("*");var e=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return e.length<d.length?e:t}}}),Be=e({"node_modules/semver/ranges/subset.js"(e,t){var s=q(),r=xe(),v=r["ANY"],b=Ne(),y=z(),w=[new r(">=0.0.0-0")],k=[new r(">=0.0.0")],S=(e,t,r)=>{return!e||!(0<(r=y(e.semver,t.semver,r)))&&(r<0||">"===t.operator&&">="===e.operator)?t:e},E=(e,t,r)=>{return!e||!((r=y(e.semver,t.semver,r))<0)&&(0<r||"<"===t.operator&&"<="===e.operator)?t:e};t.exports=(t,r,a={})=>{if(t!==r){t=new s(t,a),r=new s(r,a);let e=!1;e:for(const i of t.set){for(const o of r.set){var n=((s,l,c)=>{if(s!==l){if(1===s.length&&s[0].semver===v){if(1===l.length&&l[0].semver===v)return!0;s=c.includePrerelease?w:k}if(1===l.length&&l[0].semver===v){if(c.includePrerelease)return!0;l=k}var u=new Set,d,p;let e,t;for(const h of s)">"===h.operator||">="===h.operator?e=S(e,h,c):"<"===h.operator||"<="===h.operator?t=E(t,h,c):u.add(h.semver);if(1<u.size)return null;let r;if(e&&t){if(0<(r=y(e.semver,t.semver,c)))return null;if(0===r&&(">="!==e.operator||"<="!==t.operator))return null}for(const m of u){if(e&&!b(m,String(e),c))return null;if(t&&!b(m,String(t),c))return null;for(const f of l)if(!b(m,String(f),c))return!1;return!0}let a,n,i=!(!t||c.includePrerelease||!t.semver.prerelease.length)&&t.semver,o=!(!e||c.includePrerelease||!e.semver.prerelease.length)&&e.semver;i&&1===i.prerelease.length&&"<"===t.operator&&0===i.prerelease[0]&&(i=!1);for(const g of l){if(n=n||">"===g.operator||">="===g.operator,a=a||"<"===g.operator||"<="===g.operator,e)if(o&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===o.major&&g.semver.minor===o.minor&&g.semver.patch===o.patch&&(o=!1),">"===g.operator||">="===g.operator){if((d=S(e,g,c))===g&&d!==e)return!1}else if(">="===e.operator&&!b(e.semver,String(g),c))return!1;if(t)if(i&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===i.major&&g.semver.minor===i.minor&&g.semver.patch===i.patch&&(i=!1),"<"===g.operator||"<="===g.operator){if((p=E(t,g,c))===g&&p!==t)return!1}else if("<="===t.operator&&!b(t.semver,String(g),c))return!1;if(!g.operator&&(t||e)&&0!==r)return!1}if(e&&a&&!t&&0!==r)return!1;if(t&&n&&!e&&0!==r)return!1;if(o||i)return!1}return true})(i,o,a);if(e=e||null!==n,n)continue e}if(e)return!1}}return!0}}}),r=e({"node_modules/semver/index.js"(j,e){var t=Q(),r=Y(),a=V(),n=ee(),i=G(),o=te(),s=re(),l=ae(),c=ne(),u=ie(),d=oe(),p=se(),h=le(),m=z(),f=ce(),g=ue(),v=de(),b=pe(),y=he(),w=me(),k=fe(),S=ge(),E=ve(),C=be(),x=ye(),N=we(),L=ke(),I=xe(),O=q(),T=Ne(),A=Le(),R=Ie(),P=Oe(),_=Te(),M=Ae(),B=Re(),D=Pe(),$=_e(),F=Me(),U=je(),H=Be();e.exports={parse:i,valid:o,clean:s,inc:l,diff:c,major:u,minor:d,patch:p,prerelease:h,compare:m,rcompare:f,compareLoose:g,compareBuild:v,sort:b,rsort:y,gt:w,lt:k,eq:S,neq:E,gte:C,lte:x,cmp:N,coerce:L,Comparator:I,Range:O,satisfies:T,toComparators:A,maxSatisfying:R,minSatisfying:P,minVersion:_,validRange:M,outside:B,gtr:D,ltr:$,intersects:F,simplifyRange:U,subset:H,SemVer:a,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}}),a=e({"node_modules/chroma-js/chroma.js"(e,t){var r;r=function(){"use strict";for(var e=function(e,t,r){return void 0===r&&(r=1),e<(t=void 0===t?0:t)?t:r<e?r:e},j=e,B={},t=0,D=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];t<D.length;t+=1){var $=D[t];B["[object "+$+"]"]=$.toLowerCase()}function r(e){return B[Object.prototype.toString.call(e)]||"object"}function F(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===Y(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=!1;if(!(i=J(e))){r=!0,s.sorted||(s.autodetect=s.autodetect.sort(function(e,t){return t.p-e.p}),s.sorted=!0);for(var a=0,n=s.autodetect;a<n.length;a+=1){var i,o=n[a];if(i=o.test.apply(o,e))break}}if(!s.format[i])throw new Error("unknown format: "+e);r=s.format[i].apply(null,r?e:e.slice(0,-1)),this._rgb=W(r),3===this._rgb.length&&this._rgb.push(1)}function a(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(a.Color,[null].concat(e)))}function U(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Z(e,"cmyk"))[0],a=e[1],n=e[2],i=e[3],o=4<e.length?e[4]:1;return 1===i?[0,0,0,o]:[1<=r?0:255*(1-r)*(1-i),1<=a?0:255*(1-a)*(1-i),1<=n?0:255*(1-n)*(1-i),o]}function n(e){return Math.round(100*e)/100}function H(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,a,n=(e=oe(e,"rgba"))[0],i=e[1],o=e[2],s=(n/=255,i/=255,o/=255,Math.min(n,i,o)),l=Math.max(n,i,o),c=(l+s)/2;return l===s?(r=0,a=Number.NaN):r=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(i-o)/(l-s):i==l?a=2+(o-n)/(l-s):o==l&&(a=4+(n-i)/(l-s)),(a*=60)<0&&(a+=360),3<e.length&&void 0!==e[3]?[a,r,c,e[3]]:[a,r,c]}function V(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=se(e,"rgba"),a=le(e)||"rgb";return"hsl"==a.substr(0,3)?ce(ue(r),a):(r[0]=de(r[0]),r[1]=de(r[1]),r[2]=de(r[2]),("rgba"===a||3<r.length&&r[3]<1)&&(r[3]=3<r.length?r[3]:1,a="rgba"),a+"("+r.slice(0,"rgb"===a?3:4).join(",")+")")}function G(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,a,n,i=(e=pe(e,"hsl"))[0],o=e[1],s=e[2];if(0===o)r=a=n=255*s;else{var l=[0,0,0],c=[0,0,0],u=s<.5?s*(1+o):s+o-s*o,d=2*s-u,o=i/360;l[0]=o+1/3,l[1]=o,l[2]=o-1/3;for(var p=0;p<3;p++)l[p]<0&&(l[p]+=1),1<l[p]&&--l[p],c[p]=6*l[p]<1?d+6*(u-d)*l[p]:2*l[p]<1?u:3*l[p]<2?d+(u-d)*(2/3-l[p])*6:d;r=(s=[he(255*c[0]),he(255*c[1]),he(255*c[2])])[0],a=s[1],n=s[2]}return 3<e.length?[r,a,n,e[3]]:[r,a,n,1]}function z(e){var t,r;if(e=e.toLowerCase().trim(),fe.format.named)try{return fe.format.named(e)}catch(e){}if(t=e.match(ge)){for(var a=t.slice(1,4),n=0;n<3;n++)a[n]=+a[n];return a[3]=1,a}if(t=e.match(ve)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(be)){for(var s=t.slice(1,4),l=0;l<3;l++)s[l]=Se(2.55*s[l]);return s[3]=1,s}if(t=e.match(ye)){for(var c=t.slice(1,5),u=0;u<3;u++)c[u]=Se(2.55*c[u]);return c[3]=+c[3],c}return(t=e.match(we))?((r=t.slice(1,4))[1]*=.01,r[2]*=.01,(r=me(r))[3]=1,r):(t=e.match(ke))?((r=t.slice(1,4))[1]*=.01,r[2]*=.01,(e=me(r))[3]=+t[4],e):void 0}var q=r,K=r,i=Math.PI,e={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||255<e[t])&&(e._clipped=!0),e[t]=j(e[t],0,255)):3===t&&(e[t]=j(e[t],0,1));return e},limit:e,type:r,unpack:function(t,e){return void 0===e&&(e=null),3<=t.length?Array.prototype.slice.call(t):"object"==q(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(e){var t;return!(e.length<2)&&(t=e.length-1,"string"==K(e[t]))?e[t].toLowerCase():null},PI:i,TWOPI:2*i,PITHIRD:i/3,DEG2RAD:i/180,RAD2DEG:180/i},i={format:{},autodetect:[]},J=e.last,W=e.clip_rgb,Y=e.type,s=i,o=(F.prototype.toString=function(){return"function"==Y(this.hex)?this.hex():"["+this._rgb.join(",")+"]"},F),l=(a.Color=o,a.version="2.4.2",a),X=e.unpack,Q=Math.max,Z=e.unpack,c=l,ee=o,u=i,te=e.unpack,re=e.type,ae=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=X(e,"rgb"),a=r[0],n=r[1],r=r[2],i=1-Q(a/=255,Q(n/=255,r/=255)),o=i<1?1/(1-i):0;return[(1-a-i)*o,(1-n-i)*o,(1-r-i)*o,i]},ne=(ee.prototype.cmyk=function(){return ae(this._rgb)},c.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ee,[null].concat(e,["cmyk"])))},u.format.cmyk=U,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=te(e,"cmyk"),"array"===re(e)&&4===e.length)return"cmyk"}}),e.unpack),ie=e.last,oe=e.unpack,se=e.unpack,le=e.last,ce=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ne(e,"hsla"),a=ie(e)||"lsa";return r[0]=n(r[0]||0),r[1]=n(100*r[1])+"%",r[2]=n(100*r[2])+"%","hsla"===a||3<r.length&&r[3]<1?(r[3]=3<r.length?r[3]:1,a="hsla"):r.length=3,a+"("+r.join(",")+")"},ue=H,de=Math.round,pe=e.unpack,he=Math.round,me=G,fe=i,ge=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ve=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,be=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ye=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,we=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ke=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Se=Math.round;z.test=function(e){return ge.test(e)||ve.test(e)||be.test(e)||ye.test(e)||we.test(e)||ke.test(e)};function Ee(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var a,n,i,o=(t=qe(t,"hcg"))[0],s=t[1],l=t[2],c=(l*=255,255*s);if(0===s)a=n=i=l;else{360<(o=360===o?0:o)&&(o-=360),o<0&&(o+=360);var u=Ke(o/=60),o=o-u,d=l*(1-s),p=d+c*(1-o),h=d+c*o,m=d+c;switch(u){case 0:a=(e=[m,h,d])[0],n=e[1],i=e[2];break;case 1:a=(e=[p,m,d])[0],n=e[1],i=e[2];break;case 2:a=(e=[d,m,h])[0],n=e[1],i=e[2];break;case 3:a=(e=[d,p,m])[0],n=e[1],i=e[2];break;case 4:a=(e=[h,d,m])[0],n=e[1],i=e[2];break;case 5:a=(e=[m,d,p])[0],n=e[1],i=e[2]}}return[a,n,i,3<t.length?t[3]:1]}function Ce(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(i=Qe(e,"rgba"))[0],a=i[1],n=i[2],i=i[3],o=Ze(e)||"auto",s=(void 0===i&&(i=1),"auto"===o&&(o=i<1?"rgba":"rgb"),(s="000000"+(d(r)<<16|d(a)<<8|d(n)).toString(16)).substr(s.length-6)),l=(l="0"+d(255*i).toString(16)).substr(l.length-2);switch(o.toLowerCase()){case"rgba":return"#"+s+l;case"argb":return"#"+l+s;default:return"#"+s}}function xe(e){var t;if(e.match(et))return 3===(e=4!==e.length&&7!==e.length?e:e.substr(1)).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(t=parseInt(e,16))>>16,t>>8&255,255&t,1];if(e.match(tt))return 4===(e=5!==e.length&&9!==e.length?e:e.substr(1)).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),[(t=parseInt(e,16))>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100];throw new Error("unknown hex color: "+e)}function Ne(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,a,n,i=(e=ut(e,"hsi"))[0],o=e[1],s=e[2];return isNaN(i)&&(i=0),isNaN(o)&&(o=0),360<i&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?a=1-((n=(1-o)/3)+(r=(1+o*h(p*i)/h(pt-p*i))/3)):i<2/3?n=1-((r=(1-o)/3)+(a=(1+o*h(p*(i-=1/3))/h(pt-p*i))/3)):r=1-((a=(1-o)/3)+(n=(1+o*h(p*(i-=2/3))/h(pt-p*i))/3)),[255*(r=dt(s*r*3)),255*(a=dt(s*a*3)),255*(n=dt(s*n*3)),3<e.length?e[3]:1]}function Le(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var a,n,i,o=(t=Ct(t,"hsv"))[0],s=t[1],l=t[2];if(l*=255,0===s)a=n=i=l;else{360<(o=360===o?0:o)&&(o-=360),o<0&&(o+=360);var c=xt(o/=60),o=o-c,u=l*(1-s),d=l*(1-s*o),p=l*(1-s*(1-o));switch(c){case 0:a=(e=[l,p,u])[0],n=e[1],i=e[2];break;case 1:a=(e=[d,l,u])[0],n=e[1],i=e[2];break;case 2:a=(e=[u,l,p])[0],n=e[1],i=e[2];break;case 3:a=(e=[u,d,l])[0],n=e[1],i=e[2];break;case 4:a=(e=[p,u,l])[0],n=e[1],i=e[2];break;case 5:a=(e=[l,u,d])[0],n=e[1],i=e[2]}}return[a,n,i,3<t.length?t[3]:1]}function Ie(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(n=Tt(e,"rgb"))[0],a=n[1],n=n[2];return a=a,n=n,r=Rt(r=r),a=Rt(a),n=Rt(n),[(n=116*(a=(r=[Pt((.4124564*r+.3575761*a+.1804375*n)/m.Xn),Pt((.2126729*r+.7151522*a+.072175*n)/m.Yn),Pt((.0193339*r+.119192*a+.9503041*n)/m.Zn)])[1])-16)<0?0:n,500*(r[0]-a),200*(a-r[2])]}function Oe(e){return 255*(e<=.00304?12.92*e:1.055*Mt(e,1/2.4)-.055)}function Te(e){return e>f.t1?e*e*e:f.t2*(e-f.t0)}function Ae(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=_t(e,"lab"))[0],a=e[1],n=e[2],r=(r+16)/116,a=isNaN(a)?r:r+a/500,n=isNaN(n)?r:r-n/200;return r=f.Yn*Te(r),a=f.Xn*Te(a),n=f.Zn*Te(n),[Oe(3.2404542*a-1.5371385*r-.4985314*n),Oe(-.969266*a+1.8760108*r+.041556*n),Oe(.0556434*a-.2040259*r+1.0572252*n),3<e.length?e[3]:1]}function Re(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(n=Ft(e,"lab"))[0],a=n[1],n=n[2],i=Ht(a*a+n*n),n=(Vt(n,a)*Ut+360)%360;return[r,i,n=0===Gt(1e4*i)?Number.NaN:n]}function Pe(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(n=Jt(e,"lch"))[0],a=n[1],n=n[2];return isNaN(n)&&(n=0),[r,Xt(n*=Wt)*a,Yt(n)*a]}function _e(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Qt(e,"lch"))[0],a=e[1],n=e[2],a=(r=Zt(r,a,n))[0],n=r[1],r=r[2];return[(a=er(a,n,r))[0],a[1],a[2],3<e.length?e[3]:1]}function Me(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=tr(e,"hcl").reverse();return rr.apply(void 0,r)}function je(e){if("number"==dr(e)&&0<=e&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)}function Be(e){var t,r,a=(e=e/100)<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*w(r),e<20?0:.8274096064007395*(a=e-10)-254.76935184120902+115.67994401066147*w(a)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*w(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*w(r),255);return[t,r,a,1]}function De(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(n=Er(e,"rgb"))[0],a=n[1],n=n[2],r=[Lr(r/255),Lr(a/255),Lr(n/255)],i=Cr(.4122214708*(a=r[0])+.5363325363*(n=r[1])+.0514459929*(r=r[2])),o=Cr(.2119034982*a+.6806995451*n+.1073969566*r),a=Cr(.0883024619*a+.2817188376*n+.6299787005*r);return[.2104542553*i+.793617785*o-.0040720468*a,1.9779984951*i-2.428592205*o+.4505937099*a,.0259040371*i+.7827717662*o-.808675766*a]}var c=l,$e=o,u=i,Fe=e.type,Ue=V,He=z,Ve=($e.prototype.css=function(e){return Ue(this._rgb,e)},c.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply($e,[null].concat(e,["css"])))},u.format.css=He,u.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(!t.length&&"string"===Fe(e)&&He.test(e))return"css"}}),o),c=l,u=i,Ge=e.unpack,ze=(u.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Ge(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},c.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ve,[null].concat(e,["gl"])))},Ve.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]},e.unpack),qe=e.unpack,Ke=Math.floor,Je=e.unpack,We=e.type,u=l,Ye=o,c=i,Xe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,a=ze(e,"rgb"),n=a[0],i=a[1],a=a[2],o=Math.min(n,i,a),s=Math.max(n,i,a),l=s-o;return 0==l?r=Number.NaN:(n===s&&(r=(i-a)/l),i===s&&(r=2+(a-n)/l),a===s&&(r=4+(n-i)/l),(r*=60)<0&&(r+=360)),[r,100*l/255,o/(255-l)*100]},Qe=(Ye.prototype.hcg=function(){return Xe(this._rgb)},u.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ye,[null].concat(e,["hcg"])))},c.format.hcg=Ee,c.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Je(e,"hcg"),"array"===We(e)&&3===e.length)return"hcg"}}),e.unpack),Ze=e.last,d=Math.round,et=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,tt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,u=l,rt=o,at=e.type,c=i,nt=Ce,it=(rt.prototype.hex=function(e){return nt(this._rgb,e)},u.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(rt,[null].concat(e,["hex"])))},c.format.hex=xe,c.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(!t.length&&"string"===at(e)&&0<=[3,4,5,6,7,8,9].indexOf(e.length))return"hex"}}),e.unpack),ot=e.TWOPI,st=Math.min,lt=Math.sqrt,ct=Math.acos,ut=e.unpack,dt=e.limit,p=e.TWOPI,pt=e.PITHIRD,h=Math.cos,ht=e.unpack,mt=e.type,u=l,ft=o,c=i,gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,a=it(e,"rgb"),n=a[0],i=a[1],a=a[2],o=st(n/=255,i/=255,a/=255),s=(n+i+a)/3,o=0<s?1-o/s:0;return 0==o?r=NaN:(r=(n-i+(n-a))/2,r/=lt((n-i)*(n-i)+(n-a)*(i-a)),r=ct(r),i<a&&(r=ot-r),r/=ot),[360*r,o,s]},vt=(ft.prototype.hsi=function(){return gt(this._rgb)},u.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ft,[null].concat(e,["hsi"])))},c.format.hsi=Ne,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ht(e,"hsi"),"array"===mt(e)&&3===e.length)return"hsi"}}),e.unpack),bt=e.type,u=l,yt=o,c=i,wt=H,kt=(yt.prototype.hsl=function(){return wt(this._rgb)},u.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(yt,[null].concat(e,["hsl"])))},c.format.hsl=G,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=vt(e,"hsl"),"array"===bt(e)&&3===e.length)return"hsl"}}),e.unpack),St=Math.min,Et=Math.max,Ct=e.unpack,xt=Math.floor,Nt=e.unpack,Lt=e.type,u=l,It=o,c=i,Ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,a,n=(e=kt(e,"rgb"))[0],i=e[1],o=e[2],s=St(n,i,o),l=Et(n,i,o),s=l-s;return 0===l?(r=Number.NaN,a=0):(a=s/l,n===l&&(r=(i-o)/s),i===l&&(r=2+(o-n)/s),o===l&&(r=4+(n-i)/s),(r*=60)<0&&(r+=360)),[r,a,l/255]},u=(It.prototype.hsv=function(){return Ot(this._rgb)},u.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(It,[null].concat(e,["hsv"])))},c.format.hsv=Le,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Nt(e,"hsv"),"array"===Lt(e)&&3===e.length)return"hsv"}}),{Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452}),m=u,Tt=e.unpack,At=Math.pow,Rt=function(e){return(e/=255)<=.04045?e/12.92:At((e+.055)/1.055,2.4)},Pt=function(e){return e>m.t3?At(e,1/3):e/m.t2+m.t0},f=u,_t=e.unpack,Mt=Math.pow,jt=e.unpack,Bt=e.type,c=l,Dt=o,g=i,$t=Ie,Ft=(Dt.prototype.lab=function(){return $t(this._rgb)},c.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dt,[null].concat(e,["lab"])))},g.format.lab=Ae,g.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=jt(e,"lab"),"array"===Bt(e)&&3===e.length)return"lab"}}),e.unpack),Ut=e.RAD2DEG,Ht=Math.sqrt,Vt=Math.atan2,Gt=Math.round,zt=e.unpack,qt=Ie,Kt=Re,Jt=e.unpack,Wt=e.DEG2RAD,Yt=Math.sin,Xt=Math.cos,Qt=e.unpack,Zt=Pe,er=Ae,tr=e.unpack,rr=_e,ar=e.unpack,nr=e.type,c=l,v=o,ir=i,or=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=zt(e,"rgb"),a=r[0],n=r[1],r=r[2],a=qt(a,n,r),n=a[0],r=a[1],a=a[2];return Kt(n,r,a)},g=(v.prototype.lch=function(){return or(this._rgb)},v.prototype.hcl=function(){return or(this._rgb).reverse()},c.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v,[null].concat(e,["lch"])))},c.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v,[null].concat(e,["hcl"])))},ir.format.lch=_e,ir.format.hcl=Me,["lch","hcl"].forEach(function(r){return ir.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ar(e,r),"array"===nr(e)&&3===e.length)return r}})}),{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}),c=o,b=i,sr=e.type,y=g,lr=xe,cr=Ce,ur=(c.prototype.name=function(){for(var e=cr(this._rgb,"rgb"),t=0,r=Object.keys(y);t<r.length;t+=1){var a=r[t];if(y[a]===e)return a.toLowerCase()}return e},b.format.named=function(e){if(e=e.toLowerCase(),y[e])return lr(y[e]);throw new Error("unknown color name: "+e)},b.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(!t.length&&"string"===sr(e)&&y[e.toLowerCase()])return"named"}}),e.unpack),dr=e.type,c=l,pr=o,b=i,hr=e.type,mr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ur(e,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},c=(pr.prototype.num=function(){return mr(this._rgb)},c.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pr,[null].concat(e,["num"])))},b.format.num=je,b.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===hr(e[0])&&0<=e[0]&&e[0]<=16777215)return"num"}}),l),fr=o,b=i,gr=e.unpack,vr=e.type,br=Math.round,w=(fr.prototype.rgb=function(e){return!1===(e=void 0===e?!0:e)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(br)},fr.prototype.rgba=function(r){return void 0===r&&(r=!0),this._rgb.slice(0,4).map(function(e,t){return!(t<3)||!1===r?e:br(e)})},c.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fr,[null].concat(e,["rgb"])))},b.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=gr(e,"rgba");return void 0===r[3]&&(r[3]=1),r},b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=gr(e,"rgba"),"array"===vr(e)&&(3===e.length||4===e.length&&"number"==vr(e[3])&&0<=e[3]&&e[3]<=1))return"rgb"}}),Math.log),yr=Be,wr=e.unpack,kr=Math.round,c=l,k=o,b=i,Sr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=wr(e,"rgb"),a=r[0],n=r[2],i=1e3,o=4e4;.4<o-i;){var s,l=yr(s=.5*(o+i));l[2]/l[0]>=n/a?o=s:i=s}return kr(s)},Er=(k.prototype.temp=k.prototype.kelvin=k.prototype.temperature=function(){return Sr(this._rgb)},c.temp=c.kelvin=c.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(k,[null].concat(e,["temp"])))},b.format.temp=b.format.kelvin=b.format.temperature=Be,e.unpack),Cr=Math.cbrt,xr=Math.pow,Nr=Math.sign;function Lr(e){var t=Math.abs(e);return t<.04045?e/12.92:(Nr(e)||1)*xr((t+.055)/1.055,2.4)}function Ir(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Or(e,"lab"))[0],a=e[1],n=e[2],i=S(r+.3963377774*a+.2158037573*n,3),o=S(r-.1055613458*a-.0638541728*n,3),r=S(r-.0894841775*a-1.291485548*n,3);return[255*Ar(4.0767416621*i-3.3077115913*o+.2309699292*r),255*Ar(-1.2684380046*i+2.6097574011*o-.3413193965*r),255*Ar(-.0041960863*i-.7034186147*o+1.707614701*r),3<e.length?e[3]:1]}var Or=e.unpack,S=Math.pow,Tr=Math.sign;function Ar(e){var t=Math.abs(e);return.0031308<t?(Tr(e)||1)*(1.055*S(t,1/2.4)-.055):12.92*e}function Rr(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Fr(e,"lch"))[0],a=e[1],n=e[2],a=(r=Ur(r,a,n))[0],n=r[1],r=r[2];return[(a=Hr(a,n,r))[0],a[1],a[2],3<e.length?e[3]:1]}var Pr=e.unpack,_r=e.type,c=l,Mr=o,b=i,jr=De,Br=(Mr.prototype.oklab=function(){return jr(this._rgb)},c.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Mr,[null].concat(e,["oklab"])))},b.format.oklab=Ir,b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pr(e,"oklab"),"array"===_r(e)&&3===e.length)return"oklab"}}),e.unpack),Dr=De,$r=Re,Fr=e.unpack,Ur=Pe,Hr=Ir,Vr=e.unpack,Gr=e.type,c=l,zr=o,b=i,qr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Br(e,"rgb"),a=r[0],n=r[1],r=r[2],a=Dr(a,n,r),n=a[0],r=a[1],a=a[2];return $r(n,r,a)},Kr=(zr.prototype.oklch=function(){return qr(this._rgb)},c.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(zr,[null].concat(e,["oklch"])))},b.format.oklch=Rr,b.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Vr(e,"oklch"),"array"===Gr(e)&&3===e.length)return"oklch"}}),o),Jr=e.type;Kr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Jr(e)?t?(this._rgb[3]=e,this):new Kr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};o.prototype.clipped=function(){return this._rgb._clipped||!1};var E=o,Wr=u;E.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Wr.Kn*e,new E(t,"lab").alpha(this.alpha(),!0)},E.prototype.brighten=function(e){return this.darken(-(e=void 0===e?1:e))},E.prototype.darker=E.prototype.darken,E.prototype.brighter=E.prototype.brighten;function Yr(e,t,r){void 0===r&&(r=.5);for(var a=[],n=arguments.length-3;0<n--;)a[n]=arguments[n+3];var i=a[0]||"lrgb";if(N[i]||a.length||(i=Object.keys(N)[0]),N[i])return"object"!==na(e)&&(e=new aa(e)),"object"!==na(t)&&(t=new aa(t)),N[i](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()));throw new Error("interpolation mode "+i+" is not defined")}function C(e,t,r,a){var n,i,o,s,l,c,u,d,p,h;return"hsl"===a?(h=e.hsl(),n=t.hsl()):"hsv"===a?(h=e.hsv(),n=t.hsv()):"hcg"===a?(h=e.hcg(),n=t.hcg()):"hsi"===a?(h=e.hsi(),n=t.hsi()):"lch"===a||"hcl"===a?(a="hcl",h=e.hcl(),n=t.hcl()):"oklch"===a&&(h=e.oklch().reverse(),n=t.oklch().reverse()),"h"!==a.substr(0,1)&&"oklch"!==a||(i=(e=h)[0],s=e[1],c=e[2],o=(t=n)[0],l=t[1],u=t[2]),isNaN(i)||isNaN(o)?isNaN(i)?isNaN(o)?p=Number.NaN:(p=o,1!=c&&0!=c||"hsv"==a||(d=l)):(p=i,1!=u&&0!=u||"hsv"==a||(d=s)):p=i+r*(i<o&&180<o-i?o-(i+360):o<i&&180<i-o?o+360-i:o-i),void 0===d&&(d=s+r*(l-s)),h=c+r*(u-c),new fa("oklch"===a?[h,d,p]:[p,d,h],a)}function Xr(e,t,r){return ga(e,t,r,"lch")}function Qr(c){function r(e){if((e=e||["#fff","#000"])&&"string"===O(e)&&I.brewer&&I.brewer[e.toLowerCase()]&&(e=I.brewer[e.toLowerCase()]),"array"===O(e)){e=(e=1===e.length?[e[0],e[0]]:e).slice(0);for(var t=0;t<e.length;t++)e[t]=I(e[t]);for(var r=l.length=0;r<e.length;r++)l.push(r/(e.length-1))}a(),f=e}function u(e,t){var r,a;if(null==t&&(t=!1),isNaN(e)||null===e)return s;if(a=t?e:m&&2<m.length?k(e)/(m.length-2):v!==g?(e-g)/(v-g):1,a=E(a),t||(a=S(a)),1!==w&&(a=Ra(a,w)),a=h[0]+a*(1-h[0]-h[1]),a=Math.min(1,Math.max(0,a)),e=Math.floor(1e4*a),y&&b[e])r=b[e];else{if("array"===O(f))for(var n=0;n<l.length;n++){var i=l[n];if(a<=i){r=f[n];break}if(i<=a&&n===l.length-1){r=f[n];break}if(i<a&&a<l[n+1]){a=(a-i)/(l[n+1]-i),r=I.interpolate(f[n],f[n+1],a,o);break}}else"function"===O(f)&&(r=f(a));y&&(b[e]=r)}return r}function a(){b={}}function d(e){return e=I(u(e)),n&&e[n]?e[n]():e}var o="rgb",s=I("#ccc"),t=0,p=[0,1],l=[],h=[0,0],m=!1,f=[],n=!1,g=0,v=1,b={},y=!0,w=1,k=function(e){if(null==m)return 0;for(var t=m.length-1,r=0;r<t&&e>=m[r];)r++;return r-1},S=function(e){return e},E=function(e){return e};return r(c),d.classes=function(e){var t;return null!=e?("array"===O(e)?p=[(m=e)[0],e[e.length-1]]:(t=I.analyze(p),m=0===e?[t.min,t.max]:I.limits(t,"e",e)),d):m},d.domain=function(r){if(!arguments.length)return p;g=r[0],v=r[r.length-1],l=[];var e=f.length;if(r.length===e&&g!==v)for(var t=0,a=Array.from(r);t<a.length;t+=1){var n=a[t];l.push((n-g)/(v-g))}else{for(var i,o,s=0;s<e;s++)l.push(s/(e-1));2<r.length&&(i=r.map(function(e,t){return t/(r.length-1)}),(o=r.map(function(e){return(e-g)/(v-g)})).every(function(e,t){return i[t]===e})||(E=function(e){if(e<=0||1<=e)return e;for(var t=0;e>=o[t+1];)t++;var r=(e-o[t])/(o[t+1]-o[t]);return i[t]+r*(i[t+1]-i[t])}))}return p=[g,v],d},d.mode=function(e){return arguments.length?(o=e,a(),d):o},d.range=function(e,t){return r(e),d},d.out=function(e){return n=e,d},d.spread=function(e){return arguments.length?(t=e,d):t},d.correctLightness=function(e){return a(),S=(e=null==e?!0:e)?function(e){for(var t=u(0,!0).lab()[0],r=u(1,!0).lab()[0],a=r<t,n=u(e,!0).lab()[0],i=t+(r-t)*e,o=n-i,s=0,l=1,c=20;.01<Math.abs(o)&&0<c--;)a&&(o*=-1),e+=o<0?.5*(l-(s=e)):.5*(s-(l=e)),n=u(e,!0).lab()[0],o=n-i;return e}:function(e){return e},d},d.padding=function(e){return null!=e?("number"===O(e)&&(e=[e,e]),h=e,d):h},d.colors=function(t,r){arguments.length<2&&(r="hex");var e=[];if(0===arguments.length)e=f.slice(0);else if(1===t)e=[d(.5)];else if(1<t)var a=p[0],n=p[1]-a,e=function(e,t,r){for(var a=[],n=e<t,i=r?n?t+1:t-1:t,o=e;n?o<i:i<o;n?o++:o--)a.push(o);return a}(0,t,!1).map(function(e){return d(a+e/(t-1)*n)});else{c=[];var i=[];if(m&&2<m.length)for(var o=1,s=m.length,l=1<=s;l?o<s:s<o;l?o++:o--)i.push(.5*(m[o-1]+m[o]));else i=p;e=i.map(d)}return e=I[r]?e.map(function(e){return e[r]()}):e},d.cache=function(e){return null!=e?(y=e,d):y},d.gamma=function(e){return null!=e?(w=e,d):w},d.nodata=function(e){return null!=e?(s=I(e),d):s},d}o.prototype.get=function(e){var e=e.split("."),t=e[0],e=e[1],r=this[t]();if(e){var a=t.indexOf(e)-("ok"===t.substr(0,2)?2:0);if(-1<a)return r[a];throw new Error("unknown channel "+e+" in mode "+t)}return r};var x=o,Zr=e.type,ea=Math.pow,ta=(x.prototype.luminance=function(n){var i,o,s,e;return void 0!==n&&"number"===Zr(n)?0===n?new x([0,0,0,this._rgb[3]],"rgb"):1===n?new x([255,255,255,this._rgb[3]],"rgb"):(e=this.luminance(),i="rgb",o=20,s=function(e,t){var r=e.interpolate(t,.5,i),a=r.luminance();return Math.abs(n-a)<1e-7||!o--?r:n<a?s(e,r):s(r,t)},e=(n<e?s(new x([0,0,0]),this):s(this,new x([255,255,255]))).rgb(),new x(e.concat([this._rgb[3]]))):ta.apply(void 0,this._rgb.slice(0,3))},function(e,t,r){return.2126*(e=ra(e))+.7152*(t=ra(t))+.0722*(r=ra(r))}),ra=function(e){return(e/=255)<=.03928?e/12.92:ea((e+.055)/1.055,2.4)},i={},aa=o,na=e.type,N=i,c=o,ia=Yr,oa=(c.prototype.mix=c.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],a=arguments.length-2;0<a--;)r[a]=arguments[a+2];return ia.apply(void 0,[this,e,t].concat(r))},o),sa=(oa.prototype.premultiply=function(e){var t=this._rgb,r=t[3];return(e=void 0===e?!1:e)?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new oa([t[0]*r,t[1]*r,t[2]*r,r],"rgb")},o),la=u,ca=(sa.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=la.Kn*e,t[1]<0&&(t[1]=0),new sa(t,"lch").alpha(this.alpha(),!0)},sa.prototype.desaturate=function(e){return this.saturate(-(e=void 0===e?1:e))},o),ua=e.type,da=(ca.prototype.set=function(e,t,r){void 0===r&&(r=!1);var e=e.split("."),a=e[0],e=e[1],n=this[a]();if(e){var i=a.indexOf(e)-("ok"===a.substr(0,2)?2:0);if(-1<i){if("string"==ua(t))switch(t.charAt(0)){case"+":case"-":n[i]+=+t;break;case"*":n[i]*=+t.substr(1);break;case"/":n[i]/=+t.substr(1);break;default:n[i]=+t}else{if("number"!==ua(t))throw new Error("unsupported value for Color.set");n[i]=t}var o=new ca(n,a);return r?(this._rgb=o._rgb,this):o}throw new Error("unknown channel "+e+" in mode "+a)}return n},o),pa=(i.rgb=function(e,t,r){e=e._rgb,t=t._rgb;return new da(e[0]+r*(t[0]-e[0]),e[1]+r*(t[1]-e[1]),e[2]+r*(t[2]-e[2]),"rgb")},o),ha=Math.sqrt,L=Math.pow,ma=(i.lrgb=function(e,t,r){var e=e._rgb,a=e[0],n=e[1],e=e[2],t=t._rgb,i=t[0],o=t[1],t=t[2];return new pa(ha(L(a,2)*(1-r)+L(i,2)*r),ha(L(n,2)*(1-r)+L(o,2)*r),ha(L(e,2)*(1-r)+L(t,2)*r),"rgb")},o),fa=(i.lab=function(e,t,r){e=e.lab(),t=t.lab();return new ma(e[0]+r*(t[0]-e[0]),e[1]+r*(t[1]-e[1]),e[2]+r*(t[2]-e[2]),"lab")},o),ga=C,va=(i.lch=Xr,i.hcl=Xr,o),ba=(i.num=function(e,t,r){e=e.num(),t=t.num();return new va(e+r*(t-e),"num")},C),ya=(i.hcg=function(e,t,r){return ba(e,t,r,"hcg")},C),wa=(i.hsi=function(e,t,r){return ya(e,t,r,"hsi")},C),ka=(i.hsl=function(e,t,r){return wa(e,t,r,"hsl")},C),Sa=(i.hsv=function(e,t,r){return ka(e,t,r,"hsv")},o),Ea=(i.oklab=function(e,t,r){e=e.oklab(),t=t.oklab();return new Sa(e[0]+r*(t[0]-e[0]),e[1]+r*(t[1]-e[1]),e[2]+r*(t[2]-e[2]),"oklab")},C),Ca=(i.oklch=function(e,t,r){return Ea(e,t,r,"oklch")},o),xa=e.clip_rgb,Na=Math.pow,La=Math.sqrt,Ia=Math.PI,Oa=Math.cos,Ta=Math.sin,Aa=Math.atan2,I=l,O=e.type,Ra=Math.pow;for(var T=o,Pa=Qr,_a=function(e){for(var t=[1,1],r=1;r<e;r++){for(var a=[1],n=1;n<=t.length;n++)a[n]=(t[n]||0)+t[n-1];t=a}return t},Ma=l,A=function(e,t,r){if(A[r])return A[r](e,t);throw new Error("unknown blend mode "+r)},b=function(r){return function(e,t){t=Ma(t).rgb(),e=Ma(e).rgb();return Ma.rgb(r(t,e))}},c=function(a){return function(e,t){var r=[];return r[0]=a(e[0],t[0]),r[1]=a(e[1],t[1]),r[2]=a(e[2],t[2]),r}},u=(A.normal=b(c(function(e){return e})),A.multiply=b(c(function(e,t){return e*t/255})),A.screen=b(c(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),A.overlay=b(c(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),A.darken=b(c(function(e,t){return t<e?t:e})),A.lighten=b(c(function(e,t){return t<e?e:t})),A.dodge=b(c(function(e,t){return 255===e||255<(e=t/255*255/(1-e/255))?255:e})),A.burn=b(c(function(e,t){return 255*(1-(1-t/255)/(e/255))})),A),ja=e.type,Ba=e.clip_rgb,Da=e.TWOPI,$a=Math.pow,Fa=Math.sin,Ua=Math.cos,Ha=l,Va=o,Ga=Math.floor,za=Math.random,qa=r,Ka=Math.log,Ja=Math.pow,Wa=Math.floor,Ya=Math.abs,Xa=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return(e="object"===qa(e)?Object.values(e):e).forEach(function(e){null==(e=t&&"object"===qa(e)?e[t]:e)||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),r.max<e&&(r.max=e),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(e,t){return Qa(r,e,t)},r},Qa=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7);var a=(e="array"==qa(e)?Xa(e):e).min,n=e.max,i=e.values.sort(function(e,t){return e-t});if(1===r)return[a,n];var o=[];if("c"===t.substr(0,1)&&(o.push(a),o.push(n)),"e"===t.substr(0,1)){o.push(a);for(var s=1;s<r;s++)o.push(a+s/r*(n-a));o.push(n)}else if("l"===t.substr(0,1)){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Ka(a),j=Math.LOG10E*Ka(n);o.push(a);for(var c=1;c<r;c++)o.push(Ja(10,l+c/r*(j-l)));o.push(n)}else if("q"===t.substr(0,1)){o.push(a);for(var u=1;u<r;u++){var d=(i.length-1)*u/r,p=Wa(d);o.push(p===d?i[p]:i[p]*(1-(d=d-p))+i[p+1]*d)}o.push(n)}else if("k"===t.substr(0,1)){var h,m=i.length,f=new Array(m),g=new Array(r),v=!0,B=0,b=null;(b=[]).push(a);for(var y=1;y<r;y++)b.push(a+y/r*(n-a));for(b.push(n);v;){for(var w=0;w<r;w++)g[w]=0;for(var k=0;k<m;k++)for(var D=i[k],$=Number.MAX_VALUE,S=void 0,E=0;E<r;E++){var F=Ya(b[E]-D);F<$&&($=F,S=E),g[S]++,f[k]=S}for(var C=new Array(r),x=0;x<r;x++)C[x]=null;for(var N=0;N<m;N++)null===C[h=f[N]]?C[h]=i[N]:C[h]+=i[N];for(var L=0;L<r;L++)C[L]*=1/g[L];for(var v=!1,I=0;I<r;I++)if(C[I]!==b[I]){v=!0;break}b=C,200<++B&&(v=!1)}for(var O={},T=0;T<r;T++)O[T]=[];for(var A=0;A<m;A++)O[h=f[A]].push(i[A]);for(var R=[],P=0;P<r;P++)R.push(O[P][0]),R.push(O[P][O[P].length-1]);R=R.sort(function(e,t){return e-t}),o.push(R[0]);for(var _=1;_<R.length;_+=2){var M=R[_];isNaN(M)||-1!==o.indexOf(M)||o.push(M)}}return o},i=Xa,b=Qa,Za=o,en=o,R=Math.sqrt,P=Math.pow,tn=Math.min,rn=Math.max,an=Math.atan2,nn=Math.abs,_=Math.cos,on=Math.sin,sn=Math.exp,ln=Math.PI,cn=o,un=o,dn=l,pn=Qr,c={cool:function(){return pn([dn.hsl(180,1,.9),dn.hsl(250,.7,.4)])},hot:function(){return pn(["#000","#f00","#ff0","#fff"]).mode("rgb")}},M={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},hn=0,mn=Object.keys(M);hn<mn.length;hn+=1){var fn=mn[hn];M[fn.toLowerCase()]=M[fn]}e=M,o=l;return o.average=function(e,i,o){void 0===i&&(i="lrgb"),void 0===o&&(o=null);var t=e.length,r=t/(o=o||Array.from(new Array(t)).map(function(){return 1})).reduce(function(e,t){return e+t});if(o.forEach(function(e,t){o[t]*=r}),e=e.map(function(e){return new Ca(e)}),"lrgb"===i){for(var a=e,n=o,s=a.length,l=[0,0,0,0],c=0;c<a.length;c++){var u=a[c];var d=n[c]/s;u=u._rgb;l[0]+=Na(u[0],2)*d;l[1]+=Na(u[1],2)*d;l[2]+=Na(u[2],2)*d;l[3]+=u[3]*d}if(l[0]=La(l[0]),l[1]=La(l[1]),l[2]=La(l[2]),l[3]>.9999999)l[3]=1;return new Ca(xa(l))}for(var p,h=e.shift(),m=h.get(i),f=[],g=0,v=0,b=0;b<m.length;b++)m[b]=(m[b]||0)*o[0],f.push(isNaN(m[b])?0:o[0]),"h"!==i.charAt(b)||isNaN(m[b])||(p=m[b]/180*Ia,g+=Oa(p)*o[0],v+=Ta(p)*o[0]);var y=h.alpha()*o[0];e.forEach(function(e,t){var r=e.get(i);y+=e.alpha()*o[t+1];for(var a,n=0;n<m.length;n++)isNaN(r[n])||(f[n]+=o[t+1],"h"===i.charAt(n)?(a=r[n]/180*Ia,g+=Oa(a)*o[t+1],v+=Ta(a)*o[t+1]):m[n]+=r[n]*o[t+1])});for(var w=0;w<m.length;w++)if("h"===i.charAt(w)){for(var k=Aa(v/f[w],g/f[w])/Ia*180;k<0;)k+=360;for(;360<=k;)k-=360;m[w]=k}else m[w]=m[w]/f[w];return y/=t,new Ca(m,i).alpha(.99999<y?1:y,!0)},o.bezier=function(e){var t=function(e){if(2===(e=e.map(function(e){return new T(e)})).length)o=e.map(function(e){return e.lab()}),r=o[0],a=o[1],o=function(t){var e=[0,1,2].map(function(e){return r[e]+t*(a[e]-r[e])});return new T(e,"lab")};else if(3===e.length)t=e.map(function(e){return e.lab()}),r=t[0],a=t[1],n=t[2],o=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*r[e]+2*(1-t)*t*a[e]+t*t*n[e]});return new T(e,"lab")};else if(4===e.length)var t,r=(t=e.map(function(e){return e.lab()}))[0],a=t[1],n=t[2],i=t[3],o=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*r[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*n[e]+t*t*t*i[e]});return new T(e,"lab")};else{if(!(5<=e.length))throw new RangeError("No point in running bezier with only one color.");var s=e.map(function(e){return e.lab()}),l=e.length-1,c=_a(l);o=function(n){var i=1-n,e=[0,1,2].map(function(a){return s.reduce(function(e,t,r){return e+c[r]*Math.pow(i,l-r)*Math.pow(n,r)*t[a]},0)});return new T(e,"lab")}}return o}(e);return t.scale=function(){return Pa(t)},t},o.blend=u,o.cubehelix=function(n,i,o,s,l){void 0===n&&(n=300),void 0===i&&(i=-1.5),void 0===o&&(o=1),void 0===s&&(s=1);function t(e){var t=Da*((n+120)/360+i*e),r=$a(l[0]+c*e,s),e=(0!==u?o[0]+e*u:o)*r*(1-r)/2,a=Ua(t),t=Fa(t);return Ha(Ba([255*(r+e*(-.14861*a+1.78277*t)),255*(r+e*(-.29227*a-.90649*t)),255*(r+1.97294*a*e),1]))}var c,u=0;"array"===ja(l=void 0===l?[0,1]:l)?c=l[1]-l[0]:(c=0,l=[l,l]);return t.start=function(e){return null==e?n:(n=e,t)},t.rotations=function(e){return null==e?i:(i=e,t)},t.gamma=function(e){return null==e?s:(s=e,t)},t.hue=function(e){return null==e?o:("array"===ja(o=e)?0===(u=o[1]-o[0])&&(o=o[1]):u=0,t)},t.lightness=function(e){return null==e?l:(c="array"===ja(e)?(l=e)[1]-e[0]:(l=[e,e],0),t)},t.scale=function(){return Ha.scale(t)},t.hue(o),t},o.mix=o.interpolate=Yr,o.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(Ga(16*za()));return new Va(e,"hex")},o.scale=Qr,o.analyze=i,o.contrast=function(e,t){e=new Za(e),t=new Za(t);e=e.luminance(),t=t.luminance();return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)},o.deltaE=function(e,t,r,a,n){void 0===r&&(r=1),void 0===a&&(a=1),void 0===n&&(n=1);function i(e){return 360*e/(2*ln)}function o(e){return 2*ln*e/360}e=new en(e),t=new en(t);var e=Array.from(e.lab()),s=e[0],l=e[1],e=e[2],t=Array.from(t.lab()),c=t[0],u=t[1],t=t[2],d=(s+c)/2,p=(R(P(l,2)+P(e,2))+R(P(u,2)+P(t,2)))/2,p=.5*(1-R(P(p,7)/(P(p,7)+P(25,7)))),l=l*(1+p),u=u*(1+p),p=R(P(l,2)+P(e,2)),h=R(P(u,2)+P(t,2)),m=(p+h)/2,e=i(an(e,l)),l=i(an(t,u)),t=0<=e?e:e+360,u=0<=l?l:l+360,e=180<nn(t-u)?(t+u+360)/2:(t+u)/2,l=1-.17*_(o(e-30))+.24*_(o(2*e))+.32*_(o(3*e+6))-.2*_(o(4*e-63)),f=nn(f=u-t)<=180?f:u<=t?360+f:f-360,u=(f=2*R(p*h)*on(o(f)/2),c-s),t=h-p,c=1+.015*P(d-50,2)/R(20+P(d-50,2)),s=1+.045*m,h=1+.015*m*l,p=30*sn(-P((e-275)/25,2)),d=-(2*R(P(m,7)/(P(m,7)+P(25,7))))*on(2*o(p)),l=R(P(u/(r*c),2)+P(t/(a*s),2)+P(f/(n*h),2)+t/(a*s)*d*(f/(n*h)));return rn(0,tn(100,l))},o.distance=function(e,t,r){void 0===r&&(r="lab"),e=new cn(e),t=new cn(t);var a,n=e.get(r),i=t.get(r),o=0;for(a in n){var s=(n[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},o.limits=b,o.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(un,[null].concat(e))),!0}catch(e){return!1}},o.scales=c,o.colors=g,o.brewer=e,o},"object"==typeof(e=e)&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).chroma=r()}}),De=e({"node_modules/react-simple-code-editor/lib/index.js"(e){"use strict";var a,t,r=e&&e.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),S=e&&e.__assign||function(){return(S=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=e&&e.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},E=e&&e.__rest||function(e,t){var r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},C=(Object.defineProperty(e,"__esModule",{value:!0}),o(b())),g="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),v="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),x="npm__react-simple-code-editor__textarea",N="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(x,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(x," {\n    color: transparent !important;\n  }\n\n  .").concat(x,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),o=(t=C.Component,r(s,t),s.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(s.prototype,"session",{get:function(){return{history:this._history}},set:function(e){this._history=e.history},enumerable:!1,configurable:!0}),s.prototype.render=function(){var t=this,e=this.props,r=e.value,a=e.style,n=e.padding,i=e.highlight,o=e.textareaId,s=e.textareaClassName,l=e.autoFocus,c=e.disabled,u=e.form,d=e.maxLength,p=e.minLength,h=e.name,m=e.placeholder,f=e.readOnly,g=e.required,v=e.onClick,b=e.onFocus,y=e.onBlur,w=e.onKeyUp,k=(e.onKeyDown,e.onValueChange,e.tabSize,e.insertSpaces,e.ignoreTabKey,e.preClassName),e=E(e,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),n={paddingTop:"object"==typeof n?n.top:n,paddingRight:"object"==typeof n?n.right:n,paddingBottom:"object"==typeof n?n.bottom:n,paddingLeft:"object"==typeof n?n.left:n},i=i(r);return C.createElement("div",S({},e,{style:S(S({},L.container),a)}),C.createElement("pre",S({className:k,"aria-hidden":"true",style:S(S(S({},L.editor),L.highlight),n)},"string"==typeof i?{dangerouslySetInnerHTML:{__html:i+"<br />"}}:{children:i})),C.createElement("textarea",{ref:function(e){return t._input=e},style:S(S(S({},L.editor),L.textarea),n),className:x+(s?" ".concat(s):""),id:o,value:r,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:v,onKeyUp:w,onFocus:b,onBlur:y,disabled:c,form:u,maxLength:d,minLength:p,name:h,placeholder:m,readOnly:f,required:g,autoFocus:l,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),C.createElement("style",{dangerouslySetInnerHTML:{__html:N}}))},s.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},s);function s(){var f=null!==t&&t.apply(this,arguments)||this;return f.state={capture:!0},f._recordCurrentState=function(){var e,t,r=f._input;r&&(e=r.value,t=r.selectionStart,r=r.selectionEnd,f._recordChange({value:e,selectionStart:t,selectionEnd:r}))},f._getLines=function(e,t){return e.substring(0,t).split("\n")},f._recordChange=function(e,t){void 0===t&&(t=!1);var r=f._history,a=r.stack,r=r.offset,r=(a.length&&-1<r&&(f._history.stack=a.slice(0,r+1),100<(r=f._history.stack.length))&&(f._history.stack=a.slice(a=r-100,r),f._history.offset=Math.max(f._history.offset-a,0)),Date.now());if(t){var a=f._history.stack[f._history.offset];if(a&&r-a.timestamp<3e3){var t=/[^a-z0-9]([a-z0-9]+)$/i,a=null==(a=f._getLines(a.value,a.selectionStart).pop())?void 0:a.match(t),n=null==(n=f._getLines(e.value,e.selectionStart).pop())?void 0:n.match(t);if(null!=a&&a[1]&&null!=(t=null==n?void 0:n[1])&&t.startsWith(a[1]))return void(f._history.stack[f._history.offset]=S(S({},e),{timestamp:r}))}}f._history.stack.push(S(S({},e),{timestamp:r})),f._history.offset++},f._updateInput=function(e){var t=f._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,f.props.onValueChange(e.value))},f._applyEdits=function(e){var t=f._input,r=f._history.stack[f._history.offset];r&&t&&(f._history.stack[f._history.offset]=S(S({},r),{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),f._recordChange(e),f._updateInput(e)},f._undoEdit=function(){var e=f._history,t=e.stack,e=e.offset,t=t[e-1];t&&(f._updateInput(t),f._history.offset=Math.max(e-1,0))},f._redoEdit=function(){var e=f._history,t=e.stack,e=e.offset,r=t[e+1];r&&(f._updateInput(r),f._history.offset=Math.min(e+1,t.length-1))},f._handleKeyDown=function(e){var t,r,a,n,i,o,s,l,c,u,d=f.props,p=d.tabSize,h=d.insertSpaces,m=d.ignoreTabKey,d=d.onKeyDown;d&&(d(e),e.defaultPrevented)||(27===e.keyCode&&e.currentTarget.blur(),t=(d=e.currentTarget).value,r=d.selectionStart,d=d.selectionEnd,a=(h?" ":"\t").repeat(p),9===e.keyCode&&!m&&f.state.capture?(e.preventDefault(),e.shiftKey?(n=(l=f._getLines(t,r)).length-1,i=f._getLines(t,d).length-1,h=t.split("\n").map(function(e,t){return n<=t&&t<=i&&e.startsWith(a)?e.substring(a.length):e}).join("\n"),t!==h&&(u=l[n],f._applyEdits({value:h,selectionStart:null!=u&&u.startsWith(a)?r-a.length:r,selectionEnd:d-(t.length-h.length)}))):r!==d?(o=(l=f._getLines(t,r)).length-1,s=f._getLines(t,d).length-1,u=l[o],f._applyEdits({value:t.split("\n").map(function(e,t){return o<=t&&t<=s?a+e:e}).join("\n"),selectionStart:u&&/\S/.test(u)?r+a.length:r,selectionEnd:d+a.length*(s-o+1)})):(c=r+a.length,f._applyEdits({value:t.substring(0,r)+a+t.substring(d),selectionStart:c,selectionEnd:c}))):8===e.keyCode?(p=r!==d,t.substring(0,r).endsWith(a)&&!p&&(e.preventDefault(),c=r-a.length,f._applyEdits({value:t.substring(0,r-a.length)+t.substring(d),selectionStart:c,selectionEnd:c}))):13===e.keyCode?r===d&&null!=(h=null==(m=f._getLines(t,r).pop())?void 0:m.match(/^\s+/))&&h[0]&&(e.preventDefault(),c=r+(l="\n"+h[0]).length,f._applyEdits({value:t.substring(0,r)+l+t.substring(d),selectionStart:c,selectionEnd:c})):57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode?(u=void 0,57===e.keyCode&&e.shiftKey?u=["(",")"]:219===e.keyCode?u=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?u=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(u=["`","`"]),r!==d&&u&&(e.preventDefault(),f._applyEdits({value:t.substring(0,r)+u[0]+t.substring(r,d)+u[1]+t.substring(d),selectionStart:r,selectionEnd:d+2}))):(v?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),f._undoEdit()):(v?e.metaKey&&90===e.keyCode&&e.shiftKey:g?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),f._redoEdit()):77!==e.keyCode||!e.ctrlKey||v&&!e.shiftKey||(e.preventDefault(),f.setState(function(e){return{capture:!e.capture}})))},f._handleChange=function(e){var e=e.currentTarget,t=e.value,r=e.selectionStart,e=e.selectionEnd;f._recordChange({value:t,selectionStart:r,selectionEnd:e},!0),f.props.onValueChange(t)},f._history={stack:[],offset:-1},f._input=null,f}e.default=o;var L={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}}),$e=e({"node_modules/prismjs/components/prism-core.js"(e,t){var l,r,a,n,T,i="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=(r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,n={},T={manual:(l=i).Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof A?new A(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++a}),e.__id},clone:function r(e,a){var n,t;switch(a=a||{},T.util.type(e)){case"Object":if(t=T.util.objId(e),a[t])return a[t];for(var i in n={},a[t]=n,e)e.hasOwnProperty(i)&&(n[i]=r(e[i],a));return n;case"Array":return(t=T.util.objId(e),a[t])?a[t]:(n=[],a[t]=n,e.forEach(function(e,t){n[t]=r(e,a)}),n);default:return e}},getLanguage:function(e){for(;e;){var t=r.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(r,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(e){var t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(e.stack)||[])[1];if(t){var r,a=document.getElementsByTagName("script");for(r in a)if(a[r].src==t)return a[r]}return null}},isActive:function(e,t,r){for(var a="no-"+t;e;){var n=e.classList;if(n.contains(t))return!0;if(n.contains(a))return!1;e=e.parentElement}return!!r}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var r,a=T.util.clone(T.languages[e]);for(r in t)a[r]=t[r];return a},insertBefore:function(r,e,t,a){var n,i=(a=a||T.languages)[r],o={};for(n in i)if(i.hasOwnProperty(n)){if(n==e)for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);t.hasOwnProperty(n)||(o[n]=i[n])}var l=a[r];return a[r]=o,T.languages.DFS(T.languages,function(e,t){t===l&&e!=r&&(this[e]=o)}),o},DFS:function e(t,r,a,n){n=n||{};var i,o,s,l=T.util.objId;for(i in t)t.hasOwnProperty(i)&&(r.call(t,i,t[i],a||i),o=t[i],"Object"!==(s=T.util.type(o))||n[l(o)]?"Array"!==s||n[l(o)]||(n[l(o)]=!0,e(o,r,i,n)):(n[l(o)]=!0,e(o,r,null,n)))}},plugins:{},highlightAll:function(e,t){T.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,r){var a={callback:r,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};T.hooks.run("before-highlightall",a),a.elements=Array.prototype.slice.apply(a.container.querySelectorAll(a.selector)),T.hooks.run("before-all-elements-highlight",a);for(var n,i=0;n=a.elements[i++];)T.highlightElement(n,!0===t,a.callback)},highlightElement:function(e,t,r){var a=T.util.getLanguage(e),n=T.languages[a],i=(T.util.setLanguage(e,a),e.parentElement);i&&"pre"===i.nodeName.toLowerCase()&&T.util.setLanguage(i,a);var o={element:e,language:a,grammar:n,code:e.textContent};function s(e){o.highlightedCode=e,T.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,T.hooks.run("after-highlight",o),T.hooks.run("complete",o),r&&r.call(o.element)}T.hooks.run("before-sanity-check",o),(i=o.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),o.code?(T.hooks.run("before-highlight",o),o.grammar?t&&l.Worker?((a=new Worker(T.filename)).onmessage=function(e){s(e.data)},a.postMessage(JSON.stringify({language:o.language,code:o.code,immediateClose:!0}))):s(T.highlight(o.code,o.grammar,o.language)):s(T.util.encode(o.code))):(T.hooks.run("complete",o),r&&r.call(o.element))},highlight:function(e,t,r){e={code:e,grammar:t,language:r};if(T.hooks.run("before-tokenize",e),e.grammar)return e.tokens=T.tokenize(e.code,e.grammar),T.hooks.run("after-tokenize",e),A.stringify(T.util.encode(e.tokens),e.language);throw new Error('The language "'+e.language+'" has no grammar.')},tokenize:function(e,t){var r=t.rest;if(r){for(var a in r)t[a]=r[a];delete t.rest}for(var n=new c,i=(P(n,n.head,e),!function e(t,r,a,n,i,o){for(var s in a)if(a.hasOwnProperty(s)&&a[s]){var l=a[s];l=Array.isArray(l)?l:[l];for(var c=0;c<l.length;++c){if(o&&o.cause==s+","+c)return;for(var u,d=l[c],p=d.inside,h=!!d.lookbehind,m=!!d.greedy,f=d.alias,g=(m&&!d.pattern.global&&(u=d.pattern.toString().match(/[imsuy]*$/)[0],d.pattern=RegExp(d.pattern.source,u+"g")),d.pattern||d),v=n.next,b=i;v!==r.tail&&!(o&&b>=o.reach);b+=v.value.length,v=v.next){var y=v.value;if(r.length>t.length)return;if(!(y instanceof A)){var w,k=1;if(m){if(!(w=R(g,b,t,h))||w.index>=t.length)break;var S=w.index,E=w.index+w[0].length,C=b;for(C+=v.value.length;C<=S;)v=v.next,C+=v.value.length;if(C-=v.value.length,b=C,v.value instanceof A)continue;for(var x=v;x!==r.tail&&(C<E||"string"==typeof x.value);x=x.next)k++,C+=x.value.length;k--,y=t.slice(b,C),w.index-=b}else if(!(w=R(g,0,y,h)))continue;var S=w.index,N=w[0],L=y.slice(0,S),I=y.slice(S+N.length),y=b+y.length,O=(o&&y>o.reach&&(o.reach=y),v.prev),L=(L&&(O=P(r,O,L),b+=L.length),_(r,O,k),new A(s,p?T.tokenize(N,p):N,f,N));v=P(r,O,L),I&&P(r,v,I),1<k&&(N={cause:s+","+c,reach:y},e(t,r,a,v.prev,b,N),o)&&N.reach>o.reach&&(o.reach=N.reach)}}}}}(e,n,t,n.head,0),n),o=[],s=i.head.next;s!==i.tail;)o.push(s.value),s=s.next;return o},hooks:{all:{},add:function(e,t){var r=T.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=T.hooks.all[e];if(r&&r.length)for(var a,n=0;a=r[n++];)a(t)}},Token:A},l.Prism=T,A.stringify=function t(e,r){if("string"==typeof e)return e;var a;if(Array.isArray(e))return a="",e.forEach(function(e){a+=t(e,r)}),a;var n,i={type:e.type,content:t(e.content,r),tag:"span",classes:["token",e.type],attributes:{},language:r},e=e.alias,o=(e&&(Array.isArray(e)?Array.prototype.push.apply(i.classes,e):i.classes.push(e)),T.hooks.run("wrap",i),"");for(n in i.attributes)o+=" "+n+'="'+(i.attributes[n]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},l.document?((n=T.util.currentScript())&&(T.filename=n.src,n.hasAttribute("data-manual"))&&(T.manual=!0),T.manual||("loading"===(i=document.readyState)||"interactive"===i&&n&&n.defer?document.addEventListener("DOMContentLoaded",o):window.requestAnimationFrame?window.requestAnimationFrame(o):window.setTimeout(o,16))):l.addEventListener&&!T.disableWorkerMessageHandler&&l.addEventListener("message",function(e){var e=JSON.parse(e.data),t=e.language,r=e.code,e=e.immediateClose;l.postMessage(T.highlight(r,T.languages[t],t)),e&&l.close()},!1),T);function A(e,t,r,a){this.type=e,this.content=t,this.alias=r,this.length=0|(a||"").length}function R(e,t,r,a){e.lastIndex=t;t=e.exec(r);return t&&a&&t[1]&&(e=t[1].length,t.index+=e,t[0]=t[0].slice(e)),t}function c(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function P(e,t,r){var a=t.next,r={value:r,prev:t,next:a};return t.next=r,a.prev=r,e.length++,r}function _(e,t,r){for(var a=t.next,n=0;n<r&&a!==e.tail;n++)a=a.next;(t.next=a).prev=t,e.length-=n}function o(){T.manual||T.highlightAll()}void 0!==t&&t.exports&&(t.exports=i),"undefined"!=typeof global&&(global.Prism=i)}}),Fe=e({"node_modules/classnames/index.js"(e,t){!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a,n=typeof r;if("string"==n||"number"==n)e.push(r);else if(Array.isArray(r))r.length&&(a=s.apply(null,r))&&e.push(a);else if("object"==n)if(r.toString===Object.prototype.toString||r.toString.toString().includes("[native code]"))for(var i in r)o.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}void 0!==t&&t.exports?t.exports=s.default=s:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return s}):window.classNames=s}()}}),Ue=e({"node_modules/react-dropdown/dist/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r,a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var i;Object.prototype.hasOwnProperty.call(e,r)&&((i=n?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r])}a.default=e,t&&t.set(e,a);return a}(b()),p=(t=Fe())&&t.__esModule?t:{default:t};function o(){var e;return"function"!=typeof WeakMap?null:(o=function(){return e},e=new WeakMap)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,a=arguments[t];for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function c(t,e){var r,a=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)),a}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f="Select...",t=function(e){var t,r=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");function a(e){var t,r;if(this instanceof a)return t=this,(t=!(r=i(a).call(this,e))||"object"!==s(r)&&"function"!=typeof r?u(t):r).state={selected:t.parseValue(e.value,e.options)||{label:void 0===e.placeholder?f:e.placeholder,value:""},isOpen:!1},t.dropdownRef=(0,d.createRef)(),t.mounted=!0,t.handleDocumentClick=t.handleDocumentClick.bind(u(t)),t.fireChangeEvent=t.fireChangeEvent.bind(u(t)),t;throw new TypeError("Cannot call a class as a function")}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&m(r,e),r=a,(e=[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&(this.props.value?(e=this.parseValue(this.props.value,this.props.options))!==this.state.selected&&this.setState({selected:e}):this.setState({selected:{label:void 0===this.props.placeholder?f:this.props.placeholder,value:""}}))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"==typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled)||this.setState({isOpen:!this.state.isOpen})}},{key:"parseValue",value:function(t,e){var r;if("string"==typeof t)for(var a,n=0,i=e.length;n<i;n++)"group"===e[n].type?(a=e[n].items.filter(function(e){return e.value===t})).length&&(r=a[0]):void 0!==e[n].value&&e[n].value===t&&(r=e[n]);return r||t}},{key:"setValue",value:function(e,t){e={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(e),this.setState(e)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(r){var e=r.value,t=(void 0===e&&(e=r.label||r),r.label||r.value||r),a=e===this.state.selected.value||e===this.state.selected;h(n={},"".concat(this.props.baseClassName,"-option"),!0),h(n,r.className,!!r.className),h(n,"is-selected",a);var n=(0,p.default)(n),i=Object.keys(r.data||{}).reduce(function(e,t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,h({},"data-".concat(t),r.data[t]))},{});return d.default.createElement("div",l({key:e,className:n,onMouseDown:this.setValue.bind(this,e,t),onClick:this.setValue.bind(this,e,t),role:"option","aria-selected":a?"true":"false"},i),t)}},{key:"buildMenu",value:function(){var a=this,e=this.props,t=e.options,n=e.baseClassName,e=t.map(function(e){var t,r;return"group"===e.type?(t=d.default.createElement("div",{className:"".concat(n,"-title")},e.name),r=e.items.map(function(e){return a.renderOption(e)}),d.default.createElement("div",{className:"".concat(n,"-group"),key:e.name,role:"listbox",tabIndex:"-1"},t,r)):a.renderOption(e)});return e.length?e:d.default.createElement("div",{className:"".concat(n,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){!this.mounted||this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1})}},{key:"isValueSelected",value:function(){return"string"==typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e=this.props,t=e.baseClassName,r=e.controlClassName,a=e.placeholderClassName,n=e.menuClassName,i=e.arrowClassName,o=e.arrowClosed,s=e.arrowOpen,e=e.className,l=this.props.disabled?"Dropdown-disabled":"",c="string"==typeof this.state.selected?this.state.selected:this.state.selected.label,e=(0,p.default)((h(u={},"".concat(t,"-root"),!0),h(u,e,!!e),h(u,"is-open",this.state.isOpen),u)),r=(0,p.default)((h(u={},"".concat(t,"-control"),!0),h(u,r,!!r),h(u,l,!!l),u)),u=(0,p.default)((h(l={},"".concat(t,"-placeholder"),!0),h(l,a,!!a),h(l,"is-selected",this.isValueSelected()),l)),l=(0,p.default)((h(a={},"".concat(t,"-menu"),!0),h(a,n,!!n),a)),a=(0,p.default)((h(n={},"".concat(t,"-arrow"),!0),h(n,i,!!i),n)),i=d.default.createElement("div",{className:u},c),n=this.state.isOpen?d.default.createElement("div",{className:l,"aria-expanded":"true"},this.buildMenu()):null;return d.default.createElement("div",{ref:this.dropdownRef,className:e},d.default.createElement("div",{className:r,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},i,d.default.createElement("div",{className:"".concat(t,"-arrow-wrapper")},s&&o?this.state.isOpen?s:o:d.default.createElement("span",{className:a}))),n)}}])&&n(r.prototype,e),t&&n(r,t),a}(d.Component);t.defaultProps={baseClassName:"Dropdown"},e.default=t}}),e=e({"external-global-plugin:react-dom"(e,t){t.exports=Spicetify.ReactDOM}}),He={},Ve=He,Ge={default:()=>function(){return an.default.createElement(rn,null)}};for(R in Ge)i(Ve,R,{get:Ge[R],enumerable:!0});var ze=t(b()),qe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}},Ke=class{constructor(e){this.init(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}init(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||qe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+r+this.prefix+" "+e[0]),this.logger[t](e))}create(e){return new Ke(this.logger,{prefix:this.prefix+`:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Ke(this.logger,e)}},l=new Ke,n=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(e=>e!==t):delete this.observers[e])}emit(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];this.observers[t]&&[].concat(this.observers[t]).forEach(e=>{e(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(e=>{e.apply(e,[t,...r])})}};function Je(){let r,a;var e=new Promise((e,t)=>{r=e,a=t});return e.resolve=r,e.reject=a,e}function We(e){return null==e?"":""+e}function Ye(e,t,r){e.forEach(e=>{t[e]&&(r[e]=t[e])})}function Xe(e,t,r){function a(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function n(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");1<i.length;){if(n())return{};var o=a(i.shift());!e[o]&&r&&(e[o]=new r),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return n()?{}:{obj:e,k:a(i.shift())}}function Qe(e,t,r){var{obj:e,k:t}=Xe(e,t,Object);e[t]=r}function Ze(e,t,r,a){var{obj:e,k:t}=Xe(e,t,Object);e[t]=e[t]||[],a&&(e[t]=e[t].concat(r)),a||e[t].push(r)}function et(e,t){var{obj:e,k:t}=Xe(e,t);if(e)return e[t]}function tt(e,t,r){for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?"string"==typeof e[a]||e[a]instanceof String||"string"==typeof t[a]||t[a]instanceof String?r&&(e[a]=t[a]):tt(e[a],t[a],r):e[a]=t[a])}function o(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function at(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>rt[e]):e}var nt=[" ",",","?","!",";"];function it(e,t,r){t=t||"",r=r||"";var a=nt.filter(e=>t.indexOf(e)<0&&r.indexOf(e)<0);if(0===a.length)return 1;var n,a=new RegExp(`(${a.map(e=>"?"===e?"\\?":e).join("|")})`);let i=!a.test(e);return i||0<(n=e.indexOf(r))&&!a.test(e.substring(0,n))&&(i=!0),i}function ot(e,i,t){var o=2<arguments.length&&void 0!==t?t:".";if(e){if(e[i])return e[i];var s=i.split(o);let n=e;for(let a=0;a<s.length;++a){if(!n)return;if("string"==typeof n[s[a]]&&a+1<s.length)return;if(void 0===n[s[a]]){let e=2,t=s.slice(a,a+e).join(o),r=n[t];for(;void 0===r&&s.length>a+e;)e++,t=s.slice(a,a+e).join(o),r=n[t];if(void 0===r)return;if(null===r)return null;if(i.endsWith(t)){if("string"==typeof r)return r;if(t&&"string"==typeof r[t])return r[t]}var l=s.slice(a+e).join(o);return l?ot(r,l,o):void 0}n=n[s[a]]}return n}}function st(e){return e&&0<e.indexOf("_")?e.replace("_","-"):e}var lt=class extends n{constructor(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)}getResource(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=(void 0!==a.keySeparator?a:this.options).keySeparator,a=(void 0!==a.ignoreJSONStructure?a:this.options).ignoreJSONStructure;let i=[e,t];r&&"string"!=typeof r&&(i=i.concat(r)),r&&"string"==typeof r&&(i=i.concat(n?r.split(n):r)),-1<e.indexOf(".")&&(i=e.split("."));var o=et(this.data,i);return o||!a||"string"!=typeof r?o:ot(this.data&&this.data[e]&&this.data[e][t],r,n)}addResource(e,t,r,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=(void 0!==n.keySeparator?n:this.options).keySeparator;let o=[e,t];r&&(o=o.concat(i?r.split(i):r)),-1<e.indexOf(".")&&(a=t,t=(o=e.split("."))[1]),this.addNamespaces(t),Qe(this.data,o,a),n.silent||this.emit("added",e,t,r,a)}addResources(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const n in r)"string"!=typeof r[n]&&"[object Array]"!==Object.prototype.toString.apply(r[n])||this.addResource(e,t,n,r[n],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,n){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1};let o=[e,t],s=(-1<e.indexOf(".")&&(a=r,r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),et(this.data,o)||{});a?tt(s,r,n):s={...s,...r},Qe(this.data,o,s),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&0<Object.keys(t[e]).length)}toJSON(){return this.data}},ct={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,n){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,r,a,n))}),t}},ut={},dt=class extends n{constructor(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};super(),Ye(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=l.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){return null!=e&&(e=this.resolve(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}))&&void 0!==e.res}extractFromKey(e,t){let r=(void 0!==t.nsSeparator?t:this.options).nsSeparator;void 0===r&&(r=":");var a=(void 0!==t.keySeparator?t:this.options).keySeparator;let n=t.ns||this.options.defaultNS||[];var i=r&&-1<e.indexOf(r),t=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||it(e,r,a));if(i&&!t){i=e.match(this.interpolator.nestingRegexp);if(i&&0<i.length)return{key:e,namespaces:n};t=e.split(r);(r!==a||r===a&&-1<this.options.ns.indexOf(t[0]))&&(n=t.shift()),e=t.join(a)}return{key:e,namespaces:n="string"==typeof n?[n]:n}}translate(r,a,n){if(a=(a="object"==typeof(a="object"!=typeof a&&this.options.overloadTranslationOptionHandler?this.options.overloadTranslationOptionHandler(arguments):a)?{...a}:a)||{},null==r)return"";Array.isArray(r)||(r=[String(r)]);var e=(void 0!==a.returnDetails?a:this.options).returnDetails,i=(void 0!==a.keySeparator?a:this.options).keySeparator;const{key:o,namespaces:t}=this.extractFromKey(r[r.length-1],a),s=t[t.length-1];var l=a.lng||this.language,c=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase())return c?(c=a.nsSeparator||this.options.nsSeparator,e?{res:""+s+c+o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s}:""+s+c+o):e?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s}:o;c=this.resolve(r,a);let u=c&&c.res;var d=c&&c.usedKey||o,p=c&&c.exactUsedKey||o,h=Object.prototype.toString.apply(u),m=(void 0!==a.joinArrays?a:this.options).joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,g="string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u;if(f&&u&&g&&["[object Number]","[object Function]","[object RegExp]"].indexOf(h)<0&&("string"!=typeof m||"[object Array]"!==h)){if(!a.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),g=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,u,{...a,ns:t}):`key '${o} (${this.language})' returned an object instead of string.`,e?(c.res=g,c):g;if(i){var v,g="[object Array]"===h,b=g?[]:{},y=g?p:d;for(const k in u)Object.prototype.hasOwnProperty.call(u,k)&&(v=""+y+i+k,b[k]=this.translate(v,{...a,joinArrays:!1,ns:t}),b[k]===v)&&(b[k]=u[k]);u=b}}else if(f&&"string"==typeof m&&"[object Array]"===h)u=(u=u.join(m))&&this.extendTranslation(u,r,a,n);else{let e=!1,t=!1;g=void 0!==a.count&&"string"!=typeof a.count;const S=dt.hasDefaultValue(a);p=g?this.pluralResolver.getSuffix(l,a.count,a):"",d=a.ordinal&&g?this.pluralResolver.getSuffix(l,a.count,{ordinal:!1}):"";const E=a["defaultValue"+p]||a["defaultValue"+d]||a.defaultValue,C=(!this.isValidLookup(u)&&S&&(e=!0,u=E),this.isValidLookup(u)||(t=!0,u=o),(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&t?void 0:u),x=S&&E!==u&&this.options.updateMissing;if(t||e||x){this.logger.log(x?"updateKey":"missingKey",l,s,o,x?E:u),i&&(f=this.resolve(o,{...a,keySeparator:!1}))&&f.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");let t=[];var w=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&w&&w[0])for(let e=0;e<w.length;e++)t.push(w[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(a.lng||this.language):t.push(a.lng||this.language);const N=(e,t,r)=>{r=S&&r!==u?r:C;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,t,r,x,a):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,t,r,x,a),this.emit("missingKey",e,s,t,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&g?t.forEach(t=>{this.pluralResolver.getSuffixes(t,a).forEach(e=>{N([t],o+e,a["defaultValue"+e]||E)})}):N(t,o,E))}u=this.extendTranslation(u,r,a,c,n),t&&u===o&&this.options.appendNamespaceToMissingKey&&(u=s+":"+o),(t||e)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?s+":"+o:o,e?u:void 0):this.options.parseMissingKeyHandler(u))}return e?(c.res=u,c):u}extendTranslation(r,a,n,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});var l="string"==typeof r&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n:this.options).interpolation.skipOnVariables;let e,t=(l&&(c=r.match(this.interpolator.nestingRegexp),e=c&&c.length),n.replace&&"string"!=typeof n.replace?n.replace:n);this.options.interpolation.defaultVariables&&(t={...this.options.interpolation.defaultVariables,...t}),r=this.interpolator.interpolate(r,t,n.lng||this.language,n),l&&(l=(c=r.match(this.interpolator.nestingRegexp))&&c.length,e<l)&&(n.nest=!1),!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(r=this.interpolator.nest(r,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o&&o[0]===t[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: `+a[0]),null):s.translate(...t,a)},n)),n.interpolation&&this.interpolator.reset()}var c=n.postProcess||this.options.postProcess,l="string"==typeof c?[c]:c;return r=null!=r&&l&&l.length&&!1!==n.applyPostProcessor?ct.handle(l,r,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...n}:n,this):r}resolve(e){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p,a,h,m,n;return(e="string"==typeof e?[e]:e).forEach(t=>{if(!this.isValidLookup(p)){t=this.extractFromKey(t,d);const s=t.key;a=s;let e=t.namespaces;this.options.fallbackNS&&(e=e.concat(this.options.fallbackNS));const l=void 0!==d.count&&"string"!=typeof d.count,c=l&&!d.ordinal&&0===d.count&&this.pluralResolver.shouldUseIntlApi(),u=void 0!==d.context&&("string"==typeof d.context||"number"==typeof d.context)&&""!==d.context,r=d.lngs||this.languageUtils.toResolveHierarchy(d.lng||this.language,d.fallbackLng);e.forEach(o=>{this.isValidLookup(p)||(n=o,!ut[r[0]+"-"+o]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(n)&&(ut[r[0]+"-"+o]=!0,this.logger.warn(`key "${a}" for languages "${r.join(", ")}" won't get resolved as namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),r.forEach(t=>{if(!this.isValidLookup(p)){m=t;var e,r=[s];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(r,s,t,o,d);else{let e;l&&(e=this.pluralResolver.getSuffix(t,d.count,d));var a,n=this.options.pluralSeparator+"zero",i=this.options.pluralSeparator+"ordinal"+this.options.pluralSeparator;l&&(r.push(s+e),d.ordinal&&0===e.indexOf(i)&&r.push(s+e.replace(i,this.options.pluralSeparator)),c)&&r.push(s+n),u&&(a=""+s+this.options.contextSeparator+d.context,r.push(a),l)&&(r.push(a+e),d.ordinal&&0===e.indexOf(i)&&r.push(a+e.replace(i,this.options.pluralSeparator)),c)&&r.push(a+n)}for(;e=r.pop();)this.isValidLookup(p)||(h=e,p=this.getResource(t,o,e,d))}}))})}}),{res:p,usedKey:a,exactUsedKey:h,usedLng:m,usedNS:n}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(e,t,r,a)}static hasDefaultValue(e){var t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}};function pt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ht=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=l.create("languageUtils")}getScriptPartFromCode(e){return!(e=st(e))||e.indexOf("-")<0||2===(e=e.split("-")).length||(e.pop(),"x"===e[e.length-1].toLowerCase())?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(e){return!(e=st(e))||e.indexOf("-")<0?e:(e=e.split("-"),this.formatLanguageCode(e[0]))}formatLanguageCode(t){if("string"==typeof t&&-1<t.indexOf("-")){var r=["hans","hant","latn","cyrl","cans","mong","arab"];let e=t.split("-");return this.options.lowerCaseLng?e=e.map(e=>e.toLowerCase()):2===e.length?(e[0]=e[0].toLowerCase(),e[1]=e[1].toUpperCase(),-1<r.indexOf(e[1].toLowerCase())&&(e[1]=pt(e[1].toLowerCase()))):3===e.length&&(e[0]=e[0].toLowerCase(),2===e[1].length&&(e[1]=e[1].toUpperCase()),"sgn"!==e[0]&&2===e[2].length&&(e[2]=e[2].toUpperCase()),-1<r.indexOf(e[1].toLowerCase())&&(e[1]=pt(e[1].toLowerCase())),-1<r.indexOf(e[2].toLowerCase()))&&(e[2]=pt(e[2].toLowerCase())),e.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(e)}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(e=>{r||(e=this.formatLanguageCode(e),this.options.supportedLngs&&!this.isSupportedCode(e))||(r=e)}),!r&&this.options.supportedLngs&&e.forEach(e=>{if(!r){const t=this.getLanguagePartFromCode(e);if(this.isSupportedCode(t))return r=t;r=this.options.supportedLngs.find(e=>e===t||!(e.indexOf("-")<0&&t.indexOf("-")<0)&&0===e.indexOf(t)?e:void 0)}}),r=r||this.getFallbackCodes(this.options.fallbackLng)[0]}getFallbackCodes(e,t){if(!e)return[];if("string"==typeof(e="function"==typeof e?e(t):e)&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let r=e[t];return(r=(r=(r=(r=r||e[this.getScriptPartFromCode(t)])||e[this.formatLanguageCode(t)])||e[this.getLanguagePartFromCode(t)])||e.default)||[]}toResolveHierarchy(e,t){t=this.getFallbackCodes(t||this.options.fallbackLng||[],e);const r=[],a=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn("rejecting language code not found in supportedLngs: "+e))};return"string"==typeof e&&(-1<e.indexOf("-")||-1<e.indexOf("_"))?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),t.forEach(e=>{r.indexOf(e)<0&&a(this.formatLanguageCode(e))}),r}},mt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ft={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||10<e)&&e%10==0?2:3)}},gt=["v1","v2","v3"],vt=["v4"],bt={zero:0,one:1,two:2,few:3,many:4,other:5};function yt(){const r={};return mt.forEach(t=>{t.lngs.forEach(e=>{r[e]={numbers:t.nr,plurals:ft[t.fc]}})}),r}var wt=class{constructor(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=l.create("pluralResolver"),this.options.compatibilityJSON&&!vt.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=yt()}addRule(e,t){this.rules[e]=t}getRule(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(st(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){e=this.getRule(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.shouldUseIntlApi()?e&&1<e.resolvedOptions().pluralCategories.length:e&&1<e.numbers.length}getPluralFormsOfKey(e,t){return this.getSuffixes(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).map(e=>""+t+e)}getSuffixes(t){let r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var e=this.getRule(t,r);return e?this.shouldUseIntlApi()?e.resolvedOptions().pluralCategories.sort((e,t)=>bt[e]-bt[t]).map(e=>""+this.options.prepend+(r.ordinal?"ordinal"+this.options.prepend:"")+e):e.numbers.map(e=>this.getSuffix(t,e,r)):[]}getSuffix(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=this.getRule(e,r);return a?this.shouldUseIntlApi()?""+this.options.prepend+(r.ordinal?"ordinal"+this.options.prepend:"")+a.select(t):this.getSuffixRetroCompatible(a,t):(this.logger.warn("no plural rule found for: "+e),"")}getSuffixRetroCompatible(e,t){t=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_"+r.toString():a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}shouldUseIntlApi(){return!gt.includes(this.options.compatibilityJSON)}};function kt(e,t,r,a,n){var i,o,s,l=3<arguments.length&&void 0!==a?a:".",c=!(4<arguments.length&&void 0!==n)||n;o=t;let u=void 0!==(i=et(i=e,s=r))?i:et(o,s);return u=!u&&c&&"string"==typeof r&&void 0===(u=ot(e,r,l))?ot(t,r,l):u}var St=class{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.logger=l.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escape=void 0!==e.escape?e.escape:at,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?o(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?o(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?o(e.nestingPrefix):e.nestingPrefixEscaped||o("$t("),this.nestingSuffix=e.nestingSuffix?o(e.nestingSuffix):e.nestingSuffixEscaped||o(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator||e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces||1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){var e=this.prefix+"(.+?)"+this.suffix,e=(this.regexp=new RegExp(e,"g"),""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix),e=(this.regexpUnescape=new RegExp(e,"g"),this.nestingPrefix+"(.+?)"+this.nestingSuffix);this.nestingRegexp=new RegExp(e,"g")}interpolate(a,r,n,i){let o,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function t(e){return e.replace(/\$/g,"$$$$")}const u=e=>{var t;return e.indexOf(this.formatSeparator)<0?(t=kt(r,c,e,this.options.keySeparator,this.options.ignoreJSONStructure),this.alwaysFormat?this.format(t,void 0,n,{...i,...r,interpolationkey:e}):t):(e=(t=e.split(this.formatSeparator)).shift().trim(),t=t.join(this.formatSeparator).trim(),this.format(kt(r,c,e,this.options.keySeparator,this.options.ignoreJSONStructure),t,n,{...i,...r,interpolationkey:e}))},d=(this.resetRegExp(),i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler),p=(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i:this.options).interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>t(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?t(this.escape(e)):t(e)}].forEach(e=>{for(l=0;o=e.regex.exec(a);){var t=o[1].trim();if(void 0===(s=u(t)))if("function"==typeof d){var r=d(a,o,i);s="string"==typeof r?r:""}else{if(!i||!Object.prototype.hasOwnProperty.call(i,t)){if(p){s=o[0];continue}this.logger.warn(`missed to pass in variable ${t} for interpolating `+a)}s=""}else"string"==typeof s||this.useRawValueToEscape||(s=We(s));r=e.safeValue(s);if(a=a.replace(o[0],r),p?(e.regex.lastIndex+=s.length,e.regex.lastIndex-=o[0].length):e.regex.lastIndex=0,++l>=this.maxReplaces)break}}),a}nest(r,a){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i,o,s;function l(r,e){var a=this.nestingOptionsSeparator;if(!(r.indexOf(a)<0)){var n=r.split(new RegExp(a+"[ ]*{"));let t="{"+n[1];r=n[0];var n=(t=this.interpolate(t,s)).match(/'/g),i=t.match(/"/g);(n&&n.length%2==0&&!i||i.length%2!=0)&&(t=t.replace(/'/g,'"'));try{s=JSON.parse(t),e&&(s={...e,...s})}catch(e){return this.logger.warn("failed parsing options string in nesting for key "+r,e),""+r+a+t}delete s.defaultValue}return r}for(;i=this.nestingRegexp.exec(r);){let e=[],t=((s=(s={...n}).replace&&"string"!=typeof s.replace?s.replace:s).applyPostProcessor=!1,delete s.defaultValue,!1);var c;if(-1===i[0].indexOf(this.formatSeparator)||/{.*}/.test(i[1])||(c=i[1].split(this.formatSeparator).map(e=>e.trim()),i[1]=c.shift(),e=c,t=!0),(o=a(l.call(this,i[1].trim(),s),s))&&i[0]===r&&"string"!=typeof o)return o;(o="string"!=typeof o?We(o):o)||(this.logger.warn(`missed to resolve ${i[1]} for nesting `+r),o=""),t&&(o=e.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:i[1].trim()}),o.trim())),r=r.replace(i[0],o),this.regexp.lastIndex=0}return r}};function Et(e){let t=e.toLowerCase().trim();const r={};return-1<e.indexOf("(")&&(e=e.split("("),t=e[0].toLowerCase().trim(),e=e[1].substring(0,e[1].length-1),"currency"===t&&e.indexOf(":")<0?r.currency||(r.currency=e.trim()):"relativetime"===t&&e.indexOf(":")<0?r.range||(r.range=e.trim()):e.split(";").forEach(e=>{var t;e&&([e,...t]=e.split(":"),t=t.join(":").trim().replace(/^'+|'+$/g,""),r[e.trim()]||(r[e.trim()]=t),"false"===t&&(r[e.trim()]=!1),"true"===t&&(r[e.trim()]=!0),isNaN(t)||(r[e.trim()]=parseInt(t,10)))})),{formatName:t,formatOptions:r}}function s(i){const o={};return function(e,t,r){var a=t+JSON.stringify(r);let n=o[a];return n||(n=i(st(t),r),o[a]=n),n(e)}}var Ct=class{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.logger=l.create("formatter"),this.options=e,this.formats={number:s((e,t)=>{const r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:s((e,t)=>{const r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:s((e,t)=>{const r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:s((e,t)=>{const r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:s((e,t)=>{const r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})},this.init(e)}init(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator||t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=s(t)}format(e,t,o){let s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((t,r)=>{var{formatName:r,formatOptions:a}=Et(r);if(this.formats[r]){let e=t;try{var n=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},i=n.locale||n.lng||s.locale||s.lng||o;e=this.formats[r](t,i,{...a,...s,...n})}catch(e){this.logger.warn(e)}return e}return this.logger.warn("there was no format function for "+r),t},e)}};function xt(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}var Nt=class extends n{constructor(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=l.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=0<=a.maxRetries?a.maxRetries:5,this.retryTimeout=1<=a.retryTimeout?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(e,t,n,r){const i={},o={},s={},l={};return e.forEach(r=>{let a=!0;t.forEach(e=>{var t=r+"|"+e;!n.reload&&this.store.hasResourceBundle(r,e)?this.state[t]=2:this.state[t]<0||(1===this.state[t]?void 0===o[t]&&(o[t]=!0):(this.state[t]=1,a=!1,void 0===o[t]&&(o[t]=!0),void 0===i[t]&&(i[t]=!0),void 0===l[e]&&(l[e]=!0)))}),a||(s[r]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){var a=e.split("|");const n=a[0],i=a[1],o=(t&&this.emit("failedLoading",n,i,t),r&&this.store.addResourceBundle(n,i,r),this.state[e]=t?-1:2,{});this.queue.forEach(r=>{Ze(r.loaded,[n],i),xt(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(t=>{o[t]||(o[t]={});var e=r.loaded[t];e.length&&e.forEach(e=>{void 0===o[t][e]&&(o[t][e]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(e=>!e.done)}read(a,n,i){let o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,l=5<arguments.length?arguments[5]:void 0;if(!a.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:a,ns:n,fcName:i,tried:o,wait:s,callback:l});else{this.readingCalls++;const r=(e,t)=>{var r;this.readingCalls--,0<this.waitingReads.length&&(r=this.waitingReads.shift(),this.read(r.lng,r.ns,r.fcName,r.tried,r.wait,r.callback)),e&&t&&o<this.maxRetries?setTimeout(()=>{this.read.call(this,a,n,i,o+1,2*s,l)},s):l(e,t)};var e=this.backend[i].bind(this.backend);if(2!==e.length)return e(a,n,r);try{var t=e(a,n);t&&"function"==typeof t.then?t.then(e=>r(null,e)).catch(r):r(null,t)}catch(e){r(e)}}}prepareLoading(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e));e=this.queueLoad(e,t="string"==typeof t?[t]:t,r,a);if(!e.toLoad.length)return e.pending.length||a(),null;e.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(r){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";var e=r.split("|");const n=e[0],i=e[1];this.read(n,i,"read",void 0,void 0,(e,t)=>{e&&this.logger.warn(`${a}loading namespace ${i} for language ${n} failed`,e),!e&&t&&this.logger.log(`${a}loaded namespace ${i} for language `+n,t),this.loaded(r,e,t)})}saveMissing(t,r,a,n,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};let s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r))this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=a&&""!==a){if(this.backend&&this.backend.create){o={...o,isUpdate:i},i=this.backend.create.bind(this.backend);if(i.length<6)try{let e;(e=5===i.length?i(t,r,a,n,o):i(t,r,a,n))&&"function"==typeof e.then?e.then(e=>s(null,e)).catch(s):s(null,e)}catch(e){s(e)}else i(t,r,a,n,s,o)}t&&t[0]&&this.store.addResource(t[0],r,a,n)}}};function Lt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:(e,t,r,a)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function It(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ot(){}function Tt(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(e=>{"function"==typeof t[e]&&(t[e]=t[e].bind(t))})}var At=class extends n{constructor(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;if(super(),this.options=It(e),this.services={},this.logger=l,this.modules={external:[]},Tt(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var n=this;let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;"function"==typeof e&&(r=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var t=Lt();function a(e){return e?"function"==typeof e?new e:e:null}if(this.options={...t,...this.options,...It(e)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...t.interpolation,...this.options.interpolation}),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){this.modules.logger?l.init(a(this.modules.logger),this.options):l.init(null,this.options);let e;this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=Ct);var i=new ht(this.options),o=(this.store=new lt(this.options.resources,this.options),this.services);o.logger=l,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new wt(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==t.interpolation.format||(o.formatter=a(e),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new St(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Nt(a(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.emit(e,...r)}),this.modules.languageDetector&&(o.languageDetector=a(this.modules.languageDetector),o.languageDetector.init)&&o.languageDetector.init(o,this.options.detection,this.options),this.modules.i18nFormat&&(o.i18nFormat=a(this.modules.i18nFormat),o.i18nFormat.init)&&o.i18nFormat.init(this),this.translator=new dt(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.emit(e,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}this.format=this.options.interpolation.format,r=r||Ot,!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(i=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==i[0]&&(this.options.lng=i[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=function(){return n.store[e](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=function(){return n.store[e](...arguments),n}});const s=Je();t=()=>{var e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?t():setTimeout(t,0),s}loadResources(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ot;var r="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const a=[],n=e=>{e&&"cimode"!==e&&this.services.languageUtils.toResolveHierarchy(e).forEach(e=>{"cimode"!==e&&a.indexOf(e)<0&&a.push(e)})};r?n(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>n(e)),this.options.preload&&this.options.preload.forEach(e=>n(e)),this.services.backendConnector.load(a,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,r){const a=Je();return e=e||this.languages,t=t||this.options.ns,r=r||Ot,this.services.backendConnector.reload(e,t,e=>{a.resolve(),r(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(e.type)return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ct.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}setResolvedLanguage(e){if(e&&this.languages&&!(-1<["cimode","dev"].indexOf(e)))for(let e=0;e<this.languages.length;e++){var t=this.languages[e];if(!(-1<["cimode","dev"].indexOf(t))&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(r,a){var n=this;this.isLanguageChangingTo=r;const i=Je(),o=(this.emit("languageChanging",r),e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)}),s=(e,t)=>{t?(o(t),this.translator.changeLanguage(t),this.isLanguageChangingTo=void 0,this.emit("languageChanged",t),this.logger.log("languageChanged",t)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),a&&a(e,function(){return n.t(...arguments)})};var e=e=>{const t="string"==typeof(e=r||e||!this.services.languageDetector?e:[])?e:this.services.languageUtils.getBestMatchFromCodes(e);t&&(this.language||o(t),this.translator.language||this.translator.changeLanguage(t),this.services.languageDetector)&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(t),this.loadResources(t,e=>{s(e,t)})};return r||!this.services.languageDetector||this.services.languageDetector.async?!r&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(e):this.services.languageDetector.detect(e):e(r):e(this.services.languageDetector.detect()),i}getFixedT(e,t,l){var c=this;function u(e,t){let r;if("object"!=typeof t){for(var a=arguments.length,n=new Array(2<a?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];r=c.options.overloadTranslationOptionHandler([e,t].concat(n))}else r={...t};r.lng=r.lng||u.lng,r.lngs=r.lngs||u.lngs,r.ns=r.ns||u.ns,r.keyPrefix=r.keyPrefix||l||u.keyPrefix;const o=c.options.keySeparator||".";let s;return s=r.keyPrefix&&Array.isArray(e)?e.map(e=>""+r.keyPrefix+o+e):r.keyPrefix?""+r.keyPrefix+o+e:e,c.t(s,r)}return"string"==typeof e?u.lng=e:u.lngs=e,u.ns=t,u.keyPrefix=l,u}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=(e,t)=>{e=this.services.backendConnector.state[e+"|"+t];return-1===e||2===e};if(t.precheck){t=t.precheck(this,i);if(void 0!==t)return t}return!!this.hasResourceBundle(r,e)||!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(r,e)||a&&!i(n,e)))}loadNamespaces(e,t){const r=Je();return this.options.ns?((e="string"==typeof e?[e]:e).forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Je(),a=this.options.preload||[];e=(e="string"==typeof e?[e]:e).filter(e=>a.indexOf(e)<0);return e.length?(this.options.preload=a.concat(e),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){var t;return!(e=e||this.resolvedLanguage||(this.languages&&0<this.languages.length?this.languages[0]:this.language))||(t=this.services&&this.services.languageUtils||new ht(Lt()),-1<["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e)))||1<e.toLowerCase().indexOf("-arab")?"rtl":"ltr"}static createInstance(){return new At(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)}cloneInstance(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ot,r=e.forkResourceStore,a=(r&&delete e.forkResourceStore,{...this.options,...e,isClone:!0});const n=new At(a);void 0===e.debug&&void 0===e.prefix||(n.logger=n.logger.clone(e));return["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r&&(n.store=new lt(this.store.data,a),n.services.resourceStore=n.store),n.translator=new dt(n.services,a),n.translator.on("*",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.emit(e,...r)}),n.init(a,t),n.translator.options=a,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},n=At.createInstance(),g=(n.createInstance=At.createInstance,n.createInstance,n.dir,n.init,n.loadResources,n.reloadResources,n.use,n.changeLanguage,n.getFixedT,n.t);n.exists,n.setDefaultNamespace,n.hasLoadedNamespace,n.loadNamespaces,n.loadLanguages,t(b(),1),t(b(),1),t(W());var Rt={};function Pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"==typeof t[0]&&Rt[t[0]]||("string"==typeof t[0]&&(Rt[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"==typeof t[0]&&(t[0]="react-i18next:: "+t[0]),console.warn(...t)}}(...t))}var _t=(t,r)=>()=>{if(t.isInitialized)r();else{const e=()=>{setTimeout(()=>{t.off("initialized",e)},0),r()};t.on("initialized",e)}};function Mt(e,t,r){e.loadNamespaces(t,_t(e,r))}function jt(t,e,r,a){(r="string"==typeof r?[r]:r).forEach(e=>{t.options.ns.indexOf(e)<0&&t.options.ns.push(e)}),t.loadLanguages(e,_t(t,a))}function Bt(r,e,t){let a=2<arguments.length&&void 0!==t?t:{};return e.languages&&e.languages.length?void 0!==e.options.ignoreJSONStructure?e.hasLoadedNamespace(r,{lng:a.lng,precheck:(e,t)=>{if(a.bindI18n&&-1<a.bindI18n.indexOf("languageChanging")&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!t(e.isLanguageChangingTo,r))return!1}}):function(e,r,t){var a,n=2<arguments.length&&void 0!==t?t:{},i=r.languages[0],o=!!r.options&&r.options.fallbackLng,s=r.languages[r.languages.length-1];return"cimode"===i.toLowerCase()||(a=(e,t)=>{e=r.services.backendConnector.state[e+"|"+t];return-1===e||2===e},!(n.bindI18n&&-1<n.bindI18n.indexOf("languageChanging")&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e)||!r.hasResourceBundle(i,e)&&r.services.backendConnector.backend&&(!r.options.resources||r.options.partialBundledLanguages)&&(!a(i,e)||o&&!a(s,e))))}(r,e,a):(Pt("i18n.languages were undefined or empty",e.languages),!0)}var Dt,$t=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ft={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ut=e=>Ft[e],Ht={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace($t,Ut)};var W={type:"3rdParty",init(e){!function(e){var t=0<arguments.length&&void 0!==e?e:{};Ht={...Ht,...t}}(e.options.react),Dt=e}},Vt=(0,t(b(),1).createContext)(),Gt=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}},y=t(b(),1),zt=(e,t)=>{const r=(0,y.useRef)();return(0,y.useEffect)(()=>{r.current=t?r.current:e},[e,t]),r.current};function qt(e,t){let a=1<arguments.length&&void 0!==t?t:{};var r=a["i18n"],{i18n:n,defaultNS:i}=(0,y.useContext)(Vt)||{};const o=r||n||Dt;if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Gt),!o)return Pt("You will need to pass in an i18next instance by using initReactI18next"),(n=[r=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,{},!1]).t=r,n.i18n={},n.ready=!1,n;o.options.react&&void 0!==o.options.react.wait&&Pt("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Ht,...o.options.react,...a},{useSuspense:l,keyPrefix:c}=s;let u=e||i||o.options&&o.options.defaultNS;u="string"==typeof u?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const d=(o.isInitialized||o.initializedStoreOnce)&&u.every(e=>Bt(e,o,s));function p(){return o.getFixedT(a.lng||null,"fallback"===s.nsMode?u:u[0],c)}const[h,m]=(0,y.useState)(p);let f=u.join();a.lng&&(f=""+a.lng+f);const g=zt(f),v=(0,y.useRef)(!0),b=((0,y.useEffect)(()=>{const{bindI18n:e,bindI18nStore:t}=s;function r(){v.current&&m(p)}return v.current=!0,d||l||(a.lng?jt(o,a.lng,u,()=>{v.current&&m(p)}):Mt(o,u,()=>{v.current&&m(p)})),d&&g&&g!==f&&v.current&&m(p),e&&o&&o.on(e,r),t&&o&&o.store.on(t,r),()=>{v.current=!1,e&&o&&e.split(" ").forEach(e=>o.off(e,r)),t&&o&&t.split(" ").forEach(e=>o.store.off(e,r))}},[o,f]),(0,y.useRef)(!0));(0,y.useEffect)(()=>{v.current&&!b.current&&m(p),b.current=!1},[o,c]);r=[h,o,d];if(r.t=h,r.i18n=o,(r.ready=d)||!d&&!l)return r;throw new Promise(e=>{a.lng?jt(o,a.lng,u,()=>e()):Mt(o,u,()=>e())})}var Kt=t(b(),1);function Jt(o,e){let s=1<arguments.length&&void 0!==e?e:{};return function(i){function r(e){let{forwardedRef:t,...r}=e;var[e,a,n]=qt(o,{...r,keyPrefix:s.keyPrefix}),e={...r,t:e,i18n:a,tReady:n};return s.withRef&&t?e.ref=t:!s.withRef&&t&&(e.forwardedRef=t),(0,Kt.createElement)(i,e)}var e;r.displayName=`withI18nextTranslation(${e=i,e.displayName||e.name||("string"==typeof e&&0<e.length?e:"Unknown")})`,r.WrappedComponent=i;return s.withRef?(0,Kt.forwardRef)((e,t)=>(0,Kt.createElement)(r,Object.assign({},e,{forwardedRef:t}))):r}}t(b(),1),t(b(),1),t(b(),1);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e){e=function(e,t){if("object"!==Wt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Wt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Wt(e)?e:String(e)}function Xt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Yt(a.key),a)}}var Qt=[],Zt=Qt.forEach,er=Qt.slice;function tr(){if(null===lr)try{lr="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){lr=!1}return lr}function rr(){if(null===ur)try{ur="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){ur=!1}return ur}var ar=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,nr=function(e,t,r,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+60*r*1e3)),a&&(n.domain=a),document.cookie=function(e,t,r){var r=r||{},t=(r.path=r.path||"/",encodeURIComponent(t)),a="".concat(e,"=").concat(t);if(0<r.maxAge){e=+r.maxAge;if(Number.isNaN(e))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(e))}if(r.domain){if(!ar.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(r.domain)}if(r.path){if(!ar.test(r.path))throw new TypeError("option path is invalid");a+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(e,encodeURIComponent(t),n)},ir=function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),a=0;a<r.length;a++){for(var n=r[a];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},or={name:"cookie",lookup:function(e){var t;return t=e.lookupCookie&&"undefined"!=typeof document&&(e=ir(e.lookupCookie))?e:t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&nr(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},sr={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var r=window.location.search,a=(r=!window.location.search&&window.location.hash&&-1<window.location.hash.indexOf("?")?window.location.hash.substring(window.location.hash.indexOf("?")):r).substring(1).split("&"),n=0;n<a.length;n++){var i=a[n].indexOf("=");0<i&&a[n].substring(0,i)===e.lookupQuerystring&&(t=a[n].substring(i+1))}return t}},lr=null,cr={name:"localStorage",lookup:function(e){var t;return t=e.lookupLocalStorage&&tr()&&(e=window.localStorage.getItem(e.lookupLocalStorage))?e:t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&tr()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},ur=null,dr={name:"sessionStorage",lookup:function(e){var t;return t=e.lookupSessionStorage&&rr()&&(e=window.sessionStorage.getItem(e.lookupSessionStorage))?e:t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&rr()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},pr={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return 0<t.length?t:void 0}},hr={name:"htmlTag",lookup:function(e){var t,e=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return t=e&&"function"==typeof e.getAttribute?e.getAttribute("lang"):t}},mr={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof r[e.lookupFromPathIndex])return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},fr={name:"subdomain",lookup:function(e){var e="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,t="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[e]}};var Qt=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,a=n;if(!(r instanceof a))throw new TypeError("Cannot call a class as a function");this.type="languageDetector",this.detectors={},this.init(e,t)}var e,t,r;return e=n,(t=[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(r){return Zt.call(er.call(arguments,1),function(e){if(e)for(var t in e)void 0===r[t]&&(r[t]=e[t])}),r}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&-1<this.options.convertDetectedLanguage.indexOf("15897")&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(or),this.addDetector(sr),this.addDetector(cr),this.addDetector(dr),this.addDetector(pr),this.addDetector(hr),this.addDetector(mr),this.addDetector(fr)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this,r=(e=e||this.options.order,[]);return e.forEach(function(e){t.detectors[e]&&(e=(e=t.detectors[e].lookup(t.options))&&"string"==typeof e?[e]:e)&&(r=r.concat(e))}),r=r.map(function(e){return t.options.convertDetectedLanguage(e)}),this.services.languageUtils.getBestMatchFromCodes?r:0<r.length?r[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var r=this;!(e=e||this.options.caches)||this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(t)||e.forEach(function(e){r.detectors[e]&&r.detectors[e].cacheUserLanguage(t,r.options)})}}])&&Xt(e.prototype,t),r&&Xt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}(),c=(Qt.type="languageDetector",t(b())),gr=t(r()),vr=(t(a()),"0.9.0"),E={installedExtensions:"marketplace:installed-extensions",installedSnippets:"marketplace:installed-snippets",installedThemes:"marketplace:installed-themes",activeTab:"marketplace:active-tab",tabs:"marketplace:tabs",sort:"marketplace:sort",themeInstalled:"marketplace:theme-installed",albumArtBasedColor:"marketplace:albumArtBasedColors",albumArtBasedColorMode:"marketplace:albumArtBasedColorsMode",albumArtBasedColorVibrancy:"marketplace:albumArtBasedColorsVibrancy",colorShift:"marketplace:colorShift"},br=[{name:"Extensions",enabled:!0},{name:"Themes",enabled:!0},{name:"Snippets",enabled:!0},{name:"Apps",enabled:!0},{name:"Installed",enabled:!0}],C=100,yr="/marketplace",wr="https://api.github.com/repos/spicetify/spicetify-marketplace/releases/tags/v0.9.0",x=(t,e)=>{t=localStorage.getItem(t);if(!t)return e;try{return JSON.parse(t)}catch(e){return t}},kr=e=>{const r={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([^=]+?)\s*=\s*(.*?)\s*$/,comment:/^\s*;.*$/},a={};e=e.split(/[\r\n]+/);let n=null;return e.forEach(function(e){var t;r.comment.test(e)||(r.param.test(e)?e.includes("xrdb")?(delete a[null!=n?n:""],n=null):(t=e.match(r.param),n&&t&&(a[n][t[1]]=t[2].split(";")[0].trim())):r.section.test(e)?(t=e.match(r.section))&&(a[t[1]]={},n=t[1]):0==e.length&&(n=n&&null))}),a},Sr=e=>{var t=document.querySelector("style.marketplaceSnippets"),t=(t&&t.remove(),document.createElement("style")),e=e.reduce((e,t)=>e=(e+=`/* ${t.title} - ${t.description} */
`)+t.code+`
`,"");t.innerHTML=e,t.classList.add("marketplaceSnippets"),document.body.appendChild(t)},Er=(e,t)=>{let r=[];return e&&0<e.length?r=e.map(e=>({name:e.name,url:Pr(e.url)})):r.push({name:t,url:"https://github.com/"+t}),r},Cr=e=>e?Object.keys(e).map(e=>({key:e,value:e})):[],xr=e=>[{key:"stars",value:e("grid.sort.stars")},{key:"newest",value:e("grid.sort.newest")},{key:"oldest",value:e("grid.sort.oldest")},{key:"a-z",value:e("grid.sort.aToZ")},{key:"z-a",value:e("grid.sort.zToA")}],Nr=(...e)=>{console.debug("Resetting Marketplace");const t=[];0===e.length&&Object.keys(localStorage).forEach(e=>{e.startsWith("marketplace:")&&t.push(e)}),e.forEach(e=>{"extensions"===e?(t.push(...x(E.installedExtensions,[])),t.push(E.installedExtensions)):"snippets"===e?(t.push(...x(E.installedSnippets,[])),t.push(E.installedSnippets)):"theme"===e&&(t.push(...x(E.installedThemes,[])),t.push(E.installedThemes),t.push(E.themeInstalled))}),t.forEach(e=>{localStorage.removeItem(e),console.debug("Removed "+e)}),console.debug("Marketplace has been reset"),location.reload()},Lr=r=>{var e=document.querySelector("style.marketplaceCSS.marketplaceScheme");if(e&&e.remove(),r){e=document.createElement("style");e.classList.add("marketplaceCSS"),e.classList.add("marketplaceScheme");let t=":root {";Object.keys(r).forEach(e=>{t=(t+=`--spice-${e}: #${r[e]};`)+`--spice-rgb-${e}: ${(e=>{if(3===e.length)e=e.split("").map(e=>e+e).join("");else{if(6!=e.length)throw"Only 3- or 6-digit hex colours are allowed.";if(e.match(/[^0-9a-f]/i))throw"Only hex colours are allowed."}e=e.match(/.{1,2}/g);if(e&&3===e.length)return[parseInt(e[0],16),parseInt(e[1],16),parseInt(e[2],16)];throw"Could not parse hex colour."})(r[e])};`}),t+="}",e.innerHTML=t,document.body.appendChild(e)}},Ir=e=>{try{var t,r,a=document.querySelector("link[href='user.css']"),n=(a&&a.remove(),document.querySelector("style.marketplaceCSS.marketplaceUserCSS"));n&&n.remove(),e?((t=document.createElement("style")).classList.add("marketplaceCSS"),t.classList.add("marketplaceUserCSS"),t.innerHTML=e,document.body.appendChild(t)):((r=document.createElement("link")).setAttribute("rel","stylesheet"),r.setAttribute("href","user.css"),r.classList.add("userCSS"),document.body.appendChild(r))}catch(e){console.warn(e)}},Or=async(e,t)=>{if(!e.cssURL)throw new Error("No CSS URL provided");t=t||await async function(){for(const e of["net","xyz"])try{if("opaqueredirect"===(await fetch("https://cdn.jsdelivr."+e,{redirect:"manual",cache:"no-cache"})).type)return e}catch(e){console.error(e);continue}}();var t=(e=>{const t=new URL(e);return t.host,t.host==="raw.githubusercontent.com"})(e.cssURL)?`https://cdn.jsdelivr.${t}/gh/${e.user}/${e.repo}@${e.branch}/`+e.manifest.usercss:e.cssURL,r=t.replace("/user.css","/assets/");console.debug("Parsing CSS: ",t);let a=await fetch(t+"?time="+Date.now()).then(e=>e.text());for(const o of a.matchAll(new RegExp(`url\\(['|"](?<path>.+?)['|"]\\)`,"gm"))||[]){var n,i=null==(i=null==o?void 0:o.groups)?void 0:i.path;!i||i.startsWith("http")||i.startsWith("data")||(n=r+i.replace(/\.\//g,""),a=a.replace(i,n))}return a};function Tr(e,a){e&&e.forEach(e=>{var t=a||e.user+"-"+e.repo,r=window.sessionStorage.getItem(t),r=r?JSON.parse(r):[];r.push(e),window.sessionStorage.setItem(t,JSON.stringify(r))})}async function Ar(e,t,r){try{var a={text:e,context:t+"/"+r,mode:"gfm"},n=await fetch("https://api.github.com/markdown",{method:"POST",body:JSON.stringify(a)});if(n.ok)return await n.text();throw Spicetify.showNotification(`Error parsing markdown (HTTP ${n.status})`,!0)}catch(e){return null}}function Rr(e){var t,r="snippet"===e.type?"snippet:":`${e.item.user}/${e.item.repo}/`;let a;switch(e.type){case"snippet":a=e.item.title.replaceAll(" ","-");break;case"theme":a=(null==(t=e.item.manifest)?void 0:t.usercss)||"";break;case"extension":a=(null==(t=e.item.manifest)?void 0:t.main)||"";break;case"app":a=(null==(t=null==(t=e.item.manifest)?void 0:t.name)?void 0:t.replaceAll(" ","-"))||""}return"marketplace:installed:"+r+a}var Pr=e=>{var t=decodeURI(e).trim().toLowerCase();return t.startsWith("javascript:")||t.startsWith("data:")||t.startsWith("vbscript:")?"about:blank":e},_r=(e,t)=>{e=e.title||(null==(e=null==e?void 0:e.manifest)?void 0:e.name)||"",t=t.title||(null==(t=null==t?void 0:t.manifest)?void 0:t.name)||"";return e.localeCompare(t)},Mr=(e,t)=>{return void 0===e.lastUpdated||void 0===t.lastUpdated?0:(e=new Date(e.lastUpdated),new Date(t.lastUpdated).getTime()-e.getTime())},jr=(e,t)=>{switch(t){case"a-z":e.sort((e,t)=>_r(e,t));break;case"z-a":e.sort((e,t)=>_r(t,e));break;case"newest":e.sort((e,t)=>Mr(e,t));break;case"oldest":e.sort((e,t)=>Mr(t,e));break;default:e.sort((e,t)=>t.stars-e.stars)}};var u=t(b()),v=t(b()),Br=t(De()),Dr=t($e()),$r=(r=Prism,a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css,(a=r.languages.markup)&&(a.tag.addInlined("style","css"),a.tag.addAttribute("style","css")),t(b())),Fr="button-module__button___hf2qg_marketplace",Ur="button-module__circle___EZ88P_marketplace",w=e=>{var t=e.type||"round",r=[Fr];return"circle"===t&&r.push(Ur),e.classes&&r.push(...e.classes),$r.default.createElement("button",{className:r.join(" "),onClick:e.onClick,"aria-label":e.label||"",disabled:e.disabled},e.children)},Hr=a=>{var e,t="marketplace-customCSS-preview";const[n,r]=v.default.useState("ADD_SNIPPET"!==a.type&&(null==(e=a.content)?void 0:e.item.code)||""),[i,o]=v.default.useState("ADD_SNIPPET"!==a.type&&(null==(e=a.content)?void 0:e.item.title)||""),[s,l]=v.default.useState("ADD_SNIPPET"!==a.type&&(null==(e=a.content)?void 0:e.item.description)||""),[c,u]=v.default.useState("ADD_SNIPPET"!==a.type&&(null==(e=a.content)?void 0:e.item.imageURL)||""),d=()=>i.replace(/\n/g,"").replaceAll(" ","-");const p="marketplace:installed:snippet:"+d(),[h,m]=v.default.useState(!!x(p));let f;return v.default.createElement("div",{id:"marketplace-add-snippet-container"},v.default.createElement("div",{className:"marketplace-customCSS-input-container"},v.default.createElement("label",{htmlFor:"marketplace-custom-css"},g("snippets.customCSS")),v.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},v.default.createElement(Br.default,{value:n,onValueChange:e=>r(e),highlight:e=>(0,Dr.highlight)(e,Dr.languages.css),textareaId:"marketplace-custom-css",textareaClassName:"snippet-code-editor",readOnly:"VIEW_SNIPPET"===a.type,placeholder:g("snippets.customCSSPlaceholder"),style:{}}))),v.default.createElement("div",{className:"marketplace-customCSS-input-container"},v.default.createElement("label",{htmlFor:"marketplace-customCSS-name-submit"},g("snippets.snippetName")),v.default.createElement("input",{id:"marketplace-customCSS-name-submit",className:"marketplace-code-editor",value:i,onChange:e=>{"VIEW_SNIPPET"!==a.type&&o(e.target.value)},placeholder:g("snippets.snippetNamePlaceholder")})),v.default.createElement("div",{className:"marketplace-customCSS-input-container"},v.default.createElement("label",{htmlFor:"marketplace-customCSS-description-submit"},g("snippets.snippetDesc")),v.default.createElement("input",{id:"marketplace-customCSS-description-submit",className:"marketplace-code-editor",value:s,onChange:e=>{"VIEW_SNIPPET"!==a.type&&l(e.target.value)},placeholder:g("snippets.snippetDescPlaceholder")})),v.default.createElement("div",{className:"marketplace-customCSS-input-container"},v.default.createElement("label",{htmlFor:t},g("snippets.snippetPreview")," ","VIEW_SNIPPET"!==a.type&&`(${g("snippets.optional")})`),c&&v.default.createElement("label",{htmlFor:t,style:{textAlign:"center"}},v.default.createElement("img",{className:"marketplace-customCSS-image-preview",src:c,alt:"Preview"}))),"VIEW_SNIPPET"!==a.type&&v.default.createElement(v.default.Fragment,null,v.default.createElement(w,{onClick:()=>{f.click()}},c.length?g("snippets.changeImage"):g("snippets.addImage"),v.default.createElement("input",{id:t,type:"file",style:{display:"none"},ref:e=>f=e,onChange:async e=>{var t,r,a;if(null!=(t=e.target.files)&&t[0])try{a=null==(r=e.target.files)?void 0:r[0];var n=await new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(a),r.onload=()=>{e(r.result)},r.onerror=e=>{t(e)}});n&&u(n)}catch(e){console.error(e)}}})),v.default.createElement(w,{onClick:()=>{var e,t=d(),r=s.trim();h&&"EDIT_SNIPPET"!==a.type?Spicetify.showNotification("That name is already taken!",!0):(console.debug("Installing snippet: "+t),a.content&&a.content.item.title!==t&&(console.debug("Deleting outdated snippet: "+a.content.item.title),localStorage.removeItem("marketplace:installed:snippet:"+a.content.item.title),e=x(E.installedSnippets,[]).filter(e=>{return e!=="marketplace:installed:snippet:"+(null==(e=a.content)?void 0:e.item.title)}),localStorage.setItem(E.installedSnippets,JSON.stringify(e))),localStorage.setItem(p,JSON.stringify({title:t,code:n,description:r,imageURL:c,custom:!0})),-1===(e=x(E.installedSnippets,[])).indexOf(p)&&(e.push(p),localStorage.setItem(E.installedSnippets,JSON.stringify(e))),t=e.map(e=>x(e)),Sr(t),Spicetify.PopupModal.hide(),"EDIT_SNIPPET"===a.type&&location.reload())},disabled:!d()||!n.replace(/\n/g,"\\n")},g("snippets.saveCSS"))),"VIEW_SNIPPET"===a.type&&v.default.createElement(w,{onClick:()=>{a.callback&&a.callback(),m(!h)}},h?g("remove"):g("install")))},Vr=t(b()),Gr=()=>Vr.default.createElement("div",{id:"marketplace-reload-container"},Vr.default.createElement("p",null,g("reloadModal.description")),Vr.default.createElement("div",{className:"marketplace-reload-modal__button-container"},Vr.default.createElement(w,{onClick:()=>{Spicetify.PopupModal.hide(),location.reload()}},g("reloadModal.reloadNow")),Vr.default.createElement(w,{onClick:()=>{Spicetify.PopupModal.hide()}},g("reloadModal.reloadLater")))),d=t(b()),p=t(b()),zr=t(b()),qr="toggle-module__toggle-wrapper___ocE5z_marketplace",Kr="toggle-module__disabled___OYAYf_marketplace",Jr="toggle-module__toggle-input___ceLM4_marketplace",Wr="toggle-module__toggle-indicator-wrapper___6Lcp0_marketplace",Yr="toggle-module__toggle-indicator___nCxwE_marketplace",Xr=e=>{var t="toggle:"+e.storageKey,r=[qr];return!1===e.clickable&&r.push(Kr),zr.default.createElement("label",{className:r.join(" ")},zr.default.createElement("input",{className:Jr,type:"checkbox",checked:e.enabled,"data-storage-key":e.storageKey,id:t,title:"Toggle for "+e.storageKey,onChange:e.onChange}),zr.default.createElement("span",{className:Wr},zr.default.createElement("span",{className:Yr})))},Qr=t(b()),Zr=t(Ue()),ea=t=>{var e=t.sortBoxOptions.map(e=>({value:e.key,label:e.value})),r=t.sortBoxOptions.find(t.sortBySelectedFn);return Qr.default.createElement("div",{className:"marketplace-sortBox"},Qr.default.createElement("div",{className:"marketplace-sortBox-header"},Qr.default.createElement("div",{className:"marketplace-sortBox-header-title"}),Qr.default.createElement(Zr.default,{placeholder:"Select an option",options:e,value:null==r?void 0:r.key,onChange:e=>{t.onChange(e.value)}})))},ta=t(b()),ra=()=>ta.default.createElement("svg",{role:"img",height:"16",width:"16",className:"Svg-sc-ytk21e-0 uPxdw nW1RKQOkzcJcX6aDCZB4",viewBox:"0 0 16 16"},ta.default.createElement("path",{d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8z"}),ta.default.createElement("path",{d:"M7.25 12.026v-1.5h1.5v1.5h-1.5zm.884-7.096A1.125 1.125 0 007.06 6.39l-1.431.448a2.625 2.625 0 115.13-.784c0 .54-.156 1.015-.503 1.488-.3.408-.7.652-.973.818l-.112.068c-.185.116-.26.203-.302.283-.046.087-.097.245-.097.57h-1.5c0-.47.072-.898.274-1.277.206-.385.507-.645.827-.846l.147-.092c.285-.177.413-.257.526-.41.169-.23.213-.397.213-.602 0-.622-.503-1.125-1.125-1.125z"})),aa=window.Spicetify,h=r=>{var e=r.type,t="dropdown"===e?"dropdown:"+r.storageKey:"toggle:"+r.storageKey,a=!!r.modalConfig.visual[r.storageKey];return void 0!==r.description&&null!==r.description||(r.description=""),"dropdown"===e&&r.options?p.default.createElement("div",{className:"settings-row"},p.default.createElement("label",{htmlFor:t,className:"col description"},r.name),p.default.createElement("div",{className:"col action"},p.default.createElement(ea,{sortBoxOptions:r.options.map(e=>({key:e,value:e})),onChange:e=>{return e=e,t=r.storageKey,r.modalConfig.visual[t]=e,localStorage.setItem("marketplace:"+t,String(e)),void r.updateConfig(r.modalConfig);var t},sortBySelectedFn:e=>e.key==r.modalConfig.visual[r.storageKey]}),p.default.createElement(aa.ReactComponent.TooltipWrapper,{label:p.default.createElement(p.default.Fragment,null,r.description.split("\n").map(e=>p.default.createElement(p.default.Fragment,null,e,p.default.createElement("br",null)))),renderInline:!0,showDelay:10,placement:"top",labelClassName:"marketplace-settings-tooltip",disabled:!1},p.default.createElement("div",{className:"marketplace-tooltip-icon"},p.default.createElement(ra,null))))):p.default.createElement("div",{className:"settings-row"},p.default.createElement("label",{htmlFor:t,className:"col description"},r.name),p.default.createElement("div",{className:"col action"},p.default.createElement(Xr,{name:r.name,storageKey:r.storageKey,enabled:a,onChange:e=>{var t=e.target.checked,e=e.target.dataset.storageKey;r.modalConfig.visual[e]=t,console.debug(`toggling ${e} to `+t),localStorage.setItem("marketplace:"+e,String(t)),r.updateConfig(r.modalConfig)}})))},m=t(b()),na=a=>{var e="toggle:"+a.name;const t=a.modalConfig.tabs.reduce((e,t,r)=>t.name===a.name?r:e,-1);var r=a.modalConfig.tabs[t]["enabled"];function n(e,t){var t=e+t,r=a.modalConfig.tabs[t];a.modalConfig.tabs[t]=a.modalConfig.tabs[e],a.modalConfig.tabs[e]=r,localStorage.setItem(E.tabs,JSON.stringify(a.modalConfig.tabs)),a.updateConfig(a.modalConfig)}return m.default.createElement("div",{className:"settings-row"},m.default.createElement("label",{htmlFor:e,className:"col description"},g("tabs."+a.name)),m.default.createElement("div",{className:"col action"},m.default.createElement("button",{title:"Move up",className:"arrow-btn",disabled:0===t,onClick:()=>n(t,-1)},m.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",dangerouslySetInnerHTML:{__html:String(Spicetify.SVGIcons["chart-up"])}})),m.default.createElement("button",{title:"Move down",className:"arrow-btn",disabled:t===a.modalConfig.tabs.length-1,onClick:()=>n(t,1)},m.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor",dangerouslySetInnerHTML:{__html:String(Spicetify.SVGIcons["chart-down"])}})),m.default.createElement(Xr,{name:a.name,storageKey:"tab:"+a.name,clickable:"Extensions"!==a.name,enabled:r,onChange:e=>{a.modalConfig.tabs[t].enabled=e.target.checked,localStorage.setItem(E.tabs,JSON.stringify(a.modalConfig.tabs)),a.updateConfig(a.modalConfig)}})))},ia=async()=>{const e=new MutationObserver(async()=>{var t;document.querySelector(".GenericModal[aria-label='Settings']")||(t=100,await new Promise(e=>setTimeout(e,t)),N("BACKUP"),e.disconnect())});e.observe(document.body,{childList:!0,subtree:!0}),Spicetify.PopupModal.hide()},oa=({CONFIG:e,updateAppConfig:t})=>{const[r,a]=d.default.useState(S({},e)),[n,i]=d.default.useState(g("settings.versionBtn")),o=e=>{t(S({},e)),a(S({},e))};e=document.querySelector("body > generic-modal button.main-trackCreditsModal-closeBtn");const s=document.querySelector("body > generic-modal > div");e&&s&&(e.onclick=()=>location.reload(),e.setAttribute("style","cursor: pointer;"),s.onclick=e=>{e.target===s&&location.reload()});e=x(E.albumArtBasedColor)?d.default.createElement(d.default.Fragment,null,d.default.createElement(h,{name:g("settings.albumArtBasedColorsMode"),storageKey:"albumArtBasedColorsMode",modalConfig:r,updateConfig:o,type:"dropdown",options:["monochromeDark","monochromeLight","analogicComplement","analogic","triad","quad"],description:g("settings.almbumArtColorsModeToolTip")}),d.default.createElement(h,{name:g("settings.albumArtBasedColorsVibrancy"),storageKey:"albumArtBasedColorsVibrancy",modalConfig:r,updateConfig:o,type:"dropdown",options:["desaturated","lightVibrant","prominent","vibrant"],description:g("settings.albumArtBasedColorsVibrancyToolTip")})):null;return d.default.createElement("div",{id:"marketplace-config-container"},d.default.createElement("h2",{className:"settings-heading"},g("settings.optionsHeading")),d.default.createElement(h,{name:g("settings.starCountLabel"),storageKey:"stars",modalConfig:r,updateConfig:o}),d.default.createElement(h,{name:g("settings.tagsLabel"),storageKey:"tags",modalConfig:r,updateConfig:o}),d.default.createElement(h,{name:g("settings.devToolsLabel"),storageKey:"themeDevTools",modalConfig:r,updateConfig:o}),d.default.createElement(h,{name:g("settings.hideInstalledLabel"),storageKey:"hideInstalled",modalConfig:r,updateConfig:o}),d.default.createElement(h,{name:g("settings.colourShiftLabel"),storageKey:"colorShift",modalConfig:r,updateConfig:o}),d.default.createElement(h,{name:g("settings.albumArtBasedColors"),storageKey:"albumArtBasedColors",modalConfig:r,updateConfig:o}),e,d.default.createElement("h2",{className:"settings-heading"},g("settings.tabsHeading")),d.default.createElement("div",{className:"tabs-container"},r.tabs.map(({name:e},t)=>d.default.createElement(na,{key:t,name:e,modalConfig:r,updateConfig:o}))),d.default.createElement("h2",{className:"settings-heading"},g("settings.resetHeading")),d.default.createElement("div",{className:"settings-row"},d.default.createElement("label",{className:"col description"},g("settings.resetDescription")),d.default.createElement("div",{className:"col action"},d.default.createElement(w,{onClick:Nr},g("settings.resetBtn")))),d.default.createElement("h2",{className:"settings-heading"},g("settings.backupHeading")),d.default.createElement("div",{className:"settings-row"},d.default.createElement("label",{className:"col description"},g("settings.backupLabel")),d.default.createElement("div",{className:"col action"},d.default.createElement(w,{onClick:ia},g("settings.backupBtn")))),d.default.createElement("h2",null,g("settings.versionHeading")),d.default.createElement("div",{className:"setting-row"},d.default.createElement("label",{className:"col description"},g("grid.spicetifyMarketplace")," ",vr),d.default.createElement("div",{className:"col action"},d.default.createElement(w,{onClick:()=>{Spicetify.Platform.ClipboardAPI.copy(vr),i(g("settings.versionCopied")),setTimeout(()=>i(g("settings.versionBtn")),3e3)}},n))))},f=t(b()),sa=t(De()),la=t($e()),ca=(Prism.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/},localStorage.getItem(E.themeInstalled)),ua=ca?x(ca):null,da=()=>{const[r,t]=f.default.useState(ua?(e=>{let t="";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))if("object"==typeof e[r]){t+=`[${r}]
`;for(const a in e[r])Object.prototype.hasOwnProperty.call(e[r],a)&&(t+=`${a}=${e[r][a]}
`)}else t+=`${r}=${e[r]}
`;return t})(ua.schemes):g("devTools.noThemeInstalled"));return f.default.createElement("div",{id:"marketplace-theme-dev-tools-container",className:"marketplace-theme-dev-tools-container"},f.default.createElement("div",{className:"devtools-column"},f.default.createElement("label",{htmlFor:"color-ini-editor"},f.default.createElement("h2",{className:"devtools-heading"},g("devTools.colorIniEditor"))),f.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},f.default.createElement(sa.default,{value:r,onValueChange:e=>t(e),highlight:e=>(0,la.highlight)(e,la.languages.ini),textareaId:"color-ini-editor",textareaClassName:"color-ini-editor",readOnly:!ua,placeholder:g("devTools.colorIniEditorPlaceholder"),style:{fontFamily:"monospace",resize:"none"}})),f.default.createElement(w,{onClick:()=>{var e=r;{var t;ca?(t=kr(e),ua.schemes=t,localStorage.setItem(ca,JSON.stringify(ua))):Spicetify.showNotification(g("devTools.noThemeManifest"),!0)}}},g("save"))),f.default.createElement("div",{className:"devtools-column"},f.default.createElement("h2",{className:"devtools-heading"},g("devTools.invalidCSS")),f.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},function(){var e=null==(e=document.querySelector("body > style.marketplaceCSS.marketplaceUserCSS"))?void 0:e.innerHTML,t=new RegExp(".-?[_a-zA-Z]+[_a-zA-Z0-9-]*\\s*{","g");if(!e)return["Error: Class name list not found; please create an issue"];var r=[];for(const i of e.matchAll(t)){var a=i[0].replace(/{/g,"").trim(),n=a.split(" ");let t;for(let e=0;e<n.length;e++){try{t=document.querySelector(""+n[e])}catch(e){t=document.getElementsByClassName(""+a)}t||r.push(a)}}return r}().map((e,t)=>f.default.createElement("div",{key:t,className:"invalid-css-text"},e)))))},k=t(b()),pa=t(De()),ha=t($e()),ma=(Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json,()=>{const[e,t]=k.default.useState("");const r=t=>{if(t){let e;try{e=JSON.parse(t)}catch(e){return void Spicetify.showNotification(g("backupModal.invalidJSON"))}var r;r=e,console.debug("Importing Marketplace"),Nr(),Object.keys(r).forEach(e=>{localStorage.setItem(e,r[e]),console.debug("Imported "+e)}),location.reload()}else Spicetify.showNotification(g("backupModal.noDataPasted"))};return k.default.createElement("div",{id:"marketplace-backup-container"},k.default.createElement("div",{className:"marketplace-backup-input-container"},k.default.createElement("label",{htmlFor:"marketplace-backup"},g("backupModal.inputLabel")),k.default.createElement("div",{className:"marketplace-code-editor-wrapper marketplace-code-editor"},k.default.createElement(pa.default,{value:e,onValueChange:e=>t(e),highlight:e=>(0,ha.highlight)(e,ha.languages.css),textareaId:"marketplace-import-text",textareaClassName:"import-textarea",readOnly:!1,className:"marketplace-code-editor-textarea",placeholder:g("backupModal.inputPlaceholder"),style:{}}))),k.default.createElement(k.default.Fragment,null,k.default.createElement(w,{classes:["marketplace-backup-button"],onClick:()=>{var e=(()=>{const t={};return Object.keys(localStorage).forEach(e=>{e.startsWith("marketplace:")&&(t[e]=localStorage.getItem(e))}),t})();Spicetify.Platform.ClipboardAPI.copy(JSON.stringify(e)),Spicetify.showNotification(g("backupModal.settingsCopied")),Spicetify.PopupModal.hide()}},g("backupModal.exportBtn")),k.default.createElement(w,{classes:["marketplace-backup-button"],onClick:()=>{r(e)}},g("backupModal.importBtn")),k.default.createElement(w,{classes:["marketplace-backup-button"],onClick:async()=>{var e=await(await(await window.showOpenFilePicker())[0].getFile()).text();r(e)}},g("backupModal.fileImportBtn"))))}),N=(e,t,r,a,n)=>{e=((e,t,r,a,n)=>{switch(e){case"ADD_SNIPPET":return{title:g("snippets.addTitle"),content:u.default.createElement(Hr,{type:e}),isLarge:!0};case"EDIT_SNIPPET":return{title:g("snippets.editTitle"),content:u.default.createElement(Hr,{type:e,content:a}),isLarge:!0};case"VIEW_SNIPPET":return{title:g("snippets.viewTitle"),content:u.default.createElement(Hr,{type:e,content:a,callback:n}),isLarge:!0};case"RELOAD":return{title:g("reloadModal.title"),content:u.default.createElement(Gr,null),isLarge:!1};case"SETTINGS":return{title:g("settings.title"),content:u.default.createElement(oa,{CONFIG:t,updateAppConfig:r}),isLarge:!0};case"THEME_DEV_TOOLS":return{title:g("devTools.title"),content:u.default.createElement(da,null),isLarge:!0};case"BACKUP":return{title:g("backupModal.title"),content:u.default.createElement(ma,null),isLarge:!0};default:return{title:"",content:u.default.createElement("div",null),isLarge:!1}}})(e,t,r,a,n),Spicetify.PopupModal.display(e)},fa=[{title:"Rounded 'Now Playing' Bar",description:"Adds rounded corners to the 'Now Playing' bar so it matches the rest of the User Interface.",code:":root{ --border-radius-1: 8px; } .Root__now-playing-bar, .Root__now-playing-bar footer { border-radius: var(--border-radius-1) !important; }",preview:"resources/assets/snippets/rounded-now-playing.png"},{title:"Rounded Images",description:"Adds rounded corners to the cover art, playlist covers, cards and other images",code:"/* Expanded Cover Art Image (+ position fix) */\n .main-navBar-navBar > :nth-child(3) {\n margin: 0 0 0 1px;\n border-radius: 6px;\n }\n \n /* Collapsed Cover Art Image */\n .cover-art-image,\n .artist-artistOverview-sideBlock > div > section > div:nth-child(3) > section:nth-child(2) > div > img,\n .view-homeShortcutsGrid-image {\n border-radius: 4px;\n }\n \n /*\n Playlist Header\n Search Category Card Image\n List Cards\n Local Files Card\n Placeholder Profile Card\n Artist Overview Side Block\n */\n .main-entityHeader-shadow,\n .x-categoryCard-image,\n .main-cardImage-image,\n .main-cardImage-imageWrapper,\n .main-entityHeader-imagePlaceholder > div,\n .artist-artistOverview-sideBlock > div > section {\n border-radius: 6px;\n }\n \n /* Circled Artist + Profile Cards (force) */\n .main-cardImage-circular,\n .main-entityHeader-imagePlaceholder,\n .main-entityHeader-circle {\n border-radius: 50% !important;\n }\n \n /* Track List Image */\n .main-trackList-rowImage {\n border-radius: 3px;\n }",preview:"resources/assets/snippets/rounded-images.png"},{title:"Fix 'Episodes' Icon",description:"Makes the 'Your Episodes' button icon monochromatic like the rest of the icons.",code:".main-yourEpisodesButton-yourEpisodesIcon { background: var(--spice-text); color: var(--spice-sidebar); }",preview:"resources/assets/snippets/fixed-episodes-icon.png"},{title:"Fix 'Liked' Icon",description:"Fix the colours of the Liked icon in sidebar",code:".main-likedSongsButton-likedSongsIcon {\n  color: var(--spice-sidebar);\n  background: var(--spice-text);\n}",preview:"resources/assets/snippets/fix-liked-icon.png"},{title:"Fix 'DJ' Icon",description:"Makes the DJ icon match themes better",code:".main-collectionLinkButton-icon > div { background: var(--spice-text); color: var(--spice-sidebar); }",preview:"resources/assets/snippets/fix-DJ-icon.png"},{title:"Hide Upgrade Button",description:"Makes the upgrade button hidden",code:".main-topBar-UpgradeButton {\n  display: none !important;\n}",preview:"resources/assets/snippets/hide-upgrade-button.png"},{title:"Auto-hide Friends",description:"Collapse the friends activity sidebar on small screens",code:"[aria-label='Friend Activity'] {\n  transition: width 0.3s;\n}\n@media screen and (max-width: 1200px) {\n  [aria-label='Friend Activity'] {\n    width: 0;\n  }\n  [aria-label='Friend Activity'] .LayoutResizer__resize-bar {\n    display: none;\n  }\n}",preview:"resources/assets/snippets/auto-hide-friends.png"},{title:"Smooth Reveal Playlist Gradient",description:"Reveals the playlist gradient header gradient with a fade in effect",code:".main-entityHeader-overlay,\n.main-actionBarBackground-background,\n.main-entityHeader-overlay,\n.main-entityHeader-backgroundColor {\n  -webkit-transition: 3s;\n}",preview:"resources/assets/snippets/smooth-playlist-reveal-gradient.png"},{title:"Remove connect bar",description:"Remove connect bar that causes progress bar displacement when listening on different devices",code:".main-connectBar-connectBar {\n  display: none !important;}",preview:"resources/assets/snippets/remove-connect-bar.png"},{title:"Fix main view width",description:"Makes main view fill up all available space",code:".contentSpacing {\n  max-width: 100% !important;\n}",preview:"resources/assets/snippets/fix-main-view-width.png"},{title:"Left aligned heart icons",description:"Moves the heart icon to the left side of the track title in track views",code:".main-trackList-rowSectionStart {\n  margin-left: 38px !important;\n}\n.main-trackList-rowHeartButton {\n  position: absolute !important;\n  left: 48px !important;\n}",preview:"resources/assets/snippets/left-aligned-heart-icons.png"},{title:"Hover Panels",description:"Have your playlist, right sidebar, and controls bar be hoverable.",code:".Root__nav-bar {\n  position: absolute;\n  width: 35px;\n  opacity: 0;\n  bottom: 0;\n  left: 0;\n  top: 0;\n  z-index: 12;\n  transition: width 400ms, opacity 250ms ease-out;\n}\n.main-yourLibraryX-entryPoints {\n  background: var(--spice-sidebar);\n}\n.Root__nav-bar:hover {\n  width: 250px;\n  opacity: 1;\n  transition: width 250ms, opacity 400ms ease-in;\n}\n.LayoutResizer__resize-bar {\n  cursor: none;\n}\n.Root__top-bar {\n  opacity: 0;\n  transition: visibility 5s, opacity 1s linear;\n}\n.Root__top-bar:hover {\n  transition-delay: 0.5s;\n  opacity: 1;\n  transition: visibility 5s, opacity 0.5s linear;\n}\n.main-topBar-container {\n  -webkit-padding-end: 32px;\n  padding: 16px 85px;\n  padding-inline-end: 32px;\n  max-width: none;\n}\n.main-buddyFeed-container:hover {\n  width: 350px !important;\n  opacity: 1 !important;\n  transition: width 250ms, opacity 400ms ease-in;\n}\n.main-buddyFeed-container {\n  position: absolute;\n  right: -5px;\n  top: 0;\n  bottom: 84px;\n  width: 50px !important;\n  opacity: 0 !important;\n  transition: width 400ms, opacity 250ms ease-out;\n}\n.main-trackList-trackListHeader {\n  top: 0 !important;\n}\n.main-yourLibraryX-navItem {\n  overflow: hidden;\n}\n.main-coverSlotCollapsed-navAltContainer {\n  overflow: visible;\n}\n.LayoutResizer__resize-bar {\n  display: none;\n}\n:root {\n  --left-sidebar-width: 35px !important;\n  --right-sidebar-width: 50px !important;\n}",preview:"resources/assets/snippets/hover-panels.png"},{title:"Fix progress bar displacement",description:"Fixes the progress bar displacement for a few themes. Better version of @CharlieS1103 Snippet",code:".main-connectBar-connectBar {\n  overflow: visible !important;\n  position: absolute !important;\n  display: flex !important;\n  align-items: unset !important;\n  left: 80% !important;\n  height: 20px !important;\n  bottom: 1% !important;\n  padding: 2px !important;\n  background-color: transparent !important;\n  color: var(--spice-text) !important;\n}\n.control-button::after {\n  display: none !important;\n}",preview:"resources/assets/snippets/fix-progress-bar.png"},{title:"Fix playlist hover effect",description:"Fixes the hover effect on the playlist titles in some themes",code:".main-rootlist-rootlistItemOverlay {\n  display: none;\n}",preview:"resources/assets/snippets/fix-playlist-hover.png"},{title:"Disable Homepage Recommendation",description:"Disable Homepage Recommendation charts",code:"section[data-testid='home-page'] .main-shelf-shelf:not([aria-label='Recently played'], [aria-label='Your playlists']) {\n\tdisplay: none !important;\n}",preview:"resources/assets/snippets/disable-recommendation.png"},{title:"Circular Album Art",description:"Makes the now playing album art be circular (like a vinyl)",code:".cover-art { clip-path: circle(50% at 50% 50%);}",preview:"resources/assets/snippets/circular-album-art.png"},{title:"Always show forward button",description:"The navigate forward button hides itself when the window width is smaller. This snipppet makes it so that it is always shown.",code:".main-topBar-historyButtons .main-topBar-forward {\n    display: inline-flex !important;\n}",preview:"resources/assets/snippets/always-show-forward.png"},{title:"Right Side Cover Art",description:"Cover art on right side with animation",code:".main-nowPlayingWidget-nowPlaying > .ellipsis-one-line,\n.main-trackInfo-container {\n margin-left: 74px;\n}\n.main-coverSlotExpanded-container {\n position: fixed;\n top: calc(100% - 305px);\n left: calc(100% - 220px);\n width: 200px;\n height: 200px;\n visibility: hidden;\n transform-origin: center;\n animation: 1s coverExpandedIn;\n animation-fill-mode: forwards;\n}\n.Q4cc5RktWgz2H8_vDrIS {\n display: none;\n}\n.main-coverSlotCollapsed-container {\n position: fixed;\n top: -12px;\n left: 0px;\n width: 56px;\n height: 56px;\n visibility: visible;\n z-index: 1;\n}\n.cover-art .cover-art-image,\n.main-coverSlotCollapsed-container {\n transform-origin: center;\n transition-timing-function: ease-in;\n transition: width 0.5s 0.2s, height 0.5s 0.2s, top 0.3s, left 0.5s,\n box-shadow 0.5s;\n}\n.main-coverSlotCollapsed-container[aria-hidden='true'] {\n left: calc(100vw - 164px);\n top: -240px;\n width: 200px;\n height: 200px;\n visibility: hidden;\n animation: 1s coverExpandedOut;\n}\n.main-coverSlotCollapsed-container[aria-hidden='false'] {\n transition-timing-function: ease-out !important;\n transition: width 0.5s 0.2s, height 0.5s 0.2s, top 0.5s 0.1s, left 0.3s,\n box-shadow 0.5s !important;\n}\n.main-coverSlotCollapsed-container[aria-hidden='true']\n .cover-art\n .cover-art-image,\n.main-nowPlayingWidget-coverExpanded\n .main-coverSlotCollapsed-container\n .cover-art\n .cover-art-image {\n width: 200px;\n height: 200px;\n}\n.main-nowPlayingBar-left {\n z-index: 2;\n}\n.main-nowPlayingBar-center {\n z-index: 1;\n}\n.cover-art.shadow {\n box-shadow: 0 0 10px rgba(var(--spice-rgb-shadow), 1) !important;\n}\n@keyframes coverExpandedIn {\n 99% {\n visibility: hidden;\n }\n 100% {\n visibility: visible;\n }\n}\n@keyframes coverExpandedOut {\n 99% {\n visibility: visible;\n }\n 100% {\n visibility: hidden;\n }\n}",preview:"resources/assets/snippets/right-cover-art.png"},{title:"Better lyrics style",description:"Spotify lyrics are focused and beautified",code:".lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-highlight { filter: blur(1.5px); padding: 15px; font-size: 110%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-active { filter: none; padding: 20px; font-size: 130%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric { filter: blur(1.5px); padding: 15px; font-size: 110%; } .lyrics-lyrics-contentContainer .lyrics-lyricsContent-lyric.lyrics-lyricsContent-unsynced { filter: none; padding: 10px; font-size: 100%; }",preview:"resources/assets/snippets/better-lyrics-style.png"},{title:"Fix now playing icon color",description:"Fixes the now playing icon color",code:`.main-trackList-playingIcon { -webkit-mask-image: url("data:image/svg+xml,%3Csvg id='playing-icon' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 22 24'%3E%3Cdefs%3E%3Cstyle%3E %23playing-icon %7B fill: %2320BC54; %7D @keyframes play %7B 0%25 %7Btransform: scaleY(1);%7D 3.3%25 %7Btransform: scaleY(0.9583);%7D 6.6%25 %7Btransform: scaleY(0.9166);%7D 9.9%25 %7Btransform: scaleY(0.8333);%7D 13.3%25 %7Btransform: scaleY(0.7083);%7D 16.6%25 %7Btransform: scaleY(0.5416);%7D 19.9%25 %7Btransform: scaleY(0.4166);%7D 23.3%25 %7Btransform: scaleY(0.25);%7D 26.6%25 %7Btransform: scaleY(0.1666);%7D 29.9%25 %7Btransform: scaleY(0.125);%7D 33.3%25 %7Btransform: scaleY(0.125);%7D 36.6%25 %7Btransform: scaleY(0.1666);%7D 39.9%25 %7Btransform: scaleY(0.1666);%7D 43.3%25 %7Btransform: scaleY(0.2083);%7D 46.6%25 %7Btransform: scaleY(0.2916);%7D 49.9%25 %7Btransform: scaleY(0.375);%7D 53.3%25 %7Btransform: scaleY(0.5);%7D 56.6%25 %7Btransform: scaleY(0.5833);%7D 59.9%25 %7Btransform: scaleY(0.625);%7D 63.3%25 %7Btransform: scaleY(0.6666);%7D 66.6%25 %7Btransform: scaleY(0.6666);%7D 69.9%25 %7Btransform: scaleY(0.6666);%7D 73.3%25 %7Btransform: scaleY(0.6666);%7D 76.6%25 %7Btransform: scaleY(0.7083);%7D 79.9%25 %7Btransform: scaleY(0.75);%7D 83.3%25 %7Btransform: scaleY(0.8333);%7D 86.6%25 %7Btransform: scaleY(0.875);%7D 89.9%25 %7Btransform: scaleY(0.9166);%7D 93.3%25 %7Btransform: scaleY(0.9583);%7D 96.6%25 %7Btransform: scaleY(1);%7D %7D %23bar1 %7B transform-origin: bottom; animation: play 0.9s -0.51s infinite; %7D %23bar2 %7B transform-origin: bottom; animation: play 0.9s infinite; %7D %23bar3 %7B transform-origin: bottom; animation: play 0.9s -0.15s infinite; %7D %23bar4 %7B transform-origin: bottom; animation: play 0.9s -0.75s infinite; %7D %3C/style%3E%3C/defs%3E%3Ctitle%3Eplaying-icon%3C/title%3E%3Crect id='bar1' class='cls-1' width='4' height='24'/%3E%3Crect id='bar2' class='cls-1' x='6' width='4' height='24'/%3E%3Crect id='bar3' class='cls-1' x='12' width='4' height='24'/%3E%3Crect id='bar4' class='cls-1' x='18' width='4' height='24'/%3E%3C/svg%3E"); background: var(--spice-button); content-visibility: hidden; -webkit-mask-repeat: no-repeat; }`,preview:"resources/assets/snippets/fix-now-playing-icon.png"},{title:"Hide playing gif",description:"Hides the gif that shows the music playing",code:".main-trackList-playingIcon{display: none}",preview:"resources/assets/snippets/hide-playing-gif.png"},{title:"Pointers",description:"Clickable elements are now a pointer",code:"button, .show-followButton-button, .main-dropDown-dropDown, .x-toggle-wrapper, .main-playlistEditDetailsModal-closeBtn, .main-trackList-rowPlayPauseButton, .main-rootlist-rootlistItemLink:link, .main-rootlist-rootlistItemLink:visited, .x-sortBox-sortDropdown, .main-contextMenu-menuItemButton, .main-trackList-column, .main-moreButton-button, .x-downloadButton-button, .main-playButton-PlayButton, .main-coverSlotExpandedCollapseButton-chevron, .main-coverSlotCollapsed-chevron, .control-button:focus, .control-button:hover, .main-repeatButton-button, .main-skipForwardButton-button, .main-playPauseButton-button, .main-skipBackButton-button, .main-shuffleButton-button, .main-addButton-button, .progress-bar__slider, .playback-bar, .main-editImageButton-image, .X1lXSiVj0pzhQCUo_72A { cursor: pointer !important; }",preview:"resources/assets/snippets/pointer.png"},{title:"Remove Top gradient",description:"Removes gradient from home page and playlist page",code:".main-entityHeader-backgroundColor { display: none !important; } .main-actionBarBackground-background { display: none !important; } .main-home-homeHeader { display: none !important; }",preview:"resources/assets/snippets/remove-gradient.png"},{title:"Fix Liked Button",description:"Fixes Liked Button colors",code:'#_R_G *:not([fill="none"]) { fill: var(--spice-button) !important; } #_R_G *:not([stroke="none"]) { stroke: var(--spice-button); } .main-addButton-button[aria-checked="false"] { color: rgba(var(--spice-rgb-selected-row), 0.7); } .control-button-heart[aria-checked="true"], .main-addButton-button, .main-addButton-active:focus, .main-addButton-active:hover { color: var(--spice-button); }',preview:"resources/assets/snippets/fix-liked-button.png"},{title:"Hide Sidebar ScrollBar",description:"Hides Sidebar ScrollBar near playlist section",code:".os-scrollbar:nth-child(6) .os-scrollbar-handle { visibility: hidden; }",preview:"resources/assets/snippets/hide-sidebar-scrollbar.png"},{title:"Modern ScrollBar",description:"Thin rounded modern scrollbar",code:".os-theme-spotify.os-host-transition > .os-scrollbar-vertical > .os-scrollbar-track > .os-scrollbar-handle { border-radius: 4px; width: 6px; background-color: var(--spice-button-disabled); } .os-theme-spotify.os-host-transition > .os-scrollbar-vertical > .os-scrollbar-track { width: 6px; }",preview:"resources/assets/snippets/modern-scrollbar.png"},{title:"Remove liked and Episodes icon",description:"Removes the liked and episodes icon from the sidebar",code:'.main-collectionLinkButton-collectionLinkButton[href="/collection/tracks"], .main-collectionLinkButton-collectionLinkButton[href="/collection/episodes"] {display: none;}',preview:"resources/assets/snippets/remove-ep-likes.png"},{title:"Rotating Cover Art",description:"Adds circular mask to cover art and rotation",code:"@keyframes rotating { from { transform: rotate(0deg); } to { transform: rotate(360deg); }} .cover-art { animation: rotating 10s linear infinite; clip-path: circle(50% at 50% 50%);}",preview:"resources/assets/snippets/rotating-coverart.png"},{title:"Hide liked songs card",description:"Hides the sometimes unfitting liked Songs card in the Your Libary tab",code:".collection-collectionEntityHeroCard-likedSongs{ display: none; }",preview:"resources/assets/snippets/hide-likedSongs-card.png"},{title:"Fix playlist and folder position",description:"Replaces the playlists section in the left side bar to align with all the other category icons for the new UI. Screenshot includes 'Playlist icons' snippet",code:"div.playlist-item__img.folder, img.playlist-item__img { margin-right: 16px; } div.main-rootlist-rootlist { --left-sidebar-item-height: 32px; --left-sidebar-item-indentation-width: 10px; } div.GlueDropTarget.personal-library > * { height: 32px !important; }",preview:"resources/assets/snippets/fix-playlist-and-folder-position.png"},{title:"Remove recently played from homepage",description:"Removes the recently played shelf from the home page",code:"section.main-shelf-shelf[aria-label='Recently played'] { visibility: hidden; position: absolute; }",preview:"resources/assets/snippets/remove-recently-played.png"},{title:"Make custom app icons thicker",description:"Gives icons from the sticky list a thicker border",code:"#spicetify-sticky-list>li:nth-child(1n+1)>a>div.icon.collection-icon>svg:not(.lucide-crown) { stroke: currentcolor; stroke-width: 11px; } .collection-icon { color: unset; }",preview:"resources/assets/snippets/thicker-sticky-list-icons.png"},{title:"Pretty Lyrics",description:"Gets rid of the ugly background colour on the lyrics page and makes it consistent with themes. Works best with dark themes.",code:".lyrics-lyrics-background { display: none; } .lyrics-lyrics-contentWrapper>*:not(.lyrics-lyricsContent-active, .lyrics-lyricsContent-highlight, .lyrics-lyricsContent-provider, .lyrics-lyricsContent-description, .lyrics-lyricsContent-unsynced) { color: #FFFFFF4D !important; } .lyrics-lyrics-contentWrapper>*:not(.lyrics-lyricsContent-active, .lyrics-lyricsContent-highlight, .lyrics-lyricsContent-provider, .lyrics-lyricsContent-description, .lyrics-lyricsContent-unsynced):hover { color: #FFFFFF !important; } .lyrics-lyricsContent-highlight { color: #FFFFFF66; } .lyrics-lyricsContent-unsynced { color: #FFFFFF !important; } .lyrics-lyricsContent-unsynced:hover { color: #FFFFFF !important; } .lyrics-lyricsContent-provider, .lyrics-lyricsContent-description { color: #FFFFFFB6 !important; }",preview:"resources/assets/snippets/pretty-lyrics.png"},{title:"Oneko",description:"Adds Oneko onto your playback bar!",code:".player-controls .playback-progressbar::before { content: ''; width: 32px; height: 32px; bottom: calc(100% - 7px); right: 10px; position: absolute; image-rendering: pixelated; background-image: url('https://raw.githubusercontent.com/adryd325/oneko.js/14bab15a755d0e35cd4ae19c931d96d306f99f42/oneko.gif'); animation: oneko 1s infinite; } @keyframes oneko { 0%, 50% { background-position: -64px 0; } 50.0001%, 100% { background-position: -64px -32px; } }",preview:"resources/assets/snippets/oneko.png"},{title:"Remove Popular sections from homepage",description:"Thanks Spotify, but I have a music taste",code:".main-shelf-shelf.Shelf:has(> div > div > .main-shelf-seeAll[href='/section/0JQ5DAuChZYPe9iDhh2mJz'], [href='/section/0JQ5DAnM3wGh0gz1MXnu4h'], [href='/section/0JQ5DAnM3wGh0gz1MXnu3B'],[href='/section/0JQ5DAnM3wGh0gz1MXnu3D']) { display: none !important; }",preview:"resources/assets/snippets/remove-popular.png"},{title:"Dark Lyrics",description:"Replaces the highly saturated lyrics backgrounds with a very subtle dark gradient",code:".lyrics-lyrics-background { background-image: linear-gradient(315deg,var(--lyrics-color-background),black); background-size: 500%; } .lyrics-lyricsContent-lyric.lyrics-lyricsContent-highlight { color: white; } .lyrics-lyricsContent-lyric { color: #424242; }",preview:"resources/assets/snippets/dark-lyrics.png"},{title:"Thicker Bars",description:"Makes the song progress and volume bar thicker",code:".x-progressBar-progressBarBg { height: 100% !important; } .x-progressBar-sliderArea { height: 100% !important; } .x-progressBar-fillColor { height: 100% !important; }",preview:"resources/assets/snippets/thicker-bars.png"},{title:"Hide friends activity button",description:"Hides the friends activity button next to your profile picture",code:"button.encore-over-media-set.main-topBar-buddyFeed {display: none;}",preview:"resources/assets/snippets/hide-friends-activity-button.png"},{title:"Fullscreen hide playing from",description:"Hides the playing from card while in fullscreen view",code:".npv-header.npv-header {display: none;}",preview:"resources/assets/snippets/fullscreen-hide-playing-from.png"},{title:"Fullscreen hide next up",description:"Hides the next up card while in fullscreen view (appears shortly before switching to the next song)",code:".npv-up-next.fade-in-and-out-transition-enter-done {display: none;}",preview:"resources/assets/snippets/fullscreen-hide-next-up.png"},{title:"Hide podcast tab",description:"Hides the podcast tab in Your Library",code:"[href='/collection/podcasts'] {display: none;}",preview:"resources/assets/snippets/hide-podcast-tab.png"},{title:"Hide profile username",description:"Hides your username next to your profile picture",code:"span.Type__TypeElement-sc-goli3j-0.TypeElement-mestoBold-type.main-userWidget-displayName {display: none !important;}",preview:"resources/assets/snippets/hide-profile-username.png"},{title:"Hide now playing view button",description:"Hides the now playing view button in the playbar (only triggers after you click somewhere/do something)",code:"button.Button-sc-1dqy6lx-0.Button-sm-16-buttonTertiary-iconOnly-useBrowserDefaultFocusStyle.main-genericButton-button:has(span):has(svg):has(path[d='M11.196 8 6 5v6l5.196-3z']) {display: none;}",preview:"resources/assets/snippets/hide-now-playing-view-button.png"},{title:"Hide play count",description:"Hides the play count on songs/albums etc so you can give each songs its chance without thinking about numbers",code:".main-trackList-playsHeader,.main-trackList-rowPlayCount {display: none}",preview:"resources/assets/snippets/hide-play-count.png"},{title:"Hide recent searches",description:"Hides the recent searches section on the search page",code:".search-searchBrowse-SearchBrowse > section {display: none;}",preview:"resources/assets/snippets/hide-recent-searches.png"},{title:"Duck",description:"Adds dancing duck onto your playback bar!",code:".player-controls .playback-progressbar::before { content: ''; width: 32px; height: 32px; bottom: calc(100% - 7px); right: 10px; position: absolute; image-rendering: pixelated; background-size: 32px 32px; background-image: url('https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZzdsM2Y2aHh3cTQ2Z3JzbXAzMXJrZjdiM3IwMXhnaTFnc295ZnRkZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/cCOVfFwDI3awdse5A3/giphy.gif'); }",preview:"resources/assets/snippets/duck.png"},{title:"Duotone Album Art",description:"Changes the album art into a duotone version with two colors of your choice",code:":root{--gmaa-base:#191414;--gmaa-bg-blend:lighten;--gmaa-blur:0;--gmaa-fg-blend:multiply;--gmaa-foreground:#1cb955;--gmaa-opacity:.74;--gmaa-spacing:0}.cover-art{background-color:var(--gmaa-base);display:flex;flex:1 1 100%;height:100%;overflow:hidden;position:relative}.cover-art img{filter:grayscale(100%) contrast(1) blur(var(--gmaa-blur));flex:1 0 100%;height:100%;max-width:100%;mix-blend-mode:var(--gmaa-bg-blend);object-fit:cover;opacity:var(--gmaa-opacity);position:relative;width:100%}.cover-art::before{background-color:var(--gmaa-foreground);bottom:0;content:'';height:100%;left:0;mix-blend-mode:var(--gmaa-fg-blend);position:absolute;right:0;top:0;width:100%;z-index:1}.cover-art-icon{display:none;visibility:hidden}",preview:"resources/assets/snippets/duotone-album-art.png"},{title:"Thin Library Sidebar Rows",description:"Single-line rows in the library sidebar, like the pre-2023 UI",code:'.main-yourLibraryX-listItemGroup {grid-template-rows: none !important;} .main-yourLibraryX-listItemGroup * {padding-block: 0;}.main-yourLibraryX-listItem [role="group"] {min-block-size: 0 !important;} .main-yourLibraryX-listItem .HeaderArea .Column {flex-direction: row; gap: 0.5em;} .main-yourLibraryX-listItem .HeaderArea * {padding-top: 0 !important; padding-bottom: 0 !important;} .main-yourLibraryX-listItem .x-entityImage-imageContainer, .main-yourLibraryX-rowCover {width: 1.6em !important; height: 1.6em !important;} .main-yourLibraryX-listRowSubtitle {padding-top: 0px;}',preview:"resources/assets/snippets/thin-library-sidebar-rows.png"},{title:"Default Progress Bar",description:"Return progress bar to default size and location on themes that change it",code:".playback-bar {position: relative !important; display: block !important; --playback-bar-grid-gap: 8px !important; -webkit-box-orient: horizontal !important; -webkit-box-direction: normal !important; -webkit-box-pack: justify !important; -ms-flex-pack: justify !important; -webkit-box-align: center !important; -ms-flex-align: center !important; align-items: center !important; display: -webkit-box !important; display: -ms-flexbox !important; display: flex !important; -ms-flex-direction: row !important; flex-direction: row !important; gap: var(--playback-bar-grid-gap) !important; justify-content: space-between !important; height: 12px !important;} .x-progressBar-progressBarBg {--progress-bar-height: 6px !important; --progress-bar-radius: 10px !important;} :root .Root__now-playing-bar .playback-bar > div {height: 17.59px !important;} .player-controls__buttons--new-icons { margin-bottom: 12px !importan;} .main-nowPlayingBar-nowPlayingBar {padding-bottom: 0px !important;}",preview:"resources/assets/snippets/default-progress-bar.png"},{title:"Fix Listening On",description:"Fix listening on for some themes that move it up or make the text not visible",code:".Svg-presentation-essentialBase-small-icon-autoMirror {fill: var(--spice-text);} .TypeElement-mesto-textBase-type {color: var(--spice-text) !important;} .main-devicePicker-indicator {display: none !important;} .main-nowPlayingBar-container {height: 72px !important;} .main-connectBar-connectBar {position: absolute !important; align-items: center !important; top: 42px !important; height: 32px !important; align-self: center !important; background-color: transparent !important; width: 30% !important;}",preview:"resources/assets/snippets/fix-listening-on.png"},{title:"Smooth Progress/Volume bar",description:"Makes the Progress/Volume bar glide",code:".x-progressBar-fillColor { transition: 500ms; } .progress-bar__slider { transition: 500ms; }",preview:"resources/assets/snippets/smooth-progress-bar.png"},{title:"Centered Lyrics",description:"Centers the lyrics on the lyrics page",code:".lyrics-lyrics-contentWrapper { text-align: center; }",preview:"resources/assets/snippets/centered-lyrics.png"},{title:"Hide lyrics button",description:"Hides the lyrics button in the playbar",code:"button.main-nowPlayingBar-lyricsButton { display: none; }",preview:"resources/assets/snippets/hide-lyrics-button.png"}];async function ga(e,t=1,r=[]){let a=`https://api.github.com/search/repositories?q=${encodeURIComponent("topic:"+e)}&per_page=100`;t&&(a+="&page="+t);var n=JSON.parse(window.sessionStorage.getItem(e+"-page-"+t)||"null")||await fetch(a).then(e=>e.json()).catch(()=>null);return null!=n&&n.items?(window.sessionStorage.setItem(e+"-page-"+t,JSON.stringify(n)),K(S({},n),{page_count:n.items.length,items:n.items.filter(e=>!r.includes(e.html_url))})):(Spicetify.showNotification("Too Many Requests, Cool Down.",!0),{items:[]})}var r=new Blob([`
  self.addEventListener('message', async (event) => {
    const url = event.data;
    const response = await fetch(url);
    const data = await response.json().catch(() => null);
    self.postMessage(data);
  });
`],{type:"application/javascript"}),va=URL.createObjectURL(r);async function ba(e,t,r){var a=e+"-"+t,n=window.sessionStorage.getItem(a),i=JSON.parse(window.sessionStorage.getItem("noManifests")||"[]");if(n)return JSON.parse(n);n=`https://raw.githubusercontent.com/${e}/${t}/${r}/manifest.json`;if(i.includes(n))return null;let o=await async function(e){const a=new Worker(va);return new Promise(t=>{const r=e=>{a.terminate(),t(e)};a.postMessage(e),a.addEventListener("message",e=>r(e.data),{once:!0}),a.addEventListener("error",()=>r(null),{once:!0})})}(n);return o?(Tr(o=Array.isArray(o)?o:[o],a),o):Tr([n],"noManifests")}async function ya(e,a,n,i=!1){try{var t=e.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!t||!t.groups)return null;const{user:o,repo:s}=t.groups;return(await ba(o,s,a)).reduce((e,t)=>{var r=t.branch||a,r={manifest:t,title:t.name,subtitle:t.description,authors:Er(t.authors,o),user:o,repo:s,branch:r,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.preview,extensionURL:t.main.startsWith("http")?t.main:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.main,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${o}/${s}/${r}/`+t.readme,stars:n,tags:t.tags};return t&&t.name&&t.description&&t.main&&(i&&localStorage.getItem(`marketplace:installed:${o}/${s}/`+t.main)||e.push(r)),e},[])}catch(e){return null}}async function wa(e,a,n){try{var t=e.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!t||!t.groups)return null;const{user:i,repo:o}=t.groups;return(await ba(i,o,a)).reduce((e,t)=>{var r=t.branch||a,r={manifest:t,title:t.name,subtitle:t.description,authors:Er(t.authors,i),user:i,repo:o,branch:r,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${i}/${o}/${r}/`+t.preview,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${i}/${o}/${r}/`+t.readme,stars:n,tags:t.tags,cssURL:t.usercss.startsWith("http")?t.usercss:`https://raw.githubusercontent.com/${i}/${o}/${r}/`+t.usercss,schemesURL:t.schemes?t.schemes.startsWith("http")?t.schemes:`https://raw.githubusercontent.com/${i}/${o}/${r}/`+t.schemes:null,include:t.include};return null!=t&&t.name&&null!=t&&t.usercss&&null!=t&&t.description&&e.push(r),e},[])}catch(e){return null}}async function ka(e,a,n){try{var t=e.match(new RegExp("https:\\/\\/api\\.github\\.com\\/repos\\/(?<user>.+)\\/(?<repo>.+)\\/contents"));if(!t||!t.groups)return null;const{user:i,repo:o}=t.groups;return(await ba(i,o,a)).reduce((e,t)=>{var r=t.branch||a,r={manifest:t,title:t.name,subtitle:t.description,authors:Er(t.authors,i),user:i,repo:o,branch:r,imageURL:t.preview&&t.preview.startsWith("http")?t.preview:`https://raw.githubusercontent.com/${i}/${o}/${r}/`+t.preview,readmeURL:t.readme&&t.readme.startsWith("http")?t.readme:`https://raw.githubusercontent.com/${i}/${o}/${r}/`+t.readme,stars:n,tags:t.tags};return t&&t.name&&t.description&&e.push(r),e},[])}catch(e){return null}}var Sa=async()=>{return(await fetch("https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/blacklist.json").then(e=>e.json()).catch(()=>({}))).repos},Ea=async()=>{return fa.reduce((e,t)=>{t=S({},t);return t.preview&&(t.imageURL=t.preview.startsWith("http")?t.preview:"https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/"+t.preview,delete t.preview),e.push(t),e},[])},Ca=t(b()),xa=class extends Ca.default.Component{render(){return Ca.default.createElement("div",{onClick:this.props.onClick},Ca.default.createElement("p",{style:{fontSize:100,lineHeight:"65px"}},"»"),Ca.default.createElement("span",{style:{fontSize:20}},"Load more"))}},L=t(b()),Na=()=>L.default.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},L.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor",strokeWidth:"2"},L.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"0s"}),L.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"0s"})),L.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor",strokeWidth:"2"},L.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"-0.5s"}),L.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"-0.5s"}))),La=t(b()),Ia=()=>La.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},La.default.createElement("path",{d:"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z",fill:"currentColor"})),Oa=t(b()),Ta=()=>Oa.default.createElement("svg",{className:"devtools-icon",version:"1.1",viewBox:"1 1 22 22",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},Oa.default.createElement("g",{className:"devtools-icon-internal",id:"grid_system"}),Oa.default.createElement("g",{id:"_icons"},Oa.default.createElement("path",{d:"M18,12v-0.9l0.7-5.7C18.8,4.5,18.6,3.7,18,3c-0.6-0.6-1.4-1-2.2-1H8.3C7.4,2,6.6,2.4,6,3C5.4,3.7,5.2,4.5,5.3,5.4L6,11.1   V12c0,1.6,1.3,2.9,2.8,3l-0.4,2.9c-0.1,1,0.2,2.1,0.8,2.9S11,22,12,22s2-0.5,2.7-1.2s1-1.8,0.8-2.9L15.2,15   C16.7,14.9,18,13.6,18,12z M7.5,4.3C7.7,4.1,8,4,8.3,4H13v2c0,0.6,0.4,1,1,1s1-0.4,1-1V4h0.7c0.3,0,0.6,0.1,0.8,0.3   c0.2,0.2,0.3,0.5,0.2,0.8L16.1,10H7.9L7.3,5.1C7.2,4.8,7.3,4.6,7.5,4.3z M13.2,19.4c-0.6,0.7-1.8,0.7-2.4,0   c-0.3-0.4-0.4-0.8-0.4-1.3l0.5-3.2h2.3l0.5,3.2C13.7,18.6,13.5,19.1,13.2,19.4z M15,13h-1h-4H9c-0.6,0-1-0.4-1-1h8   C16,12.6,15.6,13,15,13z"}))),I=t(b()),Aa=t(Ue()),a=class extends I.default.Component{constructor(e){super(e)}render(){var e=this.props["t"];return this.props.item.enabled?I.default.createElement("li",{className:"marketplace-tabBar-headerItem","data-tab":this.props.item.value,onClick:e=>{e.preventDefault(),this.props.switchTo(this.props.item)}},I.default.createElement("a",{"aria-current":"page",className:"marketplace-tabBar-headerItemLink "+(this.props.item.active?"marketplace-tabBar-active":""),draggable:"false",href:""},I.default.createElement("span",{className:"main-type-mestoBold"},e("tabs."+this.props.item.value)))):null}},Ra=Jt()(a),Pa=I.default.memo(function({items:e,switchTo:t}){return I.default.createElement("li",{className:"marketplace-tabBar-headerItem"},I.default.createElement(Aa.default,{className:"main-type-mestoBold",options:e,value:"More",placeholder:"More",onChange:t}))}),_a=e=>{const t=document.querySelector(".Root__main-view .os-resize-observer-host");if(!t)return null;const[r,a]=(0,I.useState)(t.clientWidth),n=()=>a(t.clientWidth),i=()=>{var e=document.querySelector(".marketplace-tabBar"),t=document.querySelector(".main-topBar-topbarContentWrapper");e&&t?(e&&t&&"/marketplace"===Spicetify.Platform.History.location.pathname&&t.appendChild(e),Spicetify.Platform.History.listen(({pathname:e})=>{"/marketplace"!=e&&null!=(e=document.querySelector(".marketplace-tabBar"))&&e.remove()})):setTimeout(i,100)};return(0,I.useEffect)(()=>{const e=new ResizeObserver(n);return e.observe(t),()=>{e.disconnect()}}),(0,I.useEffect)(()=>{i()}),I.default.createElement(Ma,{windowSize:r,links:e.links,activeLink:e.activeLink,switchCallback:e.switchCallback})},Ma=I.default.memo(function({links:e,activeLink:r,switchCallback:t,windowSize:a=1/0}){const n=I.default.useRef(null),[i,o]=(0,I.useState)([]),[s,l]=(0,I.useState)(0),[c,u]=(0,I.useState)([]),d=e.map(({name:e,enabled:t})=>{return{label:e,value:e,active:e===r,enabled:t}});return(0,I.useEffect)(()=>{n.current&&l(n.current.clientWidth)},[a,null==(a=n.current)?void 0:a.clientWidth]),(0,I.useEffect)(()=>{var e;n.current&&(e=Array.from(n.current.children).map(e=>e.clientWidth),o(e))},[e]),(0,I.useEffect)(()=>{if(n.current)if(i.reduce((e,t)=>e+t,0)<=s)u([]);else{var e=Math.max(...i);const a=[];let r=e;i.forEach((e,t)=>{s>=r+e?r+=e:a.push(t)}),u(a)}},[s,i]),I.default.createElement("nav",{className:"marketplace-tabBar marketplace-tabBar-nav"},I.default.createElement("ul",{className:"marketplace-tabBar-header",ref:n},d.filter((e,t)=>!c.includes(t)).map(e=>I.default.createElement(Ra,{key:e.value,item:e,switchTo:t})),c.length||0===i.length?I.default.createElement(Pa,{items:c.map(e=>d[e]).filter(e=>e),switchTo:t}):null))}),O=t(b()),ja=t(b()),Ba=()=>ja.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 448 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},ja.default.createElement("path",{d:"M53.21 467c1.562 24.84 23.02 45 47.9 45h245.8c24.88 0 46.33-20.16 47.9-45L416 128H32L53.21 467zM432 32H320l-11.58-23.16c-2.709-5.42-8.25-8.844-14.31-8.844H153.9c-6.061 0-11.6 3.424-14.31 8.844L128 32H16c-8.836 0-16 7.162-16 16V80c0 8.836 7.164 16 16 16h416c8.838 0 16-7.164 16-16V48C448 39.16 440.8 32 432 32z",fill:"currentColor"})),Da=t(b()),$a=()=>Da.default.createElement("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 512 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},Da.default.createElement("path",{d:"M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z",fill:"currentColor"})),Fa=t(b()),Ua=()=>Fa.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},Fa.default.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",fill:"currentColor"})),Ha=t(b()),Va=e=>{return Ha.default.createElement("div",{className:"marketplace-card__authors"},e.authors.map((e,t)=>Ha.default.createElement("a",{title:e.name,className:"marketplace-card__author",href:e.url,draggable:"false",dir:"auto",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),key:t},e.name)))},Ga=t(b()),za=a=>{const[e,t]=Ga.default.useState(!1),n={[g("grid.externalJS")]:"external JS",[g("grid.dark")]:"dark",[g("grid.light")]:"light"};var r=e=>{return e.filter((e,t,r)=>r.indexOf(e)===t).reduce((e,t)=>{var r=n[t]||t;return!a.showTags&&t!==g("grid.externalJS")||e.push(Ga.default.createElement("li",{className:"marketplace-card__tag",draggable:!1,"data-tag":r},t)),e},[])},i=a.tags.slice(0,4),o=a.tags.slice(4);return Ga.default.createElement("div",{className:"marketplace-card__tags-container"},Ga.default.createElement("ul",{className:"marketplace-card__tags"},r(i),o.length&&e?r(o):null),o.length&&!e?Ga.default.createElement("button",{className:"marketplace-card__tags-more-btn",onClick:e=>{e.stopPropagation(),t(!0)}},"..."):null)},T=window.Spicetify,qa=class extends O.default.Component{constructor(e){super(e),this.key=null,this.type=qa,this.menuType=T.ReactComponent.Menu,this.localStorageKey=Rr(e),Object.assign(this,e),this.tags=e.item.tags||[],e.item.include&&this.tags.push(g("grid.externalJS")),this.state={installed:null!==localStorage.getItem(this.localStorageKey),stars:this.props.item.stars||0,tagsExpanded:!1,externalUrl:this.props.item.user&&this.props.item.repo?`https://github.com/${this.props.item.user}/`+this.props.item.repo:"",lastUpdated:this.props.item.user&&this.props.item.repo?this.props.item.lastUpdated:void 0}}isInstalled(){return null!==localStorage.getItem(this.localStorageKey)}async componentDidMount(){if("Installed"===this.props.CONFIG.activeTab&&"snippet"!==this.props.type){var e=`https://api.github.com/repos/${this.props.item.user}/`+this.props.item.repo,{stargazers_count:e,pushed_at:t}=await fetch(e).then(e=>e.json());if(this.state.stars!==e&&this.props.CONFIG.visual.stars&&console.debug("Stars updated to: "+e),this.state.lastUpdated!==t)switch(console.debug("New update pushed at: "+t),this.props.type){case"extension":this.installExtension();break;case"theme":this.installTheme(!0)}}}buttonClicked(){var e,t;"extension"===this.props.type?(this.isInstalled()?(console.debug("Extension already installed, removing"),this.removeExtension()):this.installExtension(),N("RELOAD")):"theme"===this.props.type?(t=(t=localStorage.getItem(E.themeInstalled))?x(t,{}):{},this.isInstalled()?(console.debug("Theme already installed, removing"),this.removeTheme(this.localStorageKey)):(this.removeTheme(),this.installTheme()),(null!=(e=this.props.item.manifest)&&e.include||t.include)&&N("RELOAD")):"app"===this.props.type?window.open(this.state.externalUrl,"_blank"):"snippet"===this.props.type?this.isInstalled()?(console.debug("Snippet already installed, removing"),this.removeSnippet()):this.installSnippet():console.error("Unknown card type")}installExtension(){var e,t,r,a,n,i,o,s,l,c,u;console.debug("Installing extension "+this.localStorageKey),this.props.item?({manifest:u,title:e,subtitle:t,authors:r,user:a,repo:n,branch:i,imageURL:o,extensionURL:s,readmeURL:l,lastUpdated:c}=this.props.item,localStorage.setItem(this.localStorageKey,JSON.stringify({manifest:u,type:this.props.type,title:e,subtitle:t,authors:r,user:a,repo:n,branch:i,imageURL:o,extensionURL:s,readmeURL:l,stars:this.state.stars,lastUpdated:c})),-1===(u=x(E.installedExtensions,[])).indexOf(this.localStorageKey)&&(u.push(this.localStorageKey),localStorage.setItem(E.installedExtensions,JSON.stringify(u))),console.debug("Installed"),this.setState({installed:!0})):T.showNotification("There was an error installing extension",!0)}removeExtension(){var e;localStorage.getItem(this.localStorageKey)&&(console.debug("Removing extension "+this.localStorageKey),localStorage.removeItem(this.localStorageKey),e=x(E.installedExtensions,[]).filter(e=>e!==this.localStorageKey),localStorage.setItem(E.installedExtensions,JSON.stringify(e)),console.debug("Removed"),this.setState({installed:!1}))}async installTheme(r=!1){var a=this.props["item"];if(a){console.debug("Installing theme "+this.localStorageKey);let e={},t=null;r?({schemes:r,activeScheme:n}=x(this.localStorageKey,{}),e=r,t=n):a.schemesURL&&(r=await(await fetch(a.schemesURL)).text(),e=kr(r));var n=t||Object.keys(e)[0]||null,{manifest:r,title:i,subtitle:o,authors:s,user:l,repo:c,branch:u,imageURL:d,extensionURL:p,readmeURL:h,cssURL:m,schemesURL:f,include:g,lastUpdated:v}=(console.debug(e,n),a),r=(localStorage.setItem(this.localStorageKey,JSON.stringify({manifest:r,type:this.props.type,title:i,subtitle:o,authors:s,user:l,repo:c,branch:u,imageURL:d,extensionURL:p,readmeURL:h,stars:this.state.stars,tags:this.tags,cssURL:m,schemesURL:f,include:g,schemes:e,activeScheme:n,lastUpdated:v})),x(E.installedThemes,[]));-1===r.indexOf(this.localStorageKey)&&(r.push(this.localStorageKey),localStorage.setItem(E.installedThemes,JSON.stringify(r)),localStorage.setItem(E.themeInstalled,this.localStorageKey)),console.debug("Installed"),a.include||(this.fetchAndInjectUserCSS(this.localStorageKey),this.props.updateActiveTheme(this.localStorageKey),this.props.updateColourSchemes(e,n),(o=null==(i=this.props.item.manifest)?void 0:i.name)&&(T.Config.current_theme=o),n&&(T.Config.color_scheme=n)),this.setState({installed:!0})}else T.showNotification("There was an error installing theme",!0)}removeTheme(t){var e=(t=t||localStorage.getItem(E.themeInstalled))&&localStorage.getItem(t);t&&e&&(console.debug("Removing theme "+t),localStorage.removeItem(t),localStorage.removeItem(E.themeInstalled),e=x(E.installedThemes,[]).filter(e=>e!==t),localStorage.setItem(E.installedThemes,JSON.stringify(e)),console.debug("Removed"),this.fetchAndInjectUserCSS(null),this.props.updateActiveTheme(null),this.props.updateColourSchemes(null,null),T.Config.current_theme=T.Config.local_theme,T.Config.color_scheme=T.Config.local_color_scheme,this.setState({installed:!1}))}installSnippet(){console.debug("Installing snippet "+this.localStorageKey),localStorage.setItem(this.localStorageKey,JSON.stringify({code:this.props.item.code,title:this.props.item.title,description:this.props.item.description,imageURL:this.props.item.imageURL}));var e=x(E.installedSnippets,[]),e=(-1===e.indexOf(this.localStorageKey)&&(e.push(this.localStorageKey),localStorage.setItem(E.installedSnippets,JSON.stringify(e))),e.map(e=>x(e)));Sr(e),this.setState({installed:!0})}removeSnippet(){localStorage.removeItem(this.localStorageKey);var e=x(E.installedSnippets,[]).filter(e=>e!==this.localStorageKey),e=(localStorage.setItem(E.installedSnippets,JSON.stringify(e)),e.map(e=>x(e)));Sr(e),this.setState({installed:!1})}async fetchAndInjectUserCSS(e){try{var t=window.sessionStorage.getItem("marketplace-request-tld")||void 0,r=e?await Or(this.props.item,t):void 0;Ir(r)}catch(e){console.warn(e)}}openReadme(){var e;null!=(e=this.props.item)&&e.manifest&&null!=(e=null==(e=this.props.item)?void 0:e.manifest)&&e.readme?T.Platform.History.push({pathname:yr+"/readme",state:{data:{title:this.props.item.title,user:this.props.item.user,repo:this.props.item.repo,branch:this.props.item.branch,readmeURL:this.props.item.readmeURL,type:this.props.type,install:this.buttonClicked.bind(this),isInstalled:this.isInstalled.bind(this)}}}):T.showNotification("No page was found",!0)}render(){var e,t,r=this.isInstalled();return"Installed"!==this.props.CONFIG.activeTab||r?(e=["main-card-card","marketplace-card--"+this.props.type],r&&e.push("marketplace-card--installed"),t=[],"snippet"!==this.props.type&&this.props.visual.stars&&t.push("★ "+this.state.stars),O.default.createElement("div",{className:e.join(" "),onClick:()=>{if("snippet"===this.props.type){var e=this.props.item.title.replace(/\n/g,"");if(null!=(e=x("marketplace:installed:snippet:"+e))&&e.custom)return N("EDIT_SNIPPET",void 0,void 0,this.props);N("VIEW_SNIPPET",void 0,void 0,this.props,this.buttonClicked.bind(this))}else this.openReadme()}},O.default.createElement("div",{className:"main-card-draggable",draggable:"true"},O.default.createElement("div",{className:"main-card-imageContainer"},O.default.createElement("div",{className:"main-cardImage-imageWrapper"},O.default.createElement("div",null,O.default.createElement("img",{alt:"","aria-hidden":"false",draggable:"false",loading:"lazy",src:this.props.item.imageURL,className:"main-image-image main-cardImage-image",onError:e=>{e.currentTarget.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII"),null!=(e=e.currentTarget.closest(".main-cardImage-imageWrapper"))&&e.classList.add("main-cardImage-imageWrapper--error")}})))),O.default.createElement("div",{className:"main-card-cardMetadata"},O.default.createElement("a",{draggable:"false",title:"snippet"===this.props.type?this.props.item.title:null==(e=this.props.item.manifest)?void 0:e.name,className:"main-cardHeader-link",dir:"auto",href:"snippet"!==this.props.type?this.state.externalUrl:"https://github.com/spicetify/spicetify-marketplace/blob/main/src/resources/snippets.ts",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation()},O.default.createElement("div",{className:"main-cardHeader-text main-type-balladBold"},this.props.item.title)),O.default.createElement("div",{className:"main-cardSubHeader-root main-type-mestoBold marketplace-cardSubHeader"},this.props.item.authors&&O.default.createElement(Va,{authors:this.props.item.authors}),O.default.createElement("span",null,t.join(" ‒ "))),O.default.createElement("p",{className:"marketplace-card-desc"},"snippet"===this.props.type?this.props.item.description:null==(e=this.props.item.manifest)?void 0:e.description),this.props.item.lastUpdated&&O.default.createElement("p",{className:"marketplace-card-desc"},g("grid.lastUpdated",{val:new Date(this.props.item.lastUpdated),formatParams:{val:{year:"numeric",month:"long",day:"numeric"}}})),this.tags.length?O.default.createElement("div",{className:"marketplace-card__bottom-meta main-type-mestoBold"},O.default.createElement(za,{tags:this.tags,showTags:this.props.CONFIG.visual.tags})):null,r&&O.default.createElement("div",{className:"marketplace-card__bottom-meta main-type-mestoBold"},"✓ ",g("grid.installed")),O.default.createElement(T.ReactComponent.TooltipWrapper,{label:"app"===this.props.type?g("github"):g(r?"remove":"install"),renderInline:!0},O.default.createElement("div",{className:"main-card-PlayButtonContainer"},O.default.createElement(w,{classes:["marketplace-installButton"],type:"circle",label:"app"===this.props.type?g("github"):g(r?"remove":"install"),onClick:e=>{e.stopPropagation(),this.buttonClicked()}},"app"===this.props.type?O.default.createElement(Ua,null):r?O.default.createElement(Ba,null):O.default.createElement($a,null)))))))):(console.debug("Card item not installed"),null)}},Ka=Jt()(qa),Ja=t(b()),Wa=t(me()),Ya=t(e());var Xa=async function(t,r,e){for(;!Spicetify?.PopupModal||!Spicetify?.LocalStorage;)await new Promise(e=>setTimeout(e,100));var a,t=`spcr-whats-new_${t}-version`,n=Spicetify.LocalStorage.get(t)??"";try{(0,Wa.default)(r,n)&&(Spicetify.LocalStorage.set(t,r),a={...e,content:function(e){var t=document.createElement("div"),r=(t.setAttribute("id","whats-new-content-wrapper"),document.createElement("style"));return r.textContent=`
      #whats-new-content-wrapper ul, #whats-new-content-wrapper ol {
         list-style: inherit;
         margin-left: 1em;
      }
   `,Ya.default.render(e,t),t.appendChild(r),t}(e.content)},Spicetify.PopupModal.display(a))}catch(e){Spicetify.LocalStorage.set(t,r)}},Qa=async()=>{var e=await fetch(wr).then(e=>e.json()).then(e=>{e=e.message?null:e.body;return e&&Ar(e,"spicetify","spicetify-marketplace")}).catch(e=>(console.error(e),null));e&&Xa("marketplace",vr,{title:"✨ Marketplace v0.9.0",content:Ja.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),isLarge:!0})},Za=window.Spicetify,De=class extends c.default.Component{constructor(e){super(e),this.endOfList=!1,this.lastScroll=0,this.requestQueue=[],this.requestPage=0,this.cardList=[],Object.assign(this,e),this.updateAppConfig=e.updateAppConfig.bind(this),this.sortConfig={by:x(E.sort,"top")},this.state={version:vr,newUpdate:!1,searchValue:"",cards:[],tabs:e.CONFIG.tabs,rest:!0,endOfList:!1,schemes:e.CONFIG.theme.schemes,activeScheme:e.CONFIG.theme.activeScheme,activeThemeKey:e.CONFIG.theme.activeThemeKey}}getInstalledTheme(){var e=localStorage.getItem(E.themeInstalled);return(e=e&&localStorage.getItem(e))?JSON.parse(e):null}newRequest(e){this.cardList=[];var t=[];this.requestQueue.unshift(t),this.loadAmount(t,e)}appendCard(e,t,r){r===this.props.CONFIG.activeTab&&(r=c.default.createElement(Ka,{item:e,key:`${this.props.CONFIG.activeTab}:${e.user}:`+e.title,CONFIG:this.CONFIG,visual:this.props.CONFIG.visual,type:t,activeThemeKey:this.state.activeThemeKey,updateColourSchemes:this.updateColourSchemes.bind(this),updateActiveTheme:this.setActiveTheme.bind(this)}),this.cardList.push(r))}updateSort(e){e&&(this.sortConfig.by=e,localStorage.setItem(E.sort,e)),this.requestPage=0,this.cardList=[],this.setState({cards:[],rest:!1,endOfList:!1}),this.endOfList=!1,this.newRequest(C)}updateTabs(){this.setState({tabs:[...this.props.CONFIG.tabs]})}updatePostsVisual(){this.cardList=this.cardList.map((e,t)=>c.default.createElement(Ka,K(S({},e.props),{key:t.toString(),CONFIG:this.CONFIG}))),this.setState({cards:[...this.cardList]})}switchTo(e){this.CONFIG.activeTab=e.value,localStorage.setItem(E.activeTab,e.value),this.cardList=[],this.requestPage=0,this.setState({cards:[],rest:!1,endOfList:!1}),this.endOfList=!1,this.newRequest(C)}async loadPage(t){const r=this.CONFIG.activeTab;switch(r){case"Extensions":var e=await ga("spicetify-extensions",this.requestPage,this.BLACKLIST),a=[];for(const h of e.items){var n=await ya(h.contents_url,h.default_branch,h.stargazers_count,this.CONFIG.visual.hideInstalled);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;n&&n.length&&a.push(...n.map(e=>K(S({},e),{lastUpdated:h.pushed_at})))}jr(a,localStorage.getItem("marketplace:sort")||"stars");for(const m of a)this.appendCard(m,"extension",r);this.setState({cards:this.cardList});var i=-1<this.requestPage&&this.requestPage?this.requestPage:1,o=C*(i-1)+e.page_count,s=e.total_count-o;if(console.debug(`Parsed ${o}/${e.total_count} extensions`),0<s)return i+1;console.debug("No more extension results");break;case"Installed":var l={theme:x(E.installedThemes,[]),extension:x(E.installedExtensions,[]),snippet:x(E.installedSnippets,[])};for(const f in l)if(l[f].length){const g=[];l[f].forEach(async e=>{e=x(e);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;g.push(e)}),jr(g,localStorage.getItem("marketplace:sort")||"stars");for(const v of g)this.appendCard(v,f,r)}this.setState({cards:this.cardList});break;case"Themes":var o=await ga("spicetify-themes",this.requestPage,this.BLACKLIST),c=[];for(const b of o.items){var u=await wa(b.contents_url,b.default_branch,b.stargazers_count);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;u&&u.length&&c.push(...u.map(e=>K(S({},e),{lastUpdated:b.pushed_at})))}this.setState({cards:this.cardList}),jr(c,localStorage.getItem("marketplace:sort")||"stars");for(const y of c)this.appendCard(y,"theme",r);e=-1<this.requestPage&&this.requestPage?this.requestPage:1,s=C*(e-1)+o.page_count,i=o.total_count-s;if(console.debug(`Parsed ${s}/${o.total_count} themes`),0<i)return e+1;console.debug("No more theme results");break;case"Apps":var s=await ga("spicetify-apps",this.requestPage,this.BLACKLIST),d=[];for(const w of s.items){var p=await ka(w.contents_url,w.default_branch,w.stargazers_count);if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;p&&p.length&&d.push(...p.map(e=>K(S({},e),{lastUpdated:w.pushed_at})))}this.setState({cards:this.cardList}),jr(d,localStorage.getItem("marketplace:sort")||"stars");for(const k of d)this.appendCard(k,"app",r);o=-1<this.requestPage&&this.requestPage?this.requestPage:1,i=C*(o-1)+s.page_count,e=s.total_count-i;if(console.debug(`Parsed ${i}/${s.total_count} apps`),0<e)return o+1;console.debug("No more app results");break;case"Snippets":i=await Ea();if(1<this.requestQueue.length&&t!==this.requestQueue[0])return-1;i&&i.length&&(jr(i,localStorage.getItem("marketplace:sort")||"stars"),i.forEach(e=>this.appendCard(e,"snippet",r)),this.setState({cards:this.cardList}))}return this.setState({rest:!0,endOfList:!0}),this.endOfList=!0,0}async loadAmount(t,e=C){for(this.setState({rest:!1}),e+=this.cardList.length,this.requestPage=await this.loadPage(t);this.requestPage&&-1!==this.requestPage&&this.cardList.length<e&&!this.state.endOfList;)this.requestPage=await this.loadPage(t);-1===this.requestPage?this.requestQueue=this.requestQueue.filter(e=>e!==t):(this.requestQueue.shift(),this.setState({rest:!0}))}loadMore(){this.state.rest&&!this.endOfList&&this.loadAmount(this.requestQueue[0],C)}updateColourSchemes(e,t){console.debug("updateColourSchemes",e,t),this.CONFIG.theme.schemes=e,(this.CONFIG.theme.activeScheme=t)&&(Za.Config.color_scheme=t),e&&t&&e[t]?Lr(this.CONFIG.theme.schemes[t]):Lr(null);var r=x(E.themeInstalled),a=x(r);a?(a.activeScheme=t,console.debug(a),localStorage.setItem(r,JSON.stringify(a))):console.debug("No installed theme data"),this.setState({schemes:e,activeScheme:t})}async componentDidMount(){fetch("https://api.github.com/repos/spicetify/spicetify-marketplace/releases").then(e=>e.json()).then(e=>{if(e.message)throw e;this.setState({version:e[0].name});try{this.setState({newUpdate:gr.default.gt(this.state.version,vr)})}catch(e){console.error(e)}},e=>{console.error("Failed to check for updates",e)}),Qa(),this.gridUpdateTabs=this.updateTabs.bind(this),this.gridUpdatePostsVisual=this.updatePostsVisual.bind(this);var e=document.querySelector(".os-viewport");this.checkScroll=this.isScrolledBottom.bind(this),e&&(e.addEventListener("scroll",this.checkScroll),this.cardList.length)?0<this.lastScroll&&e.scrollTo(0,this.lastScroll):(this.BLACKLIST=await Sa(),this.newRequest(C))}componentWillUnmount(){this.gridUpdateTabs=this.gridUpdatePostsVisual=null;var e=document.querySelector(".os-viewport");e&&(this.lastScroll=e.scrollTop,e.removeEventListener("scroll",this.checkScroll))}isScrolledBottom(e){e=e.target;e.scrollTop+e.clientHeight>=e.scrollHeight&&this.loadMore()}setActiveTheme(e){this.CONFIG.theme.activeThemeKey=e,this.setState({activeThemeKey:e})}getActiveScheme(){return this.state.activeScheme}render(){const r=this.props["t"];return c.default.createElement("section",{className:"contentSpacing"},c.default.createElement("div",{className:"marketplace-header"},c.default.createElement("div",{className:"marketplace-header__left"},this.state.newUpdate?c.default.createElement("button",{type:"button",title:r("grid.newUpdate"),className:"marketplace-header-icon-button",id:"marketplace-update",onClick:()=>window.location.href="https://github.com/spicetify/spicetify-marketplace/releases/latest"},c.default.createElement($a,null)," ",this.state.version):null,c.default.createElement("h2",{className:"marketplace-header__label"},r("grid.sort.label")),c.default.createElement(ea,{onChange:e=>this.updateSort(e),sortBoxOptions:xr(r),sortBySelectedFn:e=>e.key===this.CONFIG.sort})),c.default.createElement("div",{className:"marketplace-header__right"},this.CONFIG.visual.themeDevTools?c.default.createElement(Za.ReactComponent.TooltipWrapper,{label:r("devTools.title"),renderInline:!0,placement:"bottom"},c.default.createElement("button",{type:"button","aria-label":r("devTools.title"),className:"marketplace-header-icon-button",onClick:()=>N("THEME_DEV_TOOLS")},c.default.createElement(Ta,null))):null,this.state.activeScheme?c.default.createElement(ea,{onChange:e=>this.updateColourSchemes(this.state.schemes,e),sortBoxOptions:Cr(this.state.schemes),sortBySelectedFn:e=>e.key===this.getActiveScheme()}):null,c.default.createElement("div",{className:"searchbar--bar__wrapper"},c.default.createElement("input",{className:"searchbar-bar",type:"text",placeholder:`${r("grid.search")} ${r("tabs."+this.CONFIG.activeTab)}...`,value:this.state.searchValue,onChange:e=>{this.setState({searchValue:e.target.value})}})),c.default.createElement(Za.ReactComponent.TooltipWrapper,{label:r("settings.title"),renderInline:!0,placement:"bottom"},c.default.createElement("button",{type:"button","aria-label":r("settings.title"),className:"marketplace-header-icon-button",id:"marketplace-settings-button",onClick:()=>N("SETTINGS",this.CONFIG,this.updateAppConfig)},c.default.createElement(Ia,null))))),[{handle:"extension",name:"Extensions"},{handle:"theme",name:"Themes"},{handle:"snippet",name:"Snippets"},{handle:"app",name:"Apps"}].map(t=>{var e=this.cardList.filter(e=>e.props.type===t.handle).filter(e=>{const t=this.state.searchValue.trim().toLowerCase();var{title:e,user:r,authors:a,tags:n}=e.props.item;return!t||e.toLowerCase().includes(t)||(null==r?void 0:r.toLowerCase().includes(t))||(null==a?void 0:a.some(e=>e.name.toLowerCase().includes(t)))||(null==n?void 0:n.some(e=>e.toLowerCase().includes(t)))}).map(e=>c.default.cloneElement(e,{activeThemeKey:this.state.activeThemeKey,key:e.key})).filter((t,e,r)=>r.findIndex(e=>e.key===t.key)===e);return e.length?c.default.createElement(c.default.Fragment,null,c.default.createElement("h2",{className:"marketplace-card-type-heading"},r("tabs."+t.name)),c.default.createElement("div",{className:"marketplace-grid main-gridContainer-gridContainer main-gridContainer-fixedWidth","data-tab":this.CONFIG.activeTab,"data-card-type":r("tabs."+t.name)},e)):null}),"Snippets"===this.CONFIG.activeTab?c.default.createElement(w,{classes:["marketplace-add-snippet-btn"],onClick:()=>N("ADD_SNIPPET")},"+ ",r("grid.addCSS")):null,c.default.createElement("footer",{className:"marketplace-footer"},!this.state.endOfList&&(this.state.rest&&0<this.state.cards.length?c.default.createElement(xa,{onClick:this.loadMore.bind(this)}):c.default.createElement(Na,null))),c.default.createElement(_a,{switchCallback:this.switchTo.bind(this),links:this.CONFIG.tabs,activeLink:this.CONFIG.activeTab}))}},en=Jt()(De),A=t(b()),$e=class extends A.default.Component{constructor(){super(...arguments),this.state={isInstalled:this.props.data.isInstalled(),html:`<p>${this.props.t("readmePage.loading")}</p>`},this.getReadmeHTML=async()=>fetch(this.props.data.readmeURL).then(e=>{if(e.ok)return e.text();throw Spicetify.showNotification(`${this.props.t("readmePage.errorLoading")} (HTTP ${e.status})`,!0)}).then(e=>Ar(e,this.props.data.user,this.props.data.repo)).then(e=>(e||Spicetify.Platform.History.goBack(),e)).catch(e=>(console.error(e),Spicetify.Platform.History.goBack(),null))}componentDidMount(){this.getReadmeHTML().then(e=>{null!=e&&this.setState({html:e})})}componentDidUpdate(){var e;const t=null==(e=document.querySelector("#marketplace-readme"))?void 0:e.closest("main");if(t){const r=setInterval(()=>{document.querySelector("#marketplace-readme")?(t.style.overflowY="visible",t.style.overflowY="auto"):(clearInterval(r),t.style.removeProperty("overflow-y"))},1e3)}document.querySelectorAll("#marketplace-readme img").forEach(e=>{e.addEventListener("error",e=>{var e=e.target,t=e.getAttribute("src"),t="/"===(null==t?void 0:t.charAt(0))?`https://raw.githubusercontent.com/${this.props.data.user}/${this.props.data.repo}/${this.props.data.branch}/`+(null==t?void 0:t.slice(1)):this.props.data.readmeURL.substring(0,this.props.data.readmeURL.lastIndexOf("/"))+"/"+t;e.setAttribute("src",t)},{once:!0})})}buttonContent(){return"app"===this.props.data.type?{icon:A.default.createElement(Ua,null),text:this.props.t("github")}:this.state.isInstalled?{icon:A.default.createElement(Ba,null),text:this.props.t("remove")}:{icon:A.default.createElement($a,null),text:this.props.t("install")}}render(){return A.default.createElement("section",{className:"contentSpacing"},A.default.createElement("div",{className:"marketplace-header"},A.default.createElement("div",{className:"marketplace-header__left"},A.default.createElement("h1",null,this.props.title)),A.default.createElement("div",{className:"marketplace-header__right"},A.default.createElement(w,{classes:["marketplace-header__button"],onClick:e=>{e.preventDefault(),this.props.data.install(),this.setState({isInstalled:!this.state.isInstalled})},label:this.buttonContent().text},this.buttonContent().icon," ",this.buttonContent().text))),"<p>Loading...</p>"===this.state.html?A.default.createElement("footer",{className:"marketplace-footer"},A.default.createElement(Na,null)):A.default.createElement("div",{id:"marketplace-readme",className:"marketplace-readme__container",dangerouslySetInnerHTML:{__html:this.state.html}}))}},tn=Jt()($e),r=(n.use(W).use(Qt).init({resources:{ca:{translation:{settings:{title:"Configuració",optionsHeading:"Opcions",starCountLabel:"Número d'estrelles",tagsLabel:"Etiquetes",devToolsLabel:"Eines per a desenvolupadors de temes",hideInstalledLabel:"Amagar instal·lats",colourShiftLabel:"Canviar colors cada minut",albumArtBasedColors:"Canviar colors a partir de la portada de l'àlbum",albumArtBasedColorsMode:"Mode esquema de colors (ColorApi)",albumArtBasedColorsVibrancy:"Colors agafats de la portada de l'àlbum",albumArtBasedColorsVibrancyToolTip:"Desaturat:El color més destacat però amb molta menys bror \n Vibrant Clar: El color més villantibrant amb la brillantor augmentada una mica \n Prominent: El color més destacat a la portada de l'Àlbum \n Vibrant: El color més vibrant a la portada de l'Àlbum",almbumArtColorsModeToolTip:"Monochrome Dark: Un esquema de colors basat en el color principal seleccionat, emprant diferentes tonalitats i barrejant tons grisos per crear l'esquema de colors, aquest és l'invers de Monochrome Light. \n Monochrome Light: Un esquema de colors basat en el color principal seleccionat, emprant diferentes tonalitats i barrejant tons grisos per crear l'esquema de colors. El colors del fins de Monochrome light seria el color de primer pla en Monochrome Dark i viceversa. \n Analògic: Un esquema de colors basat en el color principal seleccionat, emprant els colors adjacents en la roda de colors. \n Analògic Complementari: Un esquema de colors basat en el color principal seleccionat, emprant els colors adjacents en la roda de colors i el color complementari. \n Tríada: Un esquema de colors basat en el color principal seleccionat, emprant els colors de la roda de colors que estan separats de manera equidistant del color principal. \n Quad: Un esquema de colors basat en el color principal seleccionat, emprant els colors que es troben separats 90 graus entre si en la roda de colors.",tabsHeading:"Pestanyes",resetHeading:"Restablir",resetBtn:"$t(settings.resetHeading)",resetDescription:"Borrar totes les extensions, temes i preferències",backupHeading:"Fer una còpia/Reestablir des d'una còpia",backupLabel:"Fer una còpia o restablir totes les dades de Marketplace des d'una còpia. Això no inclou la configuració per els elements instal·lats amb Marketplace.",backupBtn:"Obrir",versionHeading:"Versió",versionBtn:"Copiar",versionCopied:"Copiat"},tabs:{Extensions:"Extensions",Themes:"Temes",Snippets:"Fragments",Apps:"Aplicacions",Installed:"Instal·lats"},snippets:{addTitle:"Afegir fragment",editTitle:"Editar fragment",viewTitle:"Veure fragment",customCSS:"CSS personalitzat",customCSSPlaceholder:"Crea el teu propi CSS aqui! Pots trobar-los a la pestanya d'instal·lats per administrar-los.",snippetName:"Nom del fragment de codi",snippetNamePlaceholder:"Afegeix un nom al teu codi personalitzat",snippetDesc:"Descripció del codi",snippetDescPlaceholder:"Crea una descripció per al teu codi personalitzat",snippetPreview:"Vista prèvia del fragment",optional:"Opcional",addImage:"Afegir imatge",changeImage:"Canviar imatge",saveCSS:"Guardar CSS"},reloadModal:{title:"Recarregar",description:"És necessari recarregar la finestra per completar aquesta operació.",reloadNow:"Fes-ho ara",reloadLater:"Després"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Configuració copiada al portapapers",noDataPasted:"No s'han enganxat dades",invalidJSON:"JSON invàlid",inputLabel:"Configuració de Marketplace",inputPlaceholder:"Còpia/enganxa la teva configuració aquí",exportBtn:"Exportar",importBtn:"Importar",fileImportBtn:"Importar des d'un arxiu"},devTools:{title:"Eines de desenvolupador de temes",noThemeInstalled:"Error: No hi ha cap tema de Marketplace instal·lat",noThemeManifest:"Error: No s'ha trobat el manifest",colorIniEditor:"Editor de Color.ini",colorIniEditorPlaceholder:"[nom-de-esquema-de-color]",invalidCSS:"CSS invàlid"},grid:{spicetifyMarketplace:"Marketplace de Spicetify",newUpdate:"Nova Actualització",addCSS:"Afegir CSS",search:"Buscar",installed:"Instal·lat",lastUpdated:"Última actualizació {{val, datetime}}",externalJS:"JS extern",dark:"fosc",light:"clar"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Carregant...",errorLoading:"Error carregant el README"},github:"GitHub",install:"Instal·lar",remove:"Borrar",save:"Guardar",colour_one:"color",colour_other:"colors",favourite:"preferit"}},en:{translation:{settings:{title:"Marketplace Settings",optionsHeading:"Options",starCountLabel:"Stars count",tagsLabel:"Tags",devToolsLabel:"Theme developer tools",hideInstalledLabel:"Hide installed when browsing",colourShiftLabel:"Shift colours every minute",albumArtBasedColors:"Change colours based on album art",albumArtBasedColorsMode:"Colour scheme (ColorApi) mode",albumArtBasedColorsVibrancy:"Colour grabbed from album art",albumArtBasedColorsVibrancyToolTip:"Desaturated: The colour that is the most prominent but with much less brightness \n Light Vibrant: The most Vibrant colour but with the brightness amped up a tad \n Prominent: The colour that pops the most in the album art \n Vibrant: The most vibrant colour in the album art",almbumArtColorsModeToolTip:"Monochrome Dark: A colour scheme based directly on the main colour selected, using different shades of the main colour and mixing in greys to create a colour scheme, this is the inverse of Monochrome Light. \n Monochrome Light: A colour scheme based directly on the main colour selected, using different shades of the main colour and mixing in greys to create a colour scheme. The background of monochrome light would be the foreground or text colour on Monochrome Dark and vice versa. \n Analogic: A colour scheme based on the main colour selected, using the colours adjacent to the main colour on the colour wheel. \n Analogic Complementary: A colour scheme based on the main colour selected, using the colours adjacent to the main colour on the colour wheel and the complementary colour. \n Triad: A colour scheme based on the main colour selected, using the colours on the colour wheel that are equidistant from the main colour. \n Quad: A colour scheme based on the main colour selected, using the colours on the colour wheel that are 90 degrees from the main colour.",tabsHeading:"Tabs",resetHeading:"Reset",resetBtn:"$t(settings.resetHeading)",resetDescription:"Uninstall all extensions and themes, and reset preferences",backupHeading:"Back up/Restore",backupLabel:"Back up or restore all Marketplace data. This does not include settings for anything installed via Marketplace.",backupBtn:"Open",versionHeading:"Version",versionBtn:"Copy",versionCopied:"Copied"},tabs:{Extensions:"Extensions",Themes:"Themes",Snippets:"Snippets",Apps:"Apps",Installed:"Installed"},snippets:{addTitle:"Add Snippet",editTitle:"Edit Snippet",viewTitle:"View Snippet",customCSS:"Custom CSS",customCSSPlaceholder:"Input your own custom CSS here! You can find them in the installed tab for management.",snippetName:"Snippet Name",snippetNamePlaceholder:"Enter a name for your custom snippet",snippetDesc:"Snippet Description",snippetDescPlaceholder:"Enter a description for your custom snippet",snippetPreview:"Snippet Preview",optional:"Optional",addImage:"Add image",changeImage:"Change image",saveCSS:"Save CSS"},reloadModal:{title:"Reload",description:"A page reload is required to complete this operation.",reloadNow:"Reload now",reloadLater:"Reload later"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Settings copied to clipboard",noDataPasted:"No data pasted",invalidJSON:"Invalid JSON",inputLabel:"Marketplace Settings",inputPlaceholder:"Copy/paste your settings here",exportBtn:"Export",importBtn:"Import",fileImportBtn:"Import from file"},devTools:{title:"Theme Dev Tools",noThemeInstalled:"Error: No marketplace theme installed",noThemeManifest:"Error: No theme manifest found",colorIniEditor:"Color.ini Editor",colorIniEditorPlaceholder:"[your-colour-scheme-name]",invalidCSS:"Invalid CSS"},grid:{spicetifyMarketplace:"Spicetify Marketplace",newUpdate:"New update",addCSS:"Add CSS",search:"Search",installed:"Installed",lastUpdated:"Last updated {{val, datetime}}",externalJS:"external JS",dark:"dark",light:"light",sort:{label:"Sort by:",stars:"Stars",newest:"Newest",oldest:"Oldest",aToZ:"A-Z",zToA:"Z-A"}},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Loading...",errorLoading:"Error loading README"},github:"GitHub",install:"Install",remove:"Remove",save:"Save",colour_one:"colour",colour_other:"colours",favourite:"favourite"}},"en-US":{translation:{settings:{colourShiftLabel:"Shift colors every minute",albumArtBasedColors:"Change colors based on album art",albumArtBasedColorsMode:"Color scheme (ColorApi) mode",albumArtBasedColorsVibrancy:"Color grabbed from album art",albumArtBasedColorsVibrancyToolTip:"Desaturated: The color that is the most prominent but with much less brightness \n Light Vibrant: The most Vibrant color but with the brightness amped up a tad \n Prominent: The color that pops the most in the album art \n Vibrant: The most vibrant color in the album art",almbumArtColorsModeToolTip:"Monochrome Dark: A color scheme based directly on the main color selected, using different shades of the main color and mixing in greys to create a color scheme, this is the inverse of Monochrome Light. \n Monochrome Light: A color scheme based directly on the main color selected, using different shades of the main color and mixing in greys to create a color scheme. The background of monochrome light would be the foreground or text color on Monochrome Dark and vice versa. \n Analogic: A color scheme based on the main color selected, using the colors adjacent to the main color on the color wheel. \n Analogic Complementary: A color scheme based on the main color selected, using the colors adjacent to the main color on the color wheel and the complementary color. \n Triad: A color scheme based on the main color selected, using the colors on the color wheel that are equidistant from the main color. \n Quad: A color scheme based on the main color selected, using the colors on the color wheel that are 90 degrees from the main color."},devTools:{colorIniEditorPlaceholder:"[your-color-scheme-name]"},colour_one:"color",colour_other:"colors",favourite:"favorite"}},es:{translation:{settings:{title:"Ajustes",optionsHeading:"Opciones",starCountLabel:"Numero de estrellas",tagsLabel:"Etiquetas",devToolsLabel:"Herramientas para desarrolladores de temas",hideInstalledLabel:"Esconder instalado cuando buscando",colourShiftLabel:"Cambiar colores cada minuto",tabsHeading:"Pestañas",resetHeading:"Reestablecer",resetBtn:"$t(settings.resetHeading)",resetDescription:"Borrar todas estensiones and temas, y borrar preferencias",backupHeading:"Haz una copia/Reestablecer desde una copia",backupLabel:"Haz una copia o reestablece todos los datos de Marketplace desde una copia. Esto no incluye ajustes para las cosas instaladas con Marketplace.",backupBtn:"Abrir"},tabs:{Extensions:"Extensiónes",Themes:"Temas",Snippets:"Codigos",Apps:"Aplicaciones",Installed:"Instalados"},snippets:{addTitle:"Añadir Codigo",editTitle:"Editar Codigo",viewTitle:"Ver Codigo",customCSS:"Custom CSS",customCSSPlaceholder:"¡Crea tu propio CSS aqui! Puedes encontrarlos en la pestaña de instalados para administrarlos.",snippetName:"Nombre del codigo",snippetNamePlaceholder:"Asignale un nombre para tu codigo personalizado",snippetDesc:"Descripcion del codigo",snippetDescPlaceholder:"Crea una description para tu codigo personalizado",snippetPreview:"Codigo",optional:"Opcional",addImage:"Añadir imagen",changeImage:"Cambiar imagen",saveCSS:"Guardar CSS"},reloadModal:{title:"Recargar",description:"Una recarga de ventada es necesaria para completar esta operación.",reloadNow:"Recargar ahora",reloadLater:"Recargar después"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Ajustes copiados al portapapeles",noDataPasted:"No data pegado",invalidJSON:"JSON invalido",inputLabel:"Ajustes de Marketplace",inputPlaceholder:"Copia/pega tus ajustes aqui",exportBtn:"Exportar",importBtn:"Importar",fileImportBtn:"Importar desde un archivo"},devTools:{title:"Herramientas de desarrollador de temas",noThemeInstalled:"Error: No tema de marketplace instalado",noThemeManifest:"Error: No manifiesto de tema encontrado",colorIniEditor:"Editor de Color.ini",colorIniEditorPlaceholder:"[nombre-de-esquema-de-color]",invalidCSS:"CSS invalido"},grid:{spicetifyMarketplace:"Marketplace de Spicetify",newUpdate:"Nueva actualización",addCSS:"Añadir CSS",search:"Buscar",installed:"Instalado",lastUpdated:"Ultima actualización {{val, datetime}}",externalJS:"JS external",dark:"oscuro",light:"claro"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Cargando...",errorLoading:"Error cargando README"},github:"GitHub",install:"Instalar",remove:"Borrar",save:"Guardar",colour_one:"color",colour_other:"colores",favourite:"favorito"}},fr:{translation:{settings:{title:"Réglages Marché Spicetify",optionsHeading:"Options",starCountLabel:"Nombres d’étoiles",tagsLabel:"Tags",devToolsLabel:"Outils pour les développeurs de thèmes",hideInstalledLabel:"Masquer ceux étant installés lors de la navigation",colourShiftLabel:"Changer de couleure chaque minutes",tabsHeading:"Onglets",resetHeading:"Réinitialiser",resetBtn:"$t(settings.resetHeading)",resetDescription:"Désinstaller toutes les extensions et tous les thèmes, ainsi que l’ensemble des réglages",backupHeading:"Sauvegarde/Restauration",backupLabel:"Sauvegarder ou restaurer toutes les données du Marché. Celà n'inclue pas les réglages pour quoi que ce soit installé depuis le Marché.",backupBtn:"Ouvrir",versionHeading:"Version",versionBtn:"Copier",versionCopied:"Copié"},tabs:{Extensions:"Extensions",Themes:"Thèmes",Snippets:"Bribes",Apps:"Applications",Installed:"Installé(s)"},snippets:{addTitle:"Ajouter Bribe",editTitle:"Éditer Bribe",viewTitle:"Voir Bribe",customCSS:"CSS personnalisé",customCSSPlaceholder:"Insérez votre propre CSS personnalisé ici! Vous pouvez les retrouver dans l’onglet Installé pour les gérrer.",snippetName:"Nom de la bribe",snippetNamePlaceholder:"Entrer un nom pour votre bribe personnalisée",snippetDesc:"Description de la bribe",snippetDescPlaceholder:"Entrez une description pour votre bribe personnalisée",snippetPreview:"Prévisualiser la bribe",optional:"Optionnel",addImage:"Ajouter une image",changeImage:"Changer l’image",saveCSS:"Enregistrer le CSS"},reloadModal:{title:"Recharger",description:"Un rechargement de la page est requis pour finaliser cette opération.",reloadNow:"Recharger maintenant",reloadLater:"Recharger plus tard"},backupModal:{title:"Sauvegarder/Restaurer",settingsCopied:"Réglages copiés dans le presse-papier",noDataPasted:"Aucune donnée collée",invalidJSON:"JSON invalide",inputLabel:"Réglages du Marché",inputPlaceholder:"Copier/coller vos réglages ici",exportBtn:"Exporter",importBtn:"Importer",fileImportBtn:"Importer depuis un fichier"},devTools:{title:"Outils de développeurs de thèmes",noThemeInstalled:"Erreur: Aucun thème du marché n’est installé",noThemeManifest:"Erreur: Aucun manifeste de thème trouvé",colorIniEditor:"Éditeur Color.ini",colorIniEditorPlaceholder:"[nom-de-votre-schéma-de-couleur]",invalidCSS:"CSS invalide"},grid:{spicetifyMarketplace:"Marché Spicetify",newUpdate:"Nouvelle mise à jour",addCSS:"Ajouter CSS",search:"Rechercher",installed:"Installé",lastUpdated:"Dernière mise à jour {{val, datetime}}",externalJS:"JS externe",dark:"sombre",light:"clair"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Chargement…",errorLoading:"Erreur lors du chargement du README"},github:"GitHub",install:"Installer",remove:"Supprimer",save:"Enregistrer",colour_one:"couleure",colour_other:"couleures",favourite:"favoris"}},ru:{translation:{settings:{title:"Настройки",optionsHeading:"Основные",starCountLabel:"Отображать количество звезд",tagsLabel:"Отображать теги",devToolsLabel:"Включить инструменты разработчика тем",hideInstalledLabel:"Скрывать установленное в других вкладках",colourShiftLabel:"Менять цвета каждую минуту",albumArtBasedColors:"Использовать цвета на основе обложки альбома",albumArtBasedColorsMode:"Тип цвета",albumArtBasedColorsVibrancy:"Тип цветовой схемы на основе обложки альбома",albumArtBasedColorsVibrancyToolTip:"Desaturated: наиболее часто встречаемый в обложке цвет с малой яркостью \n Light Vibrant: самый насыщенный цвет с повышенной яркостью \n Prominent: наиболее часто встречаемый цвет в обложке альбома \n Vibrant: самый насыщенный цвет в обложке альбома",almbumArtColorsModeToolTip:"Monochrome Dark, Monochrome Light: основаны иcключительно на выбранном цвете, дополнительные цвета создаются путем изменения яркости основого. Противоположны друг другу: цвет, являющийся фоновым в Monochrome Light, в Monochrome Dark будет цветом переднего плана и наоборот. \n Analogic: палитра определяется выбранным и цветами, смежными с ним на цветовом круге. \n Analogic Complementary: схожа c Analogic, но сожержит также дополнительный цвет. \n Triad: палитра определяется основным цветом и цветами, равноудаленными от него. \n Quad: палитра определяется выбранным цветом и цветами, расположенных под углом 90 градусов к нему.",tabsHeading:"Вкладки",resetHeading:"Сброс",resetBtn:"Сбросить",resetDescription:"Удалить все и сбросить настройки",backupHeading:"Резервное копирование и восстановление",backupLabel:"Сохранить или восстановить все данные Маркетплейса, за исключением настроек установленных тем и расширений.",backupBtn:"Открыть",versionHeading:"Версия",versionBtn:"Копировать",versionCopied:"Скопировано"},tabs:{Extensions:"Расширения",Themes:"Темы",Snippets:"Сниппеты",Apps:"Приложения",Installed:"Установленное"},snippets:{addTitle:"Добавление сниппета",editTitle:"Редактирование сниппета",viewTitle:"Просмотр сниппета",customCSS:"CSS",customCSSPlaceholder:"Вставьте сюда CSS вашего сниппета",snippetName:"Название",snippetNamePlaceholder:"Введите название для вашего сниппета",snippetDesc:"Описание",snippetDescPlaceholder:"Введите описание для вашего сниппета",snippetPreview:"Превью",optional:"необязательно",addImage:"Добавить изображение",changeImage:"Изменить изображение",saveCSS:"Сохранить"},reloadModal:{title:"Перезагрузка",description:"Необходима перезагрузка страницы для применения изменений",reloadNow:"Перезагрузить сейчас",reloadLater:"Перезагрузить позже"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Настройки скопированы в буфер обмена",noDataPasted:"Ничего не вставлено",invalidJSON:"Неверный JSON",inputLabel:"Настройки Маркетплейса",inputPlaceholder:"Вставьте ваши настройки сюда",exportBtn:"Экспортировать",importBtn:"Импортировать",fileImportBtn:"Импортировать из файла"},devTools:{title:"Инструменты разработчика тем",noThemeInstalled:"Ошибка: Не установлена тема из Маркетплейса",noThemeManifest:"Ошибка: Не найден манифест темы",colorIniEditor:"Редактор color.ini",colorIniEditorPlaceholder:"[название-вашей-цветовой-схемы]",invalidCSS:"Неверный CSS"},grid:{spicetifyMarketplace:"Маркетплейс Spicetify",newUpdate:"Доступно обновление",addCSS:"Добавить CSS",search:"Искать",installed:"Установлено",lastUpdated:"Обновлено: {{val, datetime}}",externalJS:"содержит JS",dark:"темный",light:"светлый"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Загрузка...",errorLoading:"Ошибка загрузки README"},github:"GitHub",install:"Установить",remove:"Удалить",save:"Сохранить",colour_one:"цвет",colour_other:"цвета",favourite:"избранное"}},"zh-TW":{translation:{settings:{title:"設定",optionsHeading:"選項",starCountLabel:"收藏數",tagsLabel:"標籤",devToolsLabel:"主題開發者工具",hideInstalledLabel:"瀏覽時隱藏已安裝項目",colourShiftLabel:"每分鐘進行色調偏移",tabsHeading:"分頁",resetHeading:"重設",resetBtn:"$t(settings.resetHeading)",resetDescription:"解除安裝所有擴充套件和主題， 並重設偏好設定",backupHeading:"備份與還原",backupLabel:"備份或還原所有 Marketplace 中的資料（不包含從 Marketplace 安裝的擴充元件的設定）。",backupBtn:"開啟",albumArtBasedColors:"根據專輯封面選色",albumArtBasedColorsMode:"色彩方案 (ColorApi) 模式",albumArtBasedColorsVibrancy:"已從專輯封面抽取顏色",albumArtBasedColorsVibrancyToolTip:"Desaturated：最突出但亮度較低的顏色 \n Light Vibrant：最接近 Vibrant 的色彩，但亮度稍微提升一些 \n Prominent：專輯封面裡面出現最多的色彩 \n Vibrant：專輯中最明亮的色彩",almbumArtColorsModeToolTip:"Monochrome Dark：這個色彩方案直接以選擇的主色彩為基礎，但使用比較不一樣的色調並且融入灰色。這和 Monochrome Light 正好相反。 \n Monochrome Light：這個色彩方案直接以選擇的主色彩為基礎，但使用比較不一樣的色調並且融入灰色。這和 Monochrome Light 正好相反。Monochrome Light 的背景色會是 Monochrome Dark 的前景或文字顏色，反之亦然。 \n Analogic：這個色彩方案以選擇的主色彩為基礎，使用色環上主色彩鄰近的色彩。 \n Analogic Complementary：這個色彩方案以選擇的主色彩為基礎，使用色環上主色彩鄰近的色彩以及互補色。 \n Triad：這個色彩方案以選擇的主色彩為基礎，使用色環上和主色彩距離相等的顏色。 \n Quad：這個色彩方案以選擇的主色彩為基礎，使用色環上和主色彩差 90 度的顏色。",versionHeading:"版本",versionBtn:"複製",versionCopied:"已複製"},tabs:{Extensions:"擴充套件",Themes:"主題",Snippets:"微調片段",Apps:"功能模組",Installed:"已安裝項目"},snippets:{addTitle:"加入微調片段",editTitle:"編輯微調片段",viewTitle:"檢視微調片段",customCSS:"自訂 CSS",customCSSPlaceholder:"這裡可以輸入您的自訂 CSS！您可以在「已安裝項目」分頁中看到這些片段，進而進行管理。",snippetName:"微調片段名稱",snippetNamePlaceholder:"輸入自訂微調片段的名稱",snippetDesc:"微調片段描述",snippetDescPlaceholder:"輸入自訂微調片段的描述",snippetPreview:"微調片段預覽圖",optional:"非必須",addImage:"加入影像",changeImage:"更改影像",saveCSS:"儲存 CSS"},reloadModal:{title:"重新載入",description:"需要重新載入頁面，才能完成這個操作。",reloadNow:"立即重新載入",reloadLater:"稍後重新載入"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"已將設定複製至剪貼簿",noDataPasted:"沒有貼上資料",invalidJSON:"JSON 無效",inputLabel:"Marketplace 設定",inputPlaceholder:"在此複製或貼上設定",exportBtn:"匯出",importBtn:"匯入",fileImportBtn:"從檔案匯入"},devTools:{title:"主題開發者工具",noThemeInstalled:"錯誤：沒有安裝 Marketplace 主題",noThemeManifest:"錯誤：找不到主題資訊清單",colorIniEditor:"Color.ini 編輯器",colorIniEditorPlaceholder:"[您的色彩配置名稱]",invalidCSS:"CSS 無效"},grid:{spicetifyMarketplace:"Spicetify Marketplace",newUpdate:"有更新",addCSS:"加入 CSS",search:"搜尋",installed:"已經安裝",lastUpdated:"上次更新於 {{val, datetime}}",externalJS:"有外部 JS",dark:"暗色",light:"亮色"},readmePage:{title:"$t(grid.spicetifyMarketplace) – 說明",loading:"正在載入……",errorLoading:"載入 README 時發生錯誤"},github:"GitHub",install:"安裝",remove:"移除",save:"儲存",colour_one:"色彩",colour_other:"色彩",favourite:"收藏"}},"zh-CN":{translation:{settings:{title:"设置",optionsHeading:"选项",starCountLabel:"收藏数",tagsLabel:"标签",devToolsLabel:"主題开发者工具",hideInstalledLabel:"浏览时隐藏已安装项目",colourShiftLabel:"每分钟进行色调偏移",tabsHeading:"分页",resetHeading:"重置",resetBtn:"$t(settings.resetHeading)",resetDescription:"卸载所有扩展插件和主题，并重置设置"},tabs:{Extensions:"扩展插件",Themes:"主题",Snippets:"微调片段",Apps:"功能模组",Installed:"已安裝项目"},snippets:{addTitle:"加入微调片段",editTitle:"编辑微调片段",viewTitle:"检视微调片段",customCSS:"自定义 CSS",customCSSPlaceholder:"这里可以输入您的自定义 CSS！您可以在「已安裝项目」标签页中看到这些片段，进而进行管理。",snippetName:"微调片段名称",snippetNamePlaceholder:"输入自定义微调片段的名称",snippetDesc:"微调片段描述",snippetDescPlaceholder:"输入自定义微调片段的描述",snippetPreview:"微调片段预览图",optional:"非必要",addImage:"加入影像",changeImage:"更改影像",saveCSS:"保存 CSS"},reloadModal:{title:"重新加载",description:"需要重新加载页面，才能完成这个操作。",reloadNow:"立即重新加载",reloadLater:"稍后重新加载"},devTools:{title:"主題开发者工具",noThemeInstalled:"错误：未安装商场主题",noThemeManifest:"错误：找不到主题内容清单",colorIniEditor:"Color.ini 编辑器",colorIniEditorPlaceholder:"[您的色彩配置名称]",invalidCSS:"CSS 无效"},grid:{spicetifyMarketplace:"Spicetify 商场",newUpdate:"有更新",addCSS:"加入 CSS",search:"搜索",installed:"已安装",lastUpdated:"上次更新于 {{val, datetime}}",externalJS:"有外部 JS",dark:"暗色模式",light:"亮色模式"},readmePage:{title:"$t(grid.spicetifyMarketplace) – 说明",loading:"正在加载……",errorLoading:"加载 README 时发生错误"},github:"GitHub",install:"安裝",remove:"移除",save:"保存",colour_one:"色彩",colour_other:"色彩",favourite:"收藏"}},et:{translation:{settings:{title:"Turu seaded",optionsHeading:"Seaded",starCountLabel:"Tähtede arv",tagsLabel:"Sildid",devToolsLabel:"Teema arendaja tööriistad",hideInstalledLabel:"Peida sirvimisel paigaldatud",colourShiftLabel:"Muutke värve iga minut",albumArtBasedColors:"Muutke värve albumipildi põhjal",albumArtBasedColorsMode:"Värviskeemi (ColorApi) režiim",albumArtBasedColorsVibrancy:"Albumipildilt haaratud värv",albumArtBasedColorsVibrancyToolTip:"Desaturated: Värv, mis on kõige silmatorkavam, kuid palju väiksema heledusega \n Light vibrant: Kõige erksam värv, kuid veidi suurendatud heledusega \n Prominent: Värv, mis ilmub albumi kujunduses kõige rohkem \n Vibrant: Albumipildi kõige elavam värv",almbumArtColorsModeToolTip:"Monochrome dark: Värvilahendus, mis põhineb otse valitud põhivärvil, kasutades põhivärvi erinevaid toone ja segades värviskeemi loomiseks halle, see on ühevärvlise heleda pöördväärtus. \n Monochrome light: Värvilahendus, mis põhineb otse valitud põhivärvil, kasutades põhivärvi erinevaid toone ja segades värviskeemi loomiseks halle. Ühevärvilise valguse taust oleks ühevärvilise tumeda esiplaani või teksti värv ja vastupidi. \n Analogic: Valitud põhivärvil põhinev värviskeem, kasutades värviratta põhivärviga külgnevaid värve. \n Analogic complement: Valitud põhivärvil põhinev värviskeem, kasutades värviratta põhivärviga külgnevaid värve ja lisavärvi. \n Triad: Valitud põhivärvil põhinev värviskeem, kasutades põhivärvist võrdsel kaugusel asuvaid värviratta värve. \n Quad: Valitud põhivärvil põhinev värviskeem, kasutades värvirattal olevaid värve, mis on põhivärvist 90 kraadi.",tabsHeading:"Vahekaardid",resetHeading:"Reset",resetBtn:"$t(settings.resetHeading)",resetDescription:"Uninstall all extensions and themes, and reset preferences",backupHeading:"Varunda/Taasta",backupLabel:"Varunda või taasta kõik turu andmed. See ei hõlma turu kaudu paigaldatud elementide seadeid.",backupBtn:"Ava",versionHeading:"Versioon",versionBtn:"Kopeeri",versionCopied:"Kopeeritud"},tabs:{Extensions:"Lisad",Themes:"Teemad",Snippets:"Katked",Apps:"Rakendused",Installed:"Paigaldatud"},snippets:{addTitle:"Lisa katkend",editTitle:"Muuda katkendit",viewTitle:"Vaata katkendit",customCSS:"Kohandatud CSS",customCSSPlaceholder:"Paigalda Kohandatud CSS siia! Haldamiseks leiate need paigaldatud vahekaardilt.",snippetName:"Katkendi nimi",snippetNamePlaceholder:"Lisa kohandatud katkendi nimi",snippetDesc:"Katkendi kirjeldus",snippetDescPlaceholder:"Lisa kohandatud katkendi kirjeldus",snippetPreview:"Katkendi eelvaade",optional:"valikuline",addImage:"Lisa pilt",changeImage:"Muuda pilti",saveCSS:"Salvesta CSS"},reloadModal:{title:"Laadi uuesti",description:"Selle toimingu lõpuleviimiseks on vaja leht uuesti laadida.",reloadNow:"Laadige kohe uuesti",reloadLater:"Laadige hiljem uuesti"},backupModal:{title:"$t(settings.backupHeading)",settingsCopied:"Seaded kopeeriti lõikelauale",noDataPasted:"Andmeid pole kleebitud",invalidJSON:"Vale JSON",inputLabel:"Turu Seaded",inputPlaceholder:"Kopeeri/kleebi enda seaded siia",exportBtn:"Ekspordi",importBtn:"Impordi",fileImportBtn:"Impordi failist"},devTools:{title:"Teema arendustööriistad",noThemeInstalled:"Viga: Turu teemat pole installitud",noThemeManifest:"Viga: Teema manifesti ei leitud",colorIniEditor:"Color.ini redaktor",colorIniEditorPlaceholder:"[teie-värviskeemi-nimi]",invalidCSS:"Vigane CSS"},grid:{spicetifyMarketplace:"Spicetify Turg",newUpdate:"Uus värskendus",addCSS:"Lisa CSS",search:"Otsi",installed:"Paigaldatud",lastUpdated:"Viimati uuendatud {{val, datetime}}",externalJS:"väline JS",dark:"tume",light:"hele"},readmePage:{title:"$t(grid.spicetifyMarketplace) - Readme",loading:"Laadimine...",errorLoading:"Viga README laadimisel"},github:"GitHub",install:"Paigalda",remove:"Eemalda",save:"Salvesta",colour_one:"värv",colour_other:"värvid",favourite:"lemmik"}}},detection:{order:["navigator","htmlTag"]},fallbackLng:"en",interpolation:{escapeValue:!1}}),class extends ze.default.Component{constructor(e){super(e),this.state={count:0,CONFIG:{}},this.updateConfig=e=>{this.CONFIG=S({},e),console.debug("updated config",this.CONFIG),this.setState({CONFIG:S({},e)})};e=x(E.tabs,null);let t=[];try{if(t=JSON.parse(e),!Array.isArray(t))throw new Error("Could not parse marketplace tabs key");if(0===t.length)throw new Error("Empty marketplace tabs key");if(0<t.filter(e=>!e).length)throw new Error("Falsey marketplace tabs key")}catch(e){t=br,localStorage.setItem(E.tabs,JSON.stringify(t))}let r={},a=null;try{var n=x(E.themeInstalled,null);if(n){var i=x(n,null);if(!i)throw new Error("No installed theme data");r=i.schemes,a=i.activeScheme}else console.debug("No theme set as installed")}catch(e){console.error(e)}this.CONFIG={visual:{stars:JSON.parse(x("marketplace:stars",!0)),tags:JSON.parse(x("marketplace:tags",!0)),hideInstalled:JSON.parse(x("marketplace:hideInstalled",!1)),colorShift:JSON.parse(x("marketplace:colorShift",!1)),themeDevTools:JSON.parse(x("marketplace:themeDevTools",!1)),albumArtBasedColors:JSON.parse(x("marketplace:albumArtBasedColors",!1)),albumArtBasedColorsMode:x("marketplace:albumArtBasedColorsMode")||"monochrome-light",albumArtBasedColorsVibrancy:x("marketplace:albumArtBasedColorsVibrancy")||"PROMINENT",type:JSON.parse(x("marketplace:type",!1)),followers:JSON.parse(x("marketplace:followers",!1))},tabs:t,activeTab:x(E.activeTab,t[0]),theme:{activeThemeKey:x(E.themeInstalled,null),schemes:r,activeScheme:a},sort:x(E.sort,"stars")},this.CONFIG.activeTab&&this.CONFIG.tabs.filter(e=>e.name===this.CONFIG.activeTab).length||(this.CONFIG.activeTab=this.CONFIG.tabs[0].name)}render(){var e,{location:t,replace:r}=Spicetify.Platform.History;return t.pathname===yr+"/readme"?null!=(e=t.state)&&e.data?ze.default.createElement(tn,{title:g("readmePage.title"),data:t.state.data}):(r(yr),null):ze.default.createElement(en,{title:g("grid.spicetifyMarketplace"),CONFIG:this.CONFIG,updateAppConfig:this.updateConfig})}}),rn=Jt()(r),an=t(b());return Ue=He,J(i({},"__esModule",{value:!0}),Ue)})();const render=()=>marketplace.default();